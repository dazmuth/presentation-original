/*
 MIT
 jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license  @license
 Copyright c 2019 Xyleme, Inc., 700 17th Street, Suite 1950 Denver, CO. 80202 USA.
 All rights reserved.

 This file and related documentation are protected by copyright and
 are distributed under licenses regarding their use, copying, distribution,
 and decompilation. No part of this product or related documentation may
 be reproduced or transmitted in any form or by any means, electronic or
 mechanical, for any purpose, without the express written permission of
 Xyleme, Inc.
 http://mths.be/placeholder v2.0.8 by @mathias  360 degree Image Slider v2.0.4
 http://gaurav.jassal.me

 Copyright 2015, gaurav@jassal.me
 Dual licensed under the MIT or GPL Version 3 licenses.

 jQuery scrollintoview() plugin and :scrollable selector filter

 Version 1.8 (14 Jul 2011)
 Requires jQuery 1.4 or newer

 Copyright (c) 2011 Robert Koritnik
 Licensed under the terms of the MIT license
 http://www.opensource.org/licenses/mit-license.php
 Pikaday

 Copyright ? 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 Chart.js v2.8.0
 https://www.chartjs.org
 (c) 2019 Chart.js Contributors
 Released under the MIT License
 MediaElement.js
 http://www.mediaelementjs.com/

 Wrapper that mimics native HTML5 MediaElement (audio and video)
 using a variety of technologies (pure JavaScript, Flash, iframe)

 Copyright 2010-2017, John Dyer (http://j.hn/)
 License: MIT

 FastClick: polyfill to remove click delays on browsers with touch UIs.

 @codingstandard ftlabs-jsv2
 @copyright The Financial Times Limited [All Rights Reserved]
 @license MIT License (see LICENSE.txt)
 @license
 Copyright c 2022 Xyleme, Inc., 700 17th Street, Suite 1950 Denver, CO. 80202 USA.
 All rights reserved.

 This file and related documentation are protected by copyright and
 are distributed under licenses regarding their use, copying, distribution,
 and decompilation. No part of this product or related documentation may
 be reproduced or transmitted in any form or by any means, electronic or
 mechanical, for any purpose, without the express written permission of
 Xyleme, Inc.
 @license
 Copyright c 2021 Xyleme, Inc., 700 17th Street, Suite 1950 Denver, CO. 80202 USA.
 All rights reserved.

 This file and related documentation are protected by copyright and
 are distributed under licenses regarding their use, copying, distribution,
 and decompilation. No part of this product or related documentation may
 be reproduced or transmitted in any form or by any means, electronic or
 mechanical, for any purpose, without the express written permission of
 Xyleme, Inc.
*/
             var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(m){var d=0;return function(){return d<m.length?{done:!1,value:m[d++]}:{done:!0}}};$jscomp.arrayIterator=function(m){return{next:$jscomp.arrayIteratorImpl(m)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(m,d,h){if(m==Array.prototype||m==Object.prototype)return m;m[d]=h.value;return m};$jscomp.getGlobal=function(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var d=0;d<m.length;++d){var h=m[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(m,d){this.$jscomp$symbol$id_=m;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:d})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function m(h){if(this instanceof m)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(h||"")+"_"+d++,h)}var d=0;return m}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var m=$jscomp.global.Symbol.iterator;m||(m=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[m]&&$jscomp.defineProperty(Array.prototype,m,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var m=$jscomp.global.Symbol.asyncIterator;m||(m=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(m){$jscomp.initSymbolIterator();m={next:m};m[$jscomp.global.Symbol.iterator]=function(){return this};return m};
$jscomp.iteratorFromArray=function(m,d){$jscomp.initSymbolIterator();m instanceof String&&(m+="");var h=0,n={next:function(){if(h<m.length){var p=h++;return{value:d(p,m[p]),done:!1}}n.next=function(){return{done:!0,value:void 0}};return n.next()}};n[Symbol.iterator]=function(){return n};return n};$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
var $jscomp$lookupPolyfilledValue=function(m,d){var h=$jscomp.propertyToPolyfillSymbol[d];if(null==h)return m[d];h=m[h];return void 0!==h?h:m[d]};$jscomp.polyfill=function(m,d,h,n){d&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(m,d,h,n):$jscomp.polyfillUnisolated(m,d,h,n))};
$jscomp.polyfillUnisolated=function(m,d,h,n){h=$jscomp.global;m=m.split(".");for(n=0;n<m.length-1;n++){var p=m[n];p in h||(h[p]={});h=h[p]}m=m[m.length-1];n=h[m];d=d(n);d!=n&&null!=d&&$jscomp.defineProperty(h,m,{configurable:!0,writable:!0,value:d})};
$jscomp.polyfillIsolated=function(m,d,h,n){var p=m.split(".");m=1===p.length;n=p[0];n=!m&&n in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<p.length-1;q++){var t=p[q];t in n||(n[t]={});n=n[t]}p=p[p.length-1];h=$jscomp.IS_SYMBOL_NATIVE&&"es6"===h?n[p]:null;d=d(h);null!=d&&(m?$jscomp.defineProperty($jscomp.polyfills,p,{configurable:!0,writable:!0,value:d}):d!==h&&($jscomp.propertyToPolyfillSymbol[p]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(p):$jscomp.POLYFILL_PREFIX+p,p=$jscomp.propertyToPolyfillSymbol[p],
$jscomp.defineProperty(n,p,{configurable:!0,writable:!0,value:d})))};$jscomp.polyfill("Array.prototype.values",function(m){return m?m:function(){return $jscomp.iteratorFromArray(this,function(d,h){return h})}},"es8","es3");$jscomp.polyfill("Array.prototype.includes",function(m){return m?m:function(d,h){var n=this;n instanceof String&&(n=String(n));var m=n.length;h=h||0;for(0>h&&(h=Math.max(h+m,0));h<m;h++){var q=n[h];if(q===d||Object.is(q,d))return!0}return!1}},"es7","es3");
!function(m,d){"object"==typeof module&&"object"==typeof module.exports?module.exports=m.document?d(m,!0):function(h){if(!h.document)throw Error("jQuery requires a window with a document");return d(h)}:d(m)}("undefined"!=typeof window?window:this,function(m,d){function h(a){var c=!!a&&"length"in a&&a.length,e=v.type(a);return"function"===e||v.isWindow(a)?!1:"array"===e||0===c||"number"==typeof c&&0<c&&c-1 in a}function n(a,c,e){if(v.isFunction(c))return v.grep(a,function(a,f){return!!c.call(a,f,a)!==
e});if(c.nodeType)return v.grep(a,function(a){return a===c!==e});if("string"==typeof c){if(Oa.test(c))return v.filter(c,a,e);c=v.filter(c,a)}return v.grep(a,function(a){return-1<jb.call(c,a)!==e})}function p(a,c){for(;(a=a[c])&&1!==a.nodeType;);return a}function q(a){var c={};return v.each(a.match(Ga)||[],function(a,e){c[e]=!0}),c}function t(){M.removeEventListener("DOMContentLoaded",t);m.removeEventListener("load",t);v.ready()}function k(){this.expando=v.expando+k.uid++}function a(a,c,e){var f;if(void 0===
e&&1===a.nodeType)if(f="data-"+c.replace(Ja,"-$&").toLowerCase(),e=a.getAttribute(f),"string"==typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:Ab.test(e)?v.parseJSON(e):e}catch(zc){}na.set(a,c,e)}else e=void 0;return e}function f(a,c,e,f){var l,k=1,u=20,h=f?function(){return f.cur()}:function(){return v.css(a,c,"")},d=h(),n=e&&e[3]||(v.cssNumber[c]?"":"px"),ma=(v.cssNumber[c]||"px"!==n&&+d)&&wa.exec(v.css(a,c));if(ma&&ma[3]!==n){n=n||ma[3];e=e||[];ma=+d||1;do k=k||".5",ma/=
k,v.style(a,c,ma+n);while(k!==(k=h()/d)&&1!==k&&--u)}return e&&(ma=+ma||+d||0,l=e[1]?ma+(e[1]+1)*e[2]:+e[2],f&&(f.unit=n,f.start=ma,f.end=l)),l}function l(a,c){var e="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(c||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(c||"*"):[];return void 0===c||c&&v.nodeName(a,c)?v.merge([a],e):e}function c(a,c){for(var e=0,f=a.length;f>e;e++)V.set(a[e],"globalEval",!c||V.get(c[e],"globalEval"))}function e(a,e,f,k,u){for(var h,d,n,
ma,z=e.createDocumentFragment(),t=[],q=0,m=a.length;m>q;q++)if(h=a[q],h||0===h)if("object"===v.type(h))v.merge(t,h.nodeType?[h]:h);else if(Qb.test(h)){d=d||z.appendChild(e.createElement("div"));n=(xa.exec(h)||["",""])[1].toLowerCase();n=Ba[n]||Ba._default;d.innerHTML=n[1]+v.htmlPrefilter(h)+n[2];for(n=n[0];n--;)d=d.lastChild;v.merge(t,d.childNodes);d=z.firstChild;d.textContent=""}else t.push(e.createTextNode(h));z.textContent="";for(q=0;h=t[q++];)if(k&&-1<v.inArray(h,k))u&&u.push(h);else if(ma=v.contains(h.ownerDocument,
h),d=l(z.appendChild(h),"script"),ma&&c(d),f)for(n=0;h=d[n++];)qa.test(h.type||"")&&f.push(h);return z}function u(){return!0}function z(){return!1}function B(){try{return M.activeElement}catch(ma){}}function G(a,c,e,f,l,k){var u,h;if("object"==typeof c){"string"!=typeof e&&(f=f||e,e=void 0);for(h in c)G(a,h,e,f,c[h],k);return a}if(null==f&&null==l?(l=e,f=e=void 0):null==l&&("string"==typeof e?(l=f,f=void 0):(l=f,f=e,e=void 0)),!1===l)l=z;else if(!l)return a;return 1===k&&(u=l,l=function(a){return v().off(a),
u.apply(this,arguments)},l.guid=u.guid||(u.guid=v.guid++)),a.each(function(){v.event.add(this,c,l,f,e)})}function x(a,c){return v.nodeName(a,"table")&&v.nodeName(11!==c.nodeType?c:c.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function I(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function H(a){var c=ca.exec(a.type);return c?a.type=c[1]:a.removeAttribute("type"),a}function A(a,c){var e,f,l,k,u,h;if(1===c.nodeType){if(V.hasData(a)&&
(e=V.access(a),f=V.set(c,e),h=e.events))for(l in delete f.handle,f.events={},h)for(e=0,f=h[l].length;f>e;e++)v.event.add(c,l,h[l][e]);na.hasData(a)&&(k=na.access(a),u=v.extend({},k),na.set(c,u))}}function D(a,c,f,k){c=Va.apply([],c);var u,h,d,n=0,ma=a.length,z=ma-1,t=c[0],q=v.isFunction(t);if(q||1<ma&&"string"==typeof t&&!fa.checkClone&&bb.test(t))return a.each(function(e){var l=a.eq(e);q&&(c[0]=t.call(this,e,l.html()));D(l,c,f,k)});if(ma&&(u=e(c,a[0].ownerDocument,!1,a,k),h=u.firstChild,1===u.childNodes.length&&
(u=h),h||k)){h=v.map(l(u,"script"),I);for(d=h.length;ma>n;n++){var m=u;n!==z&&(m=v.clone(m,!0,!0),d&&v.merge(h,l(m,"script")));f.call(a[n],m,n)}if(d)for(u=h[h.length-1].ownerDocument,v.map(h,H),n=0;d>n;n++)m=h[n],qa.test(m.type||"")&&!V.access(m,"globalEval")&&v.contains(u,m)&&(m.src?v._evalUrl&&v._evalUrl(m.src):v.globalEval(m.textContent.replace(Wa,"")))}return a}function C(a,e,f){for(var k=e?v.filter(e,a):a,u=0;null!=(e=k[u]);u++)f||1!==e.nodeType||v.cleanData(l(e)),e.parentNode&&(f&&v.contains(e.ownerDocument,
e)&&c(l(e,"script")),e.parentNode.removeChild(e));return a}function F(a,c){a=v(c.createElement(a)).appendTo(c.body);c=v.css(a[0],"display");return a.detach(),c}function E(a){var c=M,e=Wb[a];return e||(e=F(a,c),"none"!==e&&e||(ya=(ya||v("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=ya[0].contentDocument,c.write(),c.close(),e=F(a,c),ya.detach()),Wb[a]=e),e}function K(a,c,e){var f,l,k,u,h=a.style;return e=e||Bb(a),u=e?e.getPropertyValue(c)||e[c]:void 0,""!==u&&void 0!==
u||v.contains(a.ownerDocument,a)||(u=v.style(a,c)),e&&!fa.pixelMarginRight()&&Ib.test(u)&&Ka.test(c)&&(f=h.width,l=h.minWidth,k=h.maxWidth,h.minWidth=h.maxWidth=h.width=u,u=e.width,h.width=f,h.minWidth=l,h.maxWidth=k),void 0!==u?u+"":u}function N(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function Y(a){if(a in Jb)return a;for(var c=a[0].toUpperCase()+a.slice(1),e=O.length;e--;)if(a=O[e]+c,a in Jb)return a}function P(a,c,e){return(a=wa.exec(c))?
Math.max(0,a[2]-(e||0))+(a[3]||"px"):c}function W(a,c,e,f,l){c=e===(f?"border":"content")?4:"width"===c?1:0;for(var k=0;4>c;c+=2)"margin"===e&&(k+=v.css(a,e+Da[c],!0,l)),f?("content"===e&&(k-=v.css(a,"padding"+Da[c],!0,l)),"margin"!==e&&(k-=v.css(a,"border"+Da[c]+"Width",!0,l))):(k+=v.css(a,"padding"+Da[c],!0,l),"padding"!==e&&(k+=v.css(a,"border"+Da[c]+"Width",!0,l)));return k}function ha(a,c,e){var f=!0,l="width"===c?a.offsetWidth:a.offsetHeight,k=Bb(a),u="border-box"===v.css(a,"boxSizing",!1,k);
if(0>=l||null==l){if(l=K(a,c,k),(0>l||null==l)&&(l=a.style[c]),Ib.test(l))return l;f=u&&(fa.boxSizingReliable()||l===a.style[c]);l=parseFloat(l)||0}return l+W(a,c,e||(u?"border":"content"),f,k)+"px"}function ja(a,c){for(var e,f,l,k=[],u=0,h=a.length;h>u;u++)f=a[u],f.style&&(k[u]=V.get(f,"olddisplay"),e=f.style.display,c?(k[u]||"none"!==e||(f.style.display=""),""===f.style.display&&Ya(f)&&(k[u]=V.access(f,"olddisplay",E(f.nodeName)))):(l=Ya(f),"none"===e&&l||V.set(f,"olddisplay",l?e:v.css(f,"display"))));
for(u=0;h>u;u++)f=a[u],f.style&&(c&&"none"!==f.style.display&&""!==f.style.display||(f.style.display=c?k[u]||"":"none"));return a}function ba(a,c,e,f,l){return new ba.prototype.init(a,c,e,f,l)}function Z(){return m.setTimeout(function(){y=void 0}),y=v.now()}function R(a,c){var e=0,f={height:a};for(c=c?1:0;4>e;e+=2-c){var l=Da[e];f["margin"+l]=f["padding"+l]=a}return c&&(f.opacity=f.width=a),f}function cb(a,c,e){for(var f,l=(S.tweeners[c]||[]).concat(S.tweeners["*"]),k=0,u=l.length;u>k;k++)if(f=l[k].call(e,
c,a))return f}function Qa(a,c){var e,f,l,k,u;for(e in a)if(f=v.camelCase(e),l=c[f],k=a[e],v.isArray(k)&&(l=k[1],k=a[e]=k[0]),e!==f&&(a[f]=k,delete a[e]),u=v.cssHooks[f],u&&"expand"in u)for(e in k=u.expand(k),delete a[f],k)e in a||(a[e]=k[e],c[e]=l);else c[f]=l}function S(a,c,e){var f,l=0,k=S.prefilters.length,u=v.Deferred().always(function(){delete h.elem}),h=function(){if(f)return!1;var c=y||Z();c=Math.max(0,d.startTime+d.duration-c);for(var e=1-(c/d.duration||0),l=0,k=d.tweens.length;k>l;l++)d.tweens[l].run(e);
return u.notifyWith(a,[d,e,c]),1>e&&k?c:(u.resolveWith(a,[d]),!1)},d=u.promise({elem:a,props:v.extend({},c),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},e),originalProperties:c,originalOptions:e,startTime:y||Z(),duration:e.duration,tweens:[],createTween:function(c,e){c=v.Tween(a,d.opts,c,e,d.opts.specialEasing[c]||d.opts.easing);return d.tweens.push(c),c},stop:function(c){var e=0,l=c?d.tweens.length:0;if(f)return this;for(f=!0;l>e;e++)d.tweens[e].run(1);return c?(u.notifyWith(a,[d,
1,0]),u.resolveWith(a,[d,c])):u.rejectWith(a,[d,c]),this}});e=d.props;for(Qa(e,d.opts.specialEasing);k>l;l++)if(c=S.prefilters[l].call(d,a,e,d.opts))return v.isFunction(c.stop)&&(v._queueHooks(d.elem,d.opts.queue).stop=v.proxy(c.stop,c)),c;return v.map(e,cb,d),v.isFunction(d.opts.start)&&d.opts.start.call(a,d),v.fx.timer(v.extend(h,{elem:a,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function U(a){return a.getAttribute&&
a.getAttribute("class")||""}function da(a){return function(c,e){"string"!=typeof c&&(e=c,c="*");var f=0,l=c.toLowerCase().match(Ga)||[];if(v.isFunction(e))for(;c=l[f++];)"+"===c[0]?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(e)):(a[c]=a[c]||[]).push(e)}}function Cb(a,c,e,f){function l(h){var d;return k[h]=!0,v.each(a[h]||[],function(a,h){a=h(c,e,f);return"string"!=typeof a||u||k[a]?u?!(d=a):void 0:(c.dataTypes.unshift(a),l(a),!1)}),d}var k={},u=a===vb;return l(c.dataTypes[0])||!k["*"]&&l("*")}function La(a,
c){var e,f,l=v.ajaxSettings.flatOptions||{};for(e in c)void 0!==c[e]&&((l[e]?a:f||(f={}))[e]=c[e]);return f&&v.extend(!0,a,f),a}function Pa(a,c,e,f){var l;if(v.isArray(c))v.each(c,function(c,l){e||za.test(a)?f(a,l):Pa(a+"["+("object"==typeof l&&null!=l?c:"")+"]",l,e,f)});else if(e||"object"!==v.type(c))f(a,c);else for(l in c)Pa(a+"["+l+"]",c[l],e,f)}function db(a){return v.isWindow(a)?a:9===a.nodeType&&a.defaultView}var oa=[],M=m.document,Ra=oa.slice,Va=oa.concat,Sa=oa.push,jb=oa.indexOf,va={},Kb=
va.toString,pb=va.hasOwnProperty,fa={},v=function(a,c){return new v.fn.init(a,c)},Db=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Xb=/^-ms-/,Yb=/-([\da-z])/gi,mb=function(a,c){return c.toUpperCase()};v.fn=v.prototype={jquery:"2.2.4",constructor:v,selector:"",length:0,toArray:function(){return Ra.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Ra.call(this)},pushStack:function(a){a=v.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return v.each(this,
a)},map:function(a){return this.pushStack(v.map(this,function(c,e){return a.call(c,e,c)}))},slice:function(){return this.pushStack(Ra.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Sa,sort:oa.sort,splice:oa.splice};v.extend=v.fn.extend=function(){var a,c,e,f,l=arguments[0]||{},k=1,u=arguments.length,
h=!1;"boolean"==typeof l&&(h=l,l=arguments[k]||{},k++);"object"==typeof l||v.isFunction(l)||(l={});for(k===u&&(l=this,k--);u>k;k++)if(null!=(a=arguments[k]))for(c in a){var d=l[c];var n=a[c];l!==n&&(h&&n&&(v.isPlainObject(n)||(e=v.isArray(n)))?(e?(e=!1,f=d&&v.isArray(d)?d:[]):f=d&&v.isPlainObject(d)?d:{},l[c]=v.extend(h,f,n)):void 0!==n&&(l[c]=n))}return l};v.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===
v.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var c=a&&a.toString();return!v.isArray(a)&&0<=c-parseFloat(c)+1},isPlainObject:function(a){var c;if("object"!==v.type(a)||a.nodeType||v.isWindow(a)||a.constructor&&!pb.call(a,"constructor")&&!pb.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(c in a);return void 0===c||pb.call(a,c)},isEmptyObject:function(a){for(var c in a)return!1;return!0},type:function(a){return null==a?a+"":
"object"==typeof a||"function"==typeof a?va[Kb.call(a)]||"object":typeof a},globalEval:function(a){var c,e=eval;(a=v.trim(a))&&(1===a.indexOf("use strict")?(c=M.createElement("script"),c.text=a,M.head.appendChild(c).parentNode.removeChild(c)):e(a))},camelCase:function(a){return a.replace(Xb,"ms-").replace(Yb,mb)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var e,f=0;if(h(a))for(e=a.length;e>f&&!1!==c.call(a[f],f,a[f]);f++);else for(f in a)if(!1===
c.call(a[f],f,a[f]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Db,"")},makeArray:function(a,c){c=c||[];return null!=a&&(h(Object(a))?v.merge(c,"string"==typeof a?[a]:a):Sa.call(c,a)),c},inArray:function(a,c,e){return null==c?-1:jb.call(c,a,e)},merge:function(a,c){for(var e=+c.length,f=0,l=a.length;e>f;f++)a[l++]=c[f];return a.length=l,a},grep:function(a,c,e){for(var f=[],l=0,k=a.length,u=!e;k>l;l++)e=!c(a[l],l),e!==u&&f.push(a[l]);return f},map:function(a,c,e){var f,l=0,k=[];
if(h(a))for(f=a.length;f>l;l++){var u=c(a[l],l,e);null!=u&&k.push(u)}else for(l in a)u=c(a[l],l,e),null!=u&&k.push(u);return Va.apply([],k)},guid:1,proxy:function(a,c){var e,f,l;return"string"==typeof c&&(e=a[c],c=a,a=e),v.isFunction(a)?(f=Ra.call(arguments,2),l=function(){return a.apply(c||this,f.concat(Ra.call(arguments)))},l.guid=a.guid=a.guid||v.guid++,l):void 0},now:Date.now,support:fa});"function"==typeof Symbol&&(v.fn[Symbol.iterator]=oa[Symbol.iterator]);v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(a,c){va["[object "+c+"]"]=c.toLowerCase()});var ra=function(a){function c(a,c,e,f){var J,l,k,u,h=c&&c.ownerDocument,Q=c?c.nodeType:9;if(e=e||[],"string"!=typeof a||!a||1!==Q&&9!==Q&&11!==Q)return e;if(!f&&((c?c.ownerDocument||c:ia)!==v&&oa(c),c=c||v,D)){if(11!==Q&&(u=Wc.exec(a)))if(J=u[1])if(9===Q){if(!(l=c.getElementById(J)))return e;if(l.id===J)return e.push(l),e}else{if(h&&(l=h.getElementById(J))&&sa(c,l)&&l.id===J)return e.push(l),e}else{if(u[2])return P.apply(e,c.getElementsByTagName(a)),
e;if((J=u[3])&&Ha.getElementsByClassName&&c.getElementsByClassName)return P.apply(e,c.getElementsByClassName(J)),e}if(!(!Ha.qsa||zb[a+" "]||da&&da.test(a))){if(1!==Q){h=c;var d=a}else if("object"!==c.nodeName.toLowerCase()){(k=c.getAttribute("id"))?k=k.replace(Xc,"\\$&"):c.setAttribute("id",k=S);u=ba(a);J=u.length;for(l=w.test(k)?"#"+k:"[id='"+k+"']";J--;)u[J]=l+" "+q(u[J]);d=u.join(",");h=Cc.test(a)&&z(c.parentNode)||c}if(d)try{return P.apply(e,h.querySelectorAll(d)),e}catch(id){}finally{k===S&&
c.removeAttribute("id")}}}return U(a.replace(Pb,"$1"),c,e,f)}function e(){function w(c,e){return a.push(c+" ")>M.cacheLength&&delete w[a.shift()],w[c+" "]=e}var a=[];return w}function f(w){return w[S]=!0,w}function l(w){var a=v.createElement("div");try{return!!w(a)}catch(gd){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function k(w,a){w=w.split("|");for(var c=w.length;c--;)M.attrHandle[w[c]]=a}function u(w,a){var c=a&&w,e=c&&1===w.nodeType&&1===a.nodeType&&(~a.sourceIndex||-2147483648)-
(~w.sourceIndex||-2147483648);if(e)return e;if(c)for(;c=c.nextSibling;)if(c===a)return-1;return w?1:-1}function h(w){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===w}}function d(w){return function(a){var c=a.nodeName.toLowerCase();return("input"===c||"button"===c)&&a.type===w}}function n(w){return f(function(a){return a=+a,f(function(c,e){for(var f,J=w([],c.length,a),l=J.length;l--;)c[f=J[l]]&&(c[f]=!(e[f]=c[f]))})})}function z(w){return w&&"undefined"!=typeof w.getElementsByTagName&&
w}function t(){}function q(w){for(var a=0,c=w.length,e="";c>a;a++)e+=w[a].value;return e}function m(w,a,c){var e=a.dir,f=c&&"parentNode"===e,J=N++;return a.first?function(a,c,J){for(;a=a[e];)if(1===a.nodeType||f)return w(a,c,J)}:function(a,c,l){var k,u,h,Q=[K,J];if(l)for(;a=a[e];){if((1===a.nodeType||f)&&w(a,c,l))return!0}else for(;a=a[e];)if(1===a.nodeType||f){if(h=a[S]||(a[S]={}),u=h[a.uniqueID]||(h[a.uniqueID]={}),(k=u[e])&&k[0]===K&&k[1]===J)return Q[2]=k[2];if(u[e]=Q,Q[2]=w(a,c,l))return!0}}}
function p(w){return 1<w.length?function(a,c,e){for(var f=w.length;f--;)if(!w[f](a,c,e))return!1;return!0}:w[0]}function ma(w,a,c,e,f){for(var J,l=[],k=0,u=w.length,h=null!=a;u>k;k++)(J=w[k])&&(c&&!c(J,e,f)||(l.push(J),h&&a.push(k)));return l}function B(w,a,e,J,l,k){return J&&!J[S]&&(J=B(J)),l&&!l[S]&&(l=B(l,k)),f(function(f,k,u,h){var Q,d=[],n=[],z=k.length,t;if(!(t=f)){t=a||"*";for(var q=u.nodeType?[u]:u,m=[],p=0,Sb=q.length;Sb>p;p++)c(t,q[p],m);t=m}t=!w||!f&&a?t:ma(t,d,w,u,h);q=e?l||(f?w:z||J)?
[]:k:t;if(e&&e(t,q,u,h),J){var B=ma(q,n);J(B,[],u,h);for(u=B.length;u--;)(Q=B[u])&&(q[n[u]]=!(t[n[u]]=Q))}if(f){if(l||w){if(l){B=[];for(u=q.length;u--;)(Q=q[u])&&B.push(t[u]=Q);l(null,q=[],B,h)}for(u=q.length;u--;)(Q=q[u])&&-1<(B=l?Pa(f,Q):d[u])&&(f[B]=!(k[B]=Q))}}else q=ma(q===k?q.splice(z,q.length):q),l?l(null,k,q,h):P.apply(k,q)})}function A(w){var a,c,e=w.length,f=M.relative[w[0].type];var J=f||M.relative[" "];for(var l=f?1:0,k=m(function(w){return w===a},J,!0),u=m(function(w){return-1<Pa(a,w)},
J,!0),h=[function(w,c,e){w=!f&&(e||c!==E)||((a=c).nodeType?k(w,c,e):u(w,c,e));return a=null,w}];e>l;l++)if(J=M.relative[w[l].type])h=[m(p(h),J)];else{if(J=M.filter[w[l].type].apply(null,w[l].matches),J[S]){for(c=++l;e>c&&!M.relative[w[c].type];c++);return B(1<l&&p(h),1<l&&q(w.slice(0,l-1).concat({value:" "===w[l-2].type?"*":""})).replace(Pb,"$1"),J,c>l&&A(w.slice(l,c)),e>c&&A(w=w.slice(c)),e>c&&q(w))}h.push(J)}return p(h)}function x(w,a){var e=0<a.length,J=0<w.length,l=function(f,l,k,u,h){var Q,d,
n=0,z="0",t=f&&[],q=[],m=E,p=f||J&&M.find.TAG("*",h),Sb=K+=null==m?1:Math.random()||.1,B=p.length;for(h&&(E=l===v||l||h);z!==B&&null!=(Q=p[z]);z++){if(J&&Q){var A=0;for(l||Q.ownerDocument===v||(oa(Q),k=!D);d=w[A++];)if(d(Q,l||v,k)){u.push(Q);break}h&&(K=Sb)}e&&((Q=!d&&Q)&&n--,f&&t.push(Q))}if(n+=z,e&&z!==n){for(A=0;d=a[A++];)d(t,q,l,k);if(f){if(0<n)for(;z--;)t[z]||q[z]||(q[z]=ab.call(u));q=ma(q)}P.apply(u,q);h&&!f&&0<q.length&&1<n+a.length&&c.uniqueSort(u)}return h&&(K=Sb,E=m),t};return e?f(l):l}
var G,I,U,E,C,za,v,H,D,da,ea,F,sa,S="sizzle"+1*new Date,ia=a.document,K=0,N=0,Cb=e(),Y=e(),zb=e(),y=function(w,a){return w===a&&(za=!0),0},Na={}.hasOwnProperty,La=[],ab=La.pop,ob=La.push,P=La.push,$b=La.slice,Pa=function(w,a){for(var c=0,e=w.length;e>c;c++)if(w[c]===a)return c;return-1},W=/[\x20\t\r\n\f]+/g,Pb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,db=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ha=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,lb=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,
ja=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,w=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,J={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,
PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,
needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Q=/^(?:input|select|textarea|button)$/i,Sb=/^h\d$/i,Tb=/^[^{]+\{\s*\[native \w/,Wc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Cc=/[+~]/,Xc=/'|\\/g,cc=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,dc=function(w,a,c){w="0x"+a-65536;return w!==w||c?a:0>w?String.fromCharCode(w+65536):String.fromCharCode(w>>10|55296,1023&w|56320)},Tc=function(){oa()};try{P.apply(La=
$b.call(ia.childNodes),ia.childNodes),La[ia.childNodes.length].nodeType}catch(fd){P={apply:La.length?function(w,a){ob.apply(w,$b.call(a))}:function(w,a){for(var c=w.length,e=0;w[c++]=a[e++];);w.length=c-1}}}var Ha=c.support={};var ed=c.isXML=function(w){return(w=w&&(w.ownerDocument||w).documentElement)?"HTML"!==w.nodeName:!1};var oa=c.setDocument=function(w){var a,c;w=w?w.ownerDocument||w:ia;return w!==v&&9===w.nodeType&&w.documentElement?(v=w,H=v.documentElement,D=!ed(v),(c=v.defaultView)&&c.top!==
c&&(c.addEventListener?c.addEventListener("unload",Tc,!1):c.attachEvent&&c.attachEvent("onunload",Tc)),Ha.attributes=l(function(w){return w.className="i",!w.getAttribute("className")}),Ha.getElementsByTagName=l(function(w){return w.appendChild(v.createComment("")),!w.getElementsByTagName("*").length}),Ha.getElementsByClassName=Tb.test(v.getElementsByClassName),Ha.getById=l(function(w){return H.appendChild(w).id=S,!v.getElementsByName||!v.getElementsByName(S).length}),Ha.getById?(M.find.ID=function(w,
a){if("undefined"!=typeof a.getElementById&&D)return(w=a.getElementById(w))?[w]:[]},M.filter.ID=function(w){var a=w.replace(cc,dc);return function(w){return w.getAttribute("id")===a}}):(delete M.find.ID,M.filter.ID=function(w){var a=w.replace(cc,dc);return function(w){return(w="undefined"!=typeof w.getAttributeNode&&w.getAttributeNode("id"))&&w.value===a}}),M.find.TAG=Ha.getElementsByTagName?function(w,a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(w):Ha.qsa?a.querySelectorAll(w):
void 0}:function(w,a){var c=[],e=0;a=a.getElementsByTagName(w);if("*"===w){for(;w=a[e++];)1===w.nodeType&&c.push(w);return c}return a},M.find.CLASS=Ha.getElementsByClassName&&function(w,a){return"undefined"!=typeof a.getElementsByClassName&&D?a.getElementsByClassName(w):void 0},ea=[],da=[],(Ha.qsa=Tb.test(v.querySelectorAll))&&(l(function(w){H.appendChild(w).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>";w.querySelectorAll("[msallowcapture^='']").length&&
da.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");w.querySelectorAll("[selected]").length||da.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");w.querySelectorAll("[id~="+S+"-]").length||da.push("~=");w.querySelectorAll(":checked").length||da.push(":checked");w.querySelectorAll("a#"+S+"+*").length||da.push(".#.+[+~]")}),l(function(w){var a=v.createElement("input");a.setAttribute("type",
"hidden");w.appendChild(a).setAttribute("name","D");w.querySelectorAll("[name=d]").length&&da.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");w.querySelectorAll(":enabled").length||da.push(":enabled",":disabled");w.querySelectorAll("*,:x");da.push(",.*:")})),(Ha.matchesSelector=Tb.test(F=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&l(function(w){Ha.disconnectedMatch=F.call(w,"div");F.call(w,"[s!='']:x");ea.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
da=da.length&&new RegExp(da.join("|")),ea=ea.length&&new RegExp(ea.join("|")),a=Tb.test(H.compareDocumentPosition),sa=a||Tb.test(H.contains)?function(w,a){var c=9===w.nodeType?w.documentElement:w;a=a&&a.parentNode;return w===a||!(!a||1!==a.nodeType||!(c.contains?c.contains(a):w.compareDocumentPosition&&16&w.compareDocumentPosition(a)))}:function(w,a){if(a)for(;a=a.parentNode;)if(a===w)return!0;return!1},y=a?function(w,a){if(w===a)return za=!0,0;var c=!w.compareDocumentPosition-!a.compareDocumentPosition;
return c?c:(c=(w.ownerDocument||w)===(a.ownerDocument||a)?w.compareDocumentPosition(a):1,1&c||!Ha.sortDetached&&a.compareDocumentPosition(w)===c?w===v||w.ownerDocument===ia&&sa(ia,w)?-1:a===v||a.ownerDocument===ia&&sa(ia,a)?1:C?Pa(C,w)-Pa(C,a):0:4&c?-1:1)}:function(w,a){if(w===a)return za=!0,0;var c=0,e=w.parentNode,f=a.parentNode,J=[w],l=[a];if(!e||!f)return w===v?-1:a===v?1:e?-1:f?1:C?Pa(C,w)-Pa(C,a):0;if(e===f)return u(w,a);for(;w=w.parentNode;)J.unshift(w);for(w=a;w=w.parentNode;)l.unshift(w);
for(;J[c]===l[c];)c++;return c?u(J[c],l[c]):J[c]===ia?-1:l[c]===ia?1:0},v):v};c.matches=function(w,a){return c(w,null,null,a)};c.matchesSelector=function(w,a){if((w.ownerDocument||w)!==v&&oa(w),a=a.replace(lb,"='$1']"),!(!Ha.matchesSelector||!D||zb[a+" "]||ea&&ea.test(a)||da&&da.test(a)))try{var e=F.call(w,a);if(e||Ha.disconnectedMatch||w.document&&11!==w.document.nodeType)return e}catch(hd){}return 0<c(a,v,null,[w]).length};c.contains=function(w,a){return(w.ownerDocument||w)!==v&&oa(w),sa(w,a)};
c.attr=function(w,a){(w.ownerDocument||w)!==v&&oa(w);var c=M.attrHandle[a.toLowerCase()];c=c&&Na.call(M.attrHandle,a.toLowerCase())?c(w,a,!D):void 0;return void 0!==c?c:Ha.attributes||!D?w.getAttribute(a):(c=w.getAttributeNode(a))&&c.specified?c.value:null};c.error=function(w){throw Error("Syntax error, unrecognized expression: "+w);};c.uniqueSort=function(w){var a,c=[],e=0,f=0;if(za=!Ha.detectDuplicates,C=!Ha.sortStable&&w.slice(0),w.sort(y),za){for(;a=w[f++];)a===w[f]&&(e=c.push(f));for(;e--;)w.splice(c[e],
1)}return C=null,w};var R=c.getText=function(w){var a,c="",e=0;if(a=w.nodeType)if(1===a||9===a||11===a){if("string"==typeof w.textContent)return w.textContent;for(w=w.firstChild;w;w=w.nextSibling)c+=R(w)}else{if(3===a||4===a)return w.nodeValue}else for(;a=w[e++];)c+=R(a);return c};var M=c.selectors={cacheLength:50,createPseudo:f,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(w){return w[1]=
w[1].replace(cc,dc),w[3]=(w[3]||w[4]||w[5]||"").replace(cc,dc),"~="===w[2]&&(w[3]=" "+w[3]+" "),w.slice(0,4)},CHILD:function(w){return w[1]=w[1].toLowerCase(),"nth"===w[1].slice(0,3)?(w[3]||c.error(w[0]),w[4]=+(w[4]?w[5]+(w[6]||1):2*("even"===w[3]||"odd"===w[3])),w[5]=+(w[7]+w[8]||"odd"===w[3])):w[3]&&c.error(w[0]),w},PSEUDO:function(w){var a,c=!w[6]&&w[2];return J.CHILD.test(w[0])?null:(w[3]?w[2]=w[4]||w[5]||"":c&&ja.test(c)&&(a=ba(c,!0))&&(a=c.indexOf(")",c.length-a)-c.length)&&(w[0]=w[0].slice(0,
a),w[2]=c.slice(0,a)),w.slice(0,3))}},filter:{TAG:function(w){var a=w.replace(cc,dc).toLowerCase();return"*"===w?function(){return!0}:function(w){return w.nodeName&&w.nodeName.toLowerCase()===a}},CLASS:function(w){var a=Cb[w+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+w+"([\\x20\\t\\r\\n\\f]|$)"),Cb(w,function(w){return a.test("string"==typeof w.className&&w.className||"undefined"!=typeof w.getAttribute&&w.getAttribute("class")||"")}))},ATTR:function(w,a,e){return function(f){f=c.attr(f,
w);return null==f?"!="===a:a?(f+="","="===a?f===e:"!="===a?f!==e:"^="===a?e&&0===f.indexOf(e):"*="===a?e&&-1<f.indexOf(e):"$="===a?e&&f.slice(-e.length)===e:"~="===a?-1<(" "+f.replace(W," ")+" ").indexOf(e):"|="===a?f===e||f.slice(0,e.length+1)===e+"-":!1):!0}},CHILD:function(w,a,c,e,f){var J="nth"!==w.slice(0,3),l="last"!==w.slice(-4),k="of-type"===a;return 1===e&&0===f?function(w){return!!w.parentNode}:function(a,c,u){var h,Q;c=J!==l?"nextSibling":"previousSibling";var d=a.parentNode,n=k&&a.nodeName.toLowerCase();
u=!u&&!k;var z=!1;if(d){if(J){for(;c;){for(h=a;h=h[c];)if(k?h.nodeName.toLowerCase()===n:1===h.nodeType)return!1;var t=c="only"===w&&!t&&"nextSibling"}return!0}if(t=[l?d.firstChild:d.lastChild],l&&u){h=d;var q=h[S]||(h[S]={});var m=q[h.uniqueID]||(q[h.uniqueID]={});var p=m[w]||[];z=(Q=p[0]===K&&p[1])&&p[2];for(h=Q&&d.childNodes[Q];h=++Q&&h&&h[c]||(z=Q=0)||t.pop();)if(1===h.nodeType&&++z&&h===a){m[w]=[K,Q,z];break}}else if(u&&(h=a,q=h[S]||(h[S]={}),m=q[h.uniqueID]||(q[h.uniqueID]={}),p=m[w]||[],Q=
p[0]===K&&p[1],z=Q),!1===z)for(;(h=++Q&&h&&h[c]||(z=Q=0)||t.pop())&&((k?h.nodeName.toLowerCase()!==n:1!==h.nodeType)||!++z||(u&&(q=h[S]||(h[S]={}),m=q[h.uniqueID]||(q[h.uniqueID]={}),m[w]=[K,z]),h!==a)););return z-=f,z===e||0===z%e&&0<=z/e}}},PSEUDO:function(w,a){var e,J=M.pseudos[w]||M.setFilters[w.toLowerCase()]||c.error("unsupported pseudo: "+w);return J[S]?J(a):1<J.length?(e=[w,w,"",a],M.setFilters.hasOwnProperty(w.toLowerCase())?f(function(w,c){for(var e,f=J(w,a),l=f.length;l--;)e=Pa(w,f[l]),
w[e]=!(c[e]=f[l])}):function(w){return J(w,0,e)}):J}},pseudos:{not:f(function(w){var a=[],c=[],e=I(w.replace(Pb,"$1"));return e[S]?f(function(w,a,c,f){var J;c=e(w,null,f,[]);for(f=w.length;f--;)(J=c[f])&&(w[f]=!(a[f]=J))}):function(w,f,J){return a[0]=w,e(a,null,J,c),a[0]=null,!c.pop()}}),has:f(function(w){return function(a){return 0<c(w,a).length}}),contains:f(function(w){return w=w.replace(cc,dc),function(a){return-1<(a.textContent||a.innerText||R(a)).indexOf(w)}}),lang:f(function(a){return w.test(a||
"")||c.error("unsupported lang: "+a),a=a.replace(cc,dc).toLowerCase(),function(w){var c;do if(c=D?w.lang:w.getAttribute("xml:lang")||w.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((w=w.parentNode)&&1===w.nodeType);return!1}}),target:function(w){var c=a.location&&a.location.hash;return c&&c.slice(1)===w.id},root:function(w){return w===H},focus:function(w){return w===v.activeElement&&(!v.hasFocus||v.hasFocus())&&!!(w.type||w.href||~w.tabIndex)},enabled:function(w){return!1===
w.disabled},disabled:function(w){return!0===w.disabled},checked:function(w){var a=w.nodeName.toLowerCase();return"input"===a&&!!w.checked||"option"===a&&!!w.selected},selected:function(w){return w.parentNode&&w.parentNode.selectedIndex,!0===w.selected},empty:function(w){for(w=w.firstChild;w;w=w.nextSibling)if(6>w.nodeType)return!1;return!0},parent:function(w){return!M.pseudos.empty(w)},header:function(w){return Sb.test(w.nodeName)},input:function(w){return Q.test(w.nodeName)},button:function(w){var a=
w.nodeName.toLowerCase();return"input"===a&&"button"===w.type||"button"===a},text:function(w){var a;return"input"===w.nodeName.toLowerCase()&&"text"===w.type&&(null==(a=w.getAttribute("type"))||"text"===a.toLowerCase())},first:n(function(){return[0]}),last:n(function(w,a){return[a-1]}),eq:n(function(w,a,c){return[0>c?c+a:c]}),even:n(function(w,a){for(var c=0;a>c;c+=2)w.push(c);return w}),odd:n(function(w,a){for(var c=1;a>c;c+=2)w.push(c);return w}),lt:n(function(w,a,c){for(a=0>c?c+a:c;0<=--a;)w.push(a);
return w}),gt:n(function(w,a,c){for(c=0>c?c+a:c;++c<a;)w.push(c);return w})}};M.pseudos.nth=M.pseudos.eq;for(G in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[G]=h(G);for(G in{submit:!0,reset:!0})M.pseudos[G]=d(G);t.prototype=M.filters=M.pseudos;M.setFilters=new t;var ba=c.tokenize=function(w,a){var e,f,l,k,u;if(k=Y[w+" "])return a?0:k.slice(0);k=w;var h=[];for(u=M.preFilter;k;){Q&&!(e=db.exec(k))||(e&&(k=k.slice(e[0].length)||k),h.push(f=[]));var Q=!1;(e=ha.exec(k))&&(Q=e.shift(),
f.push({value:Q,type:e[0].replace(Pb," ")}),k=k.slice(Q.length));for(l in M.filter)!(e=J[l].exec(k))||u[l]&&!(e=u[l](e))||(Q=e.shift(),f.push({value:Q,type:l,matches:e}),k=k.slice(Q.length));if(!Q)break}return a?k.length:k?c.error(w):Y(w,h).slice(0)};return I=c.compile=function(w,a){var c,e=[],f=[],J=zb[w+" "];if(!J){a||(a=ba(w));for(c=a.length;c--;)J=A(a[c]),J[S]?e.push(J):f.push(J);J=zb(w,x(f,e));J.selector=w}return J},U=c.select=function(w,a,c,e){var f,l,k,u,h,Q="function"==typeof w&&w,d=!e&&ba(w=
Q.selector||w);if(c=c||[],1===d.length){if(l=d[0]=d[0].slice(0),2<l.length&&"ID"===(k=l[0]).type&&Ha.getById&&9===a.nodeType&&D&&M.relative[l[1].type]){if(a=(M.find.ID(k.matches[0].replace(cc,dc),a)||[])[0],!a)return c;Q&&(a=a.parentNode);w=w.slice(l.shift().value.length)}for(f=J.needsContext.test(w)?0:l.length;f--&&(k=l[f],!M.relative[u=k.type]);)if((h=M.find[u])&&(e=h(k.matches[0].replace(cc,dc),Cc.test(l[0].type)&&z(a.parentNode)||a))){if(l.splice(f,1),w=e.length&&q(l),!w)return P.apply(c,e),c;
break}}return(Q||I(w,d))(e,a,!D,c,!a||Cc.test(w)&&z(a.parentNode)||a),c},Ha.sortStable=S.split("").sort(y).join("")===S,Ha.detectDuplicates=!!za,oa(),Ha.sortDetached=l(function(w){return 1&w.compareDocumentPosition(v.createElement("div"))}),l(function(w){return w.innerHTML="<a href='#'></a>","#"===w.firstChild.getAttribute("href")})||k("type|href|height|width",function(w,a,c){return c?void 0:w.getAttribute(a,"type"===a.toLowerCase()?1:2)}),Ha.attributes&&l(function(w){return w.innerHTML="<input/>",
w.firstChild.setAttribute("value",""),""===w.firstChild.getAttribute("value")})||k("value",function(w,a,c){return c||"input"!==w.nodeName.toLowerCase()?void 0:w.defaultValue}),l(function(w){return null==w.getAttribute("disabled")})||k("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(w,a,c){var e;return c?void 0:!0===w[a]?a.toLowerCase():(e=w.getAttributeNode(a))&&e.specified?e.value:null}),c}(m);v.find=ra;v.expr=
ra.selectors;v.expr[":"]=v.expr.pseudos;v.uniqueSort=v.unique=ra.uniqueSort;v.text=ra.getText;v.isXMLDoc=ra.isXML;v.contains=ra.contains;var Xa=function(a,c,e){for(var f=[],l=void 0!==e;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(l&&v(a).is(e))break;f.push(a)}return f},Ub=function(a,c){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&e.push(a);return e},qb=v.expr.match.needsContext,ec=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Oa=/^.[^:#\[\.,]*$/;v.filter=function(a,c,e){var f=c[0];return e&&(a=":not("+
a+")"),1===c.length&&1===f.nodeType?v.find.matchesSelector(f,a)?[f]:[]:v.find.matches(a,v.grep(c,function(a){return 1===a.nodeType}))};v.fn.extend({find:function(a){var c,e=this.length,f=[],l=this;if("string"!=typeof a)return this.pushStack(v(a).filter(function(){for(c=0;e>c;c++)if(v.contains(l[c],this))return!0}));for(c=0;e>c;c++)v.find(a,l[c],f);return f=this.pushStack(1<e?v.unique(f):f),f.selector=this.selector?this.selector+" "+a:a,f},filter:function(a){return this.pushStack(n(this,a||[],!1))},
not:function(a){return this.pushStack(n(this,a||[],!0))},is:function(a){return!!n(this,"string"==typeof a&&qb.test(a)?v(a):a||[],!1).length}});var L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(v.fn.init=function(a,c,e){var f,l;if(!a)return this;if(e=e||ta,"string"==typeof a){if(f="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:L.exec(a),!f||!f[1]&&c)return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a);if(f[1]){if(c=c instanceof v?c[0]:c,v.merge(this,v.parseHTML(f[1],c&&c.nodeType?c.ownerDocument||
c:M,!0)),ec.test(f[1])&&v.isPlainObject(c))for(f in c)v.isFunction(this[f])?this[f](c[f]):this.attr(f,c[f]);return this}return l=M.getElementById(f[2]),l&&l.parentNode&&(this.length=1,this[0]=l),this.context=M,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):v.isFunction(a)?void 0!==e.ready?e.ready(a):a(v):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),v.makeArray(a,this))}).prototype=v.fn;var ta=v(M);var X=/^(?:parents|prev(?:Until|All))/,
ua={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(a){var c=v(a,this),e=c.length;return this.filter(function(){for(var a=0;e>a;a++)if(v.contains(this,c[a]))return!0})},closest:function(a,c){for(var e,f=0,l=this.length,k=[],u=qb.test(a)||"string"!=typeof a?v(a,c||this.context):0;l>f;f++)for(e=this[f];e&&e!==c;e=e.parentNode)if(11>e.nodeType&&(u?-1<u.index(e):1===e.nodeType&&v.find.matchesSelector(e,a))){k.push(e);break}return this.pushStack(1<k.length?v.uniqueSort(k):k)},index:function(a){return a?
"string"==typeof a?jb.call(v(a),this[0]):jb.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});v.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return Xa(a,"parentNode")},parentsUntil:function(a,c,e){return Xa(a,"parentNode",e)},next:function(a){return p(a,
"nextSibling")},prev:function(a){return p(a,"previousSibling")},nextAll:function(a){return Xa(a,"nextSibling")},prevAll:function(a){return Xa(a,"previousSibling")},nextUntil:function(a,c,e){return Xa(a,"nextSibling",e)},prevUntil:function(a,c,e){return Xa(a,"previousSibling",e)},siblings:function(a){return Ub((a.parentNode||{}).firstChild,a)},children:function(a){return Ub(a.firstChild)},contents:function(a){return a.contentDocument||v.merge([],a.childNodes)}},function(a,c){v.fn[a]=function(e,f){var l=
v.map(this,c,e);return"Until"!==a.slice(-5)&&(f=e),f&&"string"==typeof f&&(l=v.filter(f,l)),1<this.length&&(ua[a]||v.uniqueSort(l),X.test(a)&&l.reverse()),this.pushStack(l)}});var Ga=/\S+/g;v.Callbacks=function(a){a="string"==typeof a?q(a):v.extend({},a);var c,e,f,l,k=[],u=[],h=-1,d=function(){l=a.once;for(f=c=!0;u.length;h=-1)for(e=u.shift();++h<k.length;)!1===k[h].apply(e[0],e[1])&&a.stopOnFalse&&(h=k.length,e=!1);a.memory||(e=!1);c=!1;l&&(k=e?[]:"")},n={add:function(){return k&&(e&&!c&&(h=k.length-
1,u.push(e)),function vc(c){v.each(c,function(c,e){v.isFunction(e)?a.unique&&n.has(e)||k.push(e):e&&e.length&&"string"!==v.type(e)&&vc(e)})}(arguments),e&&!c&&d()),this},remove:function(){return v.each(arguments,function(a,c){for(var e;-1<(e=v.inArray(c,k,e));)k.splice(e,1),h>=e&&h--}),this},has:function(a){return a?-1<v.inArray(a,k):0<k.length},empty:function(){return k&&(k=[]),this},disable:function(){return l=u=[],k=e="",this},disabled:function(){return!k},lock:function(){return l=u=[],e||(k=e=
""),this},locked:function(){return!!l},fireWith:function(a,e){return l||(e=e||[],e=[a,e.slice?e.slice():e],u.push(e),c||d()),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!f}};return n};v.extend({Deferred:function(a){var c=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],e="pending",f={state:function(){return e},always:function(){return l.done(arguments).fail(arguments),
this},then:function(){var a=arguments;return v.Deferred(function(e){v.each(c,function(c,k){var u=v.isFunction(a[c])&&a[c];l[k[1]](function(){var a=u&&u.apply(this,arguments);a&&v.isFunction(a.promise)?a.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[k[0]+"With"](this===f?e.promise():this,u?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?v.extend(a,f):f}},l={};return f.pipe=f.then,v.each(c,function(a,k){var u=k[2],h=k[3];f[k[1]]=u.add;h&&u.add(function(){e=
h},c[1^a][2].disable,c[2][2].lock);l[k[0]]=function(){return l[k[0]+"With"](this===l?f:this,arguments),this};l[k[0]+"With"]=u.fireWith}),f.promise(l),a&&a.call(l,l),l},when:function(a){var c=0,e=Ra.call(arguments),f=e.length,l=1!==f||a&&v.isFunction(a.promise)?f:0,k=1===l?a:v.Deferred(),u=function(a,c,e){return function(f){c[a]=this;e[a]=1<arguments.length?Ra.call(arguments):f;e===d?k.notifyWith(c,e):--l||k.resolveWith(c,e)}},h;if(1<f){var d=Array(f);var n=Array(f);for(h=Array(f);f>c;c++)e[c]&&v.isFunction(e[c].promise)?
e[c].promise().progress(u(c,n,d)).done(u(c,h,e)).fail(k.reject):--l}return l||k.resolveWith(h,e),k.promise()}});var eb;v.fn.ready=function(a){return v.ready.promise().done(a),this};v.extend({isReady:!1,readyWait:1,holdReady:function(a){a?v.readyWait++:v.ready(!0)},ready:function(a){(!0===a?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==a&&0<--v.readyWait||(eb.resolveWith(M,[v]),v.fn.triggerHandler&&(v(M).triggerHandler("ready"),v(M).off("ready"))))}});v.ready.promise=function(a){return eb||(eb=v.Deferred(),
"complete"===M.readyState||"loading"!==M.readyState&&!M.documentElement.doScroll?m.setTimeout(v.ready):(M.addEventListener("DOMContentLoaded",t),m.addEventListener("load",t))),eb.promise(a)};v.ready.promise();var pa=function(a,c,e,f,l,k,u){var h=0,d=a.length,n=null==e;if("object"===v.type(e))for(h in l=!0,e)pa(a,c,h,e[h],!0,k,u);else if(void 0!==f&&(l=!0,v.isFunction(f)||(u=!0),n&&(u?(c.call(a,f),c=null):(n=c,c=function(a,c,e){return n.call(v(a),e)})),c))for(;d>h;h++)c(a[h],e,u?f:f.call(a[h],h,c(a[h],
e)));return l?a:n?c.call(a):d?c(a[0],e):k},Za=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};k.uid=1;k.prototype={register:function(a,c){c=c||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!Za(a))return{};var c=a[this.expando];return c||(c={},Za(a)&&(a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,configurable:!0}))),c},set:function(a,c,e){var f;a=
this.cache(a);if("string"==typeof c)a[c]=e;else for(f in c)a[f]=c[f];return a},get:function(a,c){return void 0===c?this.cache(a):a[this.expando]&&a[this.expando][c]},access:function(a,c,e){var f;return void 0===c||c&&"string"==typeof c&&void 0===e?(f=this.get(a,c),void 0!==f?f:this.get(a,v.camelCase(c))):(this.set(a,c,e),void 0!==e?e:c)},remove:function(a,c){var e,f,l=a[this.expando];if(void 0!==l){if(void 0===c)this.register(a);else for(v.isArray(c)?f=c.concat(c.map(v.camelCase)):(e=v.camelCase(c),
c in l?f=[c,e]:(f=e,f=f in l?[f]:f.match(Ga)||[])),e=f.length;e--;)delete l[f[e]];(void 0===c||v.isEmptyObject(l))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!v.isEmptyObject(a)}};var V=new k,na=new k,Ab=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ja=/[A-Z]/g;v.extend({hasData:function(a){return na.hasData(a)||V.hasData(a)},data:function(a,c,e){return na.access(a,c,e)},removeData:function(a,c){na.remove(a,c)},_data:function(a,c,e){return V.access(a,
c,e)},_removeData:function(a,c){V.remove(a,c)}});v.fn.extend({data:function(c,e){var f,l,k,u=this[0],h=u&&u.attributes;if(void 0===c){if(this.length&&(k=na.get(u),1===u.nodeType&&!V.get(u,"hasDataAttrs"))){for(f=h.length;f--;)h[f]&&(l=h[f].name,0===l.indexOf("data-")&&(l=v.camelCase(l.slice(5)),a(u,l,k[l])));V.set(u,"hasDataAttrs",!0)}return k}return"object"==typeof c?this.each(function(){na.set(this,c)}):pa(this,function(e){var f,l;if(u&&void 0===e){if((f=na.get(u,c)||na.get(u,c.replace(Ja,"-$&").toLowerCase()),
void 0!==f)||(l=v.camelCase(c),f=na.get(u,l),void 0!==f)||(f=a(u,l,void 0),void 0!==f))return f}else l=v.camelCase(c),this.each(function(){var a=na.get(this,l);na.set(this,l,e);-1<c.indexOf("-")&&void 0!==a&&na.set(this,c,e)})},null,e,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){na.remove(this,a)})}});v.extend({queue:function(a,c,e){var f;return a?(c=(c||"fx")+"queue",f=V.get(a,c),e&&(!f||v.isArray(e)?f=V.access(a,c,v.makeArray(e)):f.push(e)),f||[]):void 0},dequeue:function(a,
c){c=c||"fx";var e=v.queue(a,c),f=e.length,l=e.shift(),k=v._queueHooks(a,c),u=function(){v.dequeue(a,c)};"inprogress"===l&&(l=e.shift(),f--);l&&("fx"===c&&e.unshift("inprogress"),delete k.stop,l.call(a,u,k));!f&&k&&k.empty.fire()},_queueHooks:function(a,c){var e=c+"queueHooks";return V.get(a,e)||V.access(a,e,{empty:v.Callbacks("once memory").add(function(){V.remove(a,[c+"queue",e])})})}});v.fn.extend({queue:function(a,c){var e=2;return"string"!=typeof a&&(c=a,a="fx",e--),arguments.length<e?v.queue(this[0],
a):void 0===c?this:this.each(function(){var e=v.queue(this,a,c);v._queueHooks(this,a);"fx"===a&&"inprogress"!==e[0]&&v.dequeue(this,a)})},dequeue:function(a){return this.each(function(){v.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var e,f=1,l=v.Deferred(),k=this,u=this.length,h=function(){--f||l.resolveWith(k,[k])};"string"!=typeof a&&(c=a,a=void 0);for(a=a||"fx";u--;)(e=V.get(k[u],a+"queueHooks"))&&e.empty&&(f++,e.empty.add(h));return h(),l.promise(c)}});
var Lb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=new RegExp("^(?:([+-])=|)("+Lb+")([a-z%]*)$","i"),Da=["Top","Right","Bottom","Left"],Ya=function(a,c){return a=c||a,"none"===v.css(a,"display")||!v.contains(a.ownerDocument,a)},Mb=/^(?:checkbox|radio)$/i,xa=/<([\w:-]+)/,qa=/^$|\/(?:java|ecma)script/i,Ba={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>",
"</tr></tbody></table>"],_default:[0,"",""]};Ba.optgroup=Ba.option;Ba.tbody=Ba.tfoot=Ba.colgroup=Ba.caption=Ba.thead;Ba.th=Ba.td;var Qb=/<|&#?\w+;/;!function(){var a=M.createDocumentFragment().appendChild(M.createElement("div")),c=M.createElement("input");c.setAttribute("type","radio");c.setAttribute("checked","checked");c.setAttribute("name","t");a.appendChild(c);fa.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";fa.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue}();
var $a=/^key/,xb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yb=/^([^.]*)(?:\.(.+)|)/;v.event={global:{},add:function(a,c,e,f,l){var k,u,h,d,n,z,t,q;if(d=V.get(a))for(e.handler&&(k=e,e=k.handler,l=k.selector),e.guid||(e.guid=v.guid++),(h=d.events)||(h=d.events={}),(u=d.handle)||(u=d.handle=function(c){return"undefined"!=typeof v&&v.event.triggered!==c.type?v.event.dispatch.apply(a,arguments):void 0}),c=(c||"").match(Ga)||[""],d=c.length;d--;){var m=yb.exec(c[d])||[];var p=q=m[1];m=(m[2]||"").split(".").sort();
p&&(z=v.event.special[p]||{},p=(l?z.delegateType:z.bindType)||p,z=v.event.special[p]||{},n=v.extend({type:p,origType:q,data:f,handler:e,guid:e.guid,selector:l,needsContext:l&&v.expr.match.needsContext.test(l),namespace:m.join(".")},k),(t=h[p])||(t=h[p]=[],t.delegateCount=0,z.setup&&!1!==z.setup.call(a,f,m,u)||a.addEventListener&&a.addEventListener(p,u)),z.add&&(z.add.call(a,n),n.handler.guid||(n.handler.guid=e.guid)),l?t.splice(t.delegateCount++,0,n):t.push(n),v.event.global[p]=!0)}},remove:function(a,
c,e,f,l){var k,u,h,d,n,z,t,q,m=V.hasData(a)&&V.get(a);if(m&&(d=m.events)){c=(c||"").match(Ga)||[""];for(n=c.length;n--;)if(h=yb.exec(c[n])||[],z=q=h[1],t=(h[2]||"").split(".").sort(),z){var p=v.event.special[z]||{};z=(f?p.delegateType:p.bindType)||z;var B=d[z]||[];h=h[2]&&new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)");for(u=k=B.length;k--;){var A=B[k];!l&&q!==A.origType||e&&e.guid!==A.guid||h&&!h.test(A.namespace)||f&&f!==A.selector&&("**"!==f||!A.selector)||(B.splice(k,1),A.selector&&B.delegateCount--,
p.remove&&p.remove.call(a,A))}u&&!B.length&&(p.teardown&&!1!==p.teardown.call(a,t,m.handle)||v.removeEvent(a,z,m.handle),delete d[z])}else for(z in d)v.event.remove(a,z+c[n],e,f,!0);v.isEmptyObject(d)&&V.remove(a,"handle events")}},dispatch:function(a){a=v.event.fix(a);var c,e,f,l,k=Ra.call(arguments);var u=(V.get(this,"events")||{})[a.type]||[];var h=v.event.special[a.type]||{};if(k[0]=a,a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){var d=v.event.handlers.call(this,a,u);
for(u=0;(f=d[u++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(l=f.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(l.namespace)||(a.handleObj=l,a.data=l.data,e=((v.event.special[l.origType]||{}).handle||l.handler).apply(f.elem,k),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(a,c){var e,f=[],l=c.delegateCount,k=a.target;if(l&&k.nodeType&&("click"!==
a.type||isNaN(a.button)||1>a.button))for(;k!==this;k=k.parentNode||this)if(1===k.nodeType&&(!0!==k.disabled||"click"!==a.type)){var u=[];for(e=0;l>e;e++){var h=c[e];var d=h.selector+" ";void 0===u[d]&&(u[d]=h.needsContext?-1<v(d,this).index(k):v.find(d,this,null,[k]).length);u[d]&&u.push(h)}u.length&&f.push({elem:k,handlers:u})}return l<c.length&&f.push({elem:this,handlers:c.slice(l)}),f},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var e,f,l,k=c.button;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||M,f=e.documentElement,l=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||l&&l.scrollLeft||0)-(f&&f.clientLeft||l&&l.clientLeft||
0),a.pageY=c.clientY+(f&&f.scrollTop||l&&l.scrollTop||0)-(f&&f.clientTop||l&&l.clientTop||0)),a.which||void 0===k||(a.which=1&k?1:2&k?3:4&k?2:0),a}},fix:function(a){if(a[v.expando])return a;var c=a.type;var e=a,f=this.fixHooks[c];f||(this.fixHooks[c]=f=xb.test(c)?this.mouseHooks:$a.test(c)?this.keyHooks:{});var l=f.props?this.props.concat(f.props):this.props;a=new v.Event(e);for(c=l.length;c--;){var k=l[c];a[k]=e[k]}return a.target||(a.target=M),3===a.target.nodeType&&(a.target=a.target.parentNode),
f.filter?f.filter(a,e):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==B()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===B()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&v.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return v.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&
(a.originalEvent.returnValue=a.result)}}}};v.removeEvent=function(a,c,e){a.removeEventListener&&a.removeEventListener(c,e)};v.Event=function(a,c){return this instanceof v.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?u:z):this.type=a,c&&v.extend(this,c),this.timeStamp=a&&a.timeStamp||v.now(),void(this[v.expando]=!0)):new v.Event(a,c)};v.Event.prototype={constructor:v.Event,isDefaultPrevented:z,isPropagationStopped:z,
isImmediatePropagationStopped:z,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=u;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=u;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=u;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};v.each({mouseenter:"mouseover",mouseleave:"mouseout",
pointerenter:"pointerover",pointerleave:"pointerout"},function(a,c){v.event.special[a]={delegateType:c,bindType:c,handle:function(a){var e,f=a.relatedTarget,l=a.handleObj;return f&&(f===this||v.contains(this,f))||(a.type=l.origType,e=l.handler.apply(this,arguments),a.type=c),e}}});v.fn.extend({on:function(a,c,e,f){return G(this,a,c,e,f)},one:function(a,c,e,f){return G(this,a,c,e,f,1)},off:function(a,c,e){var f,l;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,v(a.delegateTarget).off(f.namespace?
f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==typeof a){for(l in a)this.off(l,c,a[l]);return this}return!1!==c&&"function"!=typeof c||(e=c,c=void 0),!1===e&&(e=z),this.each(function(){v.event.remove(this,a,e,c)})}});var Ca=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rb=/<script|<style|<link/i,bb=/checked\s*(?:[^=]|=\s*.checked.)/i,ca=/^true\/(.*)/,Wa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;v.extend({htmlPrefilter:function(a){return a.replace(Ca,
"<$1></$2>")},clone:function(a,e,f){var k,u=a.cloneNode(!0),h=v.contains(a.ownerDocument,a);if(!(fa.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||v.isXMLDoc(a))){var d=l(u);var n=l(a);var z=0;for(k=n.length;k>z;z++){var t=n[z],q=d[z],m=q.nodeName.toLowerCase();"input"===m&&Mb.test(t.type)?q.checked=t.checked:"input"!==m&&"textarea"!==m||(q.defaultValue=t.defaultValue)}}if(e)if(f)for(n=n||l(a),d=d||l(u),z=0,k=n.length;k>z;z++)A(n[z],d[z]);else A(a,u);return d=l(u,"script"),0<d.length&&c(d,!h&&l(a,
"script")),u},cleanData:function(a){for(var c,e,f,l=v.event.special,k=0;void 0!==(e=a[k]);k++)if(Za(e)){if(c=e[V.expando]){if(c.events)for(f in c.events)l[f]?v.event.remove(e,f):v.removeEvent(e,f,c.handle);e[V.expando]=void 0}e[na.expando]&&(e[na.expando]=void 0)}}});v.fn.extend({domManip:D,detach:function(a){return C(this,a,!0)},remove:function(a){return C(this,a)},text:function(a){return pa(this,function(a){return void 0===a?v.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return D(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,a).appendChild(a)})},prepend:function(){return D(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=x(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return D(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return D(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++)1===a.nodeType&&(v.cleanData(l(a,!1)),a.textContent="");return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return v.clone(this,a,c)})},html:function(a){return pa(this,function(a){var c=this[0]||{},e=0,f=this.length;if(void 0===a&&1===c.nodeType)return c.innerHTML;if("string"==typeof a&&!rb.test(a)&&!Ba[(xa.exec(a)||["",
""])[1].toLowerCase()]){a=v.htmlPrefilter(a);try{for(;f>e;e++)c=this[e]||{},1===c.nodeType&&(v.cleanData(l(c,!1)),c.innerHTML=a);c=0}catch(tc){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return D(this,arguments,function(c){var e=this.parentNode;0>v.inArray(this,a)&&(v.cleanData(l(this)),e&&e.replaceChild(c,this))},a)}});v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){v.fn[a]=
function(a){for(var e=[],f=v(a),l=f.length-1,k=0;l>=k;k++)a=k===l?this:this.clone(!0),v(f[k])[c](a),Sa.apply(e,a.get());return this.pushStack(e)}});var ya,Wb={HTML:"block",BODY:"block"},Ka=/^margin/,Ib=new RegExp("^("+Lb+")(?!px)[a-z%]+$","i"),Bb=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=m),c.getComputedStyle(a)},Ta=function(a,c,e,f){var l,k={};for(l in c)k[l]=a.style[l],a.style[l]=c[l];e=e.apply(a,f||[]);for(l in c)a.style[l]=k[l];return e},sb=M.documentElement;!function(){var a,
c,e,f,l=M.createElement("div"),k=M.createElement("div");if(k.style){var u=function(){k.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";k.innerHTML="";sb.appendChild(l);var u=m.getComputedStyle(k);a="1%"!==u.top;f="2px"===u.marginLeft;c="4px"===u.width;k.style.marginRight="50%";e="4px"===u.marginRight;sb.removeChild(l)};k.style.backgroundClip="content-box";k.cloneNode(!0).style.backgroundClip=
"";fa.clearCloneStyle="content-box"===k.style.backgroundClip;l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";l.appendChild(k);v.extend(fa,{pixelPosition:function(){return u(),a},boxSizingReliable:function(){return null==c&&u(),c},pixelMarginRight:function(){return null==c&&u(),e},reliableMarginLeft:function(){return null==c&&u(),f},reliableMarginRight:function(){var a,c=k.appendChild(M.createElement("div"));return c.style.cssText=k.style.cssText=
"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",k.style.width="1px",sb.appendChild(l),a=!parseFloat(m.getComputedStyle(c).marginRight),sb.removeChild(l),k.removeChild(c),a}})}}();var fb=/^(none|table(?!-c[ea]).+)/,gb={position:"absolute",visibility:"hidden",display:"block"},fc={letterSpacing:"0",fontWeight:"400"},O=["Webkit","O","Moz","ms"],Jb=M.createElement("div").style;v.extend({cssHooks:{opacity:{get:function(a,
c){if(c)return a=K(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,c,e,l){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var k,u,h,d=v.camelCase(c),n=a.style;return c=v.cssProps[d]||(v.cssProps[d]=Y(d)||d),h=v.cssHooks[c]||v.cssHooks[d],void 0===e?h&&"get"in h&&void 0!==(k=h.get(a,!1,l))?k:
n[c]:(u=typeof e,"string"===u&&(k=wa.exec(e))&&k[1]&&(e=f(a,c,k),u="number"),null!=e&&e===e&&("number"===u&&(e+=k&&k[3]||(v.cssNumber[d]?"":"px")),fa.clearCloneStyle||""!==e||0!==c.indexOf("background")||(n[c]="inherit"),h&&"set"in h&&void 0===(e=h.set(a,e,l))||(n[c]=e)),void 0)}},css:function(a,c,e,f){var l,k,u,h=v.camelCase(c);return c=v.cssProps[h]||(v.cssProps[h]=Y(h)||h),u=v.cssHooks[c]||v.cssHooks[h],u&&"get"in u&&(l=u.get(a,!0,e)),void 0===l&&(l=K(a,c,f)),"normal"===l&&c in fc&&(l=fc[c]),""===
e||e?(k=parseFloat(l),!0===e||isFinite(k)?k||0:l):l}});v.each(["height","width"],function(a,c){v.cssHooks[c]={get:function(a,e,f){return e?fb.test(v.css(a,"display"))&&0===a.offsetWidth?Ta(a,gb,function(){return ha(a,c,f)}):ha(a,c,f):void 0},set:function(a,e,f){var l,k=f&&Bb(a);f=f&&W(a,c,f,"border-box"===v.css(a,"boxSizing",!1,k),k);return f&&(l=wa.exec(e))&&"px"!==(l[3]||"px")&&(a.style[c]=e,e=v.css(a,c)),P(a,e,f)}}});v.cssHooks.marginLeft=N(fa.reliableMarginLeft,function(a,c){return c?(parseFloat(K(a,
"marginLeft"))||a.getBoundingClientRect().left-Ta(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0});v.cssHooks.marginRight=N(fa.reliableMarginRight,function(a,c){return c?Ta(a,{display:"inline-block"},K,[a,"marginRight"]):void 0});v.each({margin:"",padding:"",border:"Width"},function(a,c){v.cssHooks[a+c]={expand:function(e){var f=0,l={};for(e="string"==typeof e?e.split(" "):[e];4>f;f++)l[a+Da[f]+c]=e[f]||e[f-2]||e[0];return l}};Ka.test(a)||(v.cssHooks[a+c].set=P)});
v.fn.extend({css:function(a,c){return pa(this,function(a,c,e){var f,l={},k=0;if(v.isArray(c)){e=Bb(a);for(f=c.length;f>k;k++)l[c[k]]=v.css(a,c[k],!1,e);return l}return void 0!==e?v.style(a,c,e):v.css(a,c)},a,c,1<arguments.length)},show:function(){return ja(this,!0)},hide:function(){return ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ya(this)?v(this).show():v(this).hide()})}});v.Tween=ba;ba.prototype={constructor:ba,init:function(a,c,e,f,l,k){this.elem=
a;this.prop=e;this.easing=l||v.easing._default;this.options=c;this.start=this.now=this.cur();this.end=f;this.unit=k||(v.cssNumber[e]?"":"px")},cur:function(){var a=ba.propHooks[this.prop];return a&&a.get?a.get(this):ba.propHooks._default.get(this)},run:function(a){var c,e=ba.propHooks[this.prop];return this.options.duration?this.pos=c=v.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,
this.now,this),e&&e.set?e.set(this):ba.propHooks._default.set(this),this}};ba.prototype.init.prototype=ba.prototype;ba.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=v.css(a.elem,a.prop,""),c&&"auto"!==c?c:0)},set:function(a){v.fx.step[a.prop]?v.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[v.cssProps[a.prop]]&&!v.cssHooks[a.prop]?a.elem[a.prop]=a.now:v.style(a.elem,a.prop,a.now+a.unit)}}};ba.propHooks.scrollTop=
ba.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};v.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};v.fx=ba.prototype.init;v.fx.step={};var y,Ia,kb=/^(?:toggle|show|hide)$/,gc=/queueHooks$/;v.Animation=v.extend(S,{tweeners:{"*":[function(a,c){var e=this.createTween(a,c);return f(e.elem,a,wa.exec(c),e),e}]},tweener:function(a,c){v.isFunction(a)?(c=a,a=["*"]):a=a.match(Ga);for(var e,f=0,l=a.length;l>
f;f++)e=a[f],S.tweeners[e]=S.tweeners[e]||[],S.tweeners[e].unshift(c)},prefilters:[function(a,c,e){var f,l,k,u,h,d,n,z=this,t={},q=a.style,m=a.nodeType&&Ya(a),p=V.get(a,"fxshow");e.queue||(u=v._queueHooks(a,"fx"),null==u.unqueued&&(u.unqueued=0,h=u.empty.fire,u.empty.fire=function(){u.unqueued||h()}),u.unqueued++,z.always(function(){z.always(function(){u.unqueued--;v.queue(a,"fx").length||u.empty.fire()})}));1===a.nodeType&&("height"in c||"width"in c)&&(e.overflow=[q.overflow,q.overflowX,q.overflowY],
d=v.css(a,"display"),n="none"===d?V.get(a,"olddisplay")||E(a.nodeName):d,"inline"===n&&"none"===v.css(a,"float")&&(q.display="inline-block"));e.overflow&&(q.overflow="hidden",z.always(function(){q.overflow=e.overflow[0];q.overflowX=e.overflow[1];q.overflowY=e.overflow[2]}));for(f in c)if(l=c[f],kb.exec(l)){if(delete c[f],k=k||"toggle"===l,l===(m?"hide":"show")){if("show"!==l||!p||void 0===p[f])continue;m=!0}t[f]=p&&p[f]||v.style(a,f)}else d=void 0;if(v.isEmptyObject(t))"inline"===("none"===d?E(a.nodeName):
d)&&(q.display=d);else for(f in p?"hidden"in p&&(m=p.hidden):p=V.access(a,"fxshow",{}),k&&(p.hidden=!m),m?v(a).show():z.done(function(){v(a).hide()}),z.done(function(){var c;V.remove(a,"fxshow");for(c in t)v.style(a,c,t[c])}),t)c=cb(m?p[f]:0,f,z),f in p||(p[f]=c.start,m&&(c.end=c.start,c.start="width"===f||"height"===f?1:0))}],prefilter:function(a,c){c?S.prefilters.unshift(a):S.prefilters.push(a)}});v.speed=function(a,c,e){var f=a&&"object"==typeof a?v.extend({},a):{complete:e||!e&&c||v.isFunction(a)&&
a,duration:a,easing:e&&c||c&&!v.isFunction(c)&&c};return f.duration=v.fx.off?0:"number"==typeof f.duration?f.duration:f.duration in v.fx.speeds?v.fx.speeds[f.duration]:v.fx.speeds._default,null!=f.queue&&!0!==f.queue||(f.queue="fx"),f.old=f.complete,f.complete=function(){v.isFunction(f.old)&&f.old.call(this);f.queue&&v.dequeue(this,f.queue)},f};v.fn.extend({fadeTo:function(a,c,e,f){return this.filter(Ya).css("opacity",0).show().end().animate({opacity:c},a,e,f)},animate:function(a,c,e,f){var l=v.isEmptyObject(a),
k=v.speed(c,e,f);c=function(){var c=S(this,v.extend({},a),k);(l||V.get(this,"finish"))&&c.stop(!0)};return c.finish=c,l||!1===k.queue?this.each(c):this.queue(k.queue,c)},stop:function(a,c,e){var f=function(a){var c=a.stop;delete a.stop;c(e)};return"string"!=typeof a&&(e=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var c=!0,l=null!=a&&a+"queueHooks",k=v.timers,u=V.get(this);if(l)u[l]&&u[l].stop&&f(u[l]);else for(l in u)u[l]&&u[l].stop&&gc.test(l)&&f(u[l]);for(l=k.length;l--;)k[l].elem!==
this||null!=a&&k[l].queue!==a||(k[l].anim.stop(e),c=!1,k.splice(l,1));!c&&e||v.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var c=V.get(this),e=c[a+"queue"];var f=c[a+"queueHooks"];var l=v.timers,k=e?e.length:0;c.finish=!0;v.queue(this,a,[]);f&&f.stop&&f.stop.call(this,!0);for(f=l.length;f--;)l[f].elem===this&&l[f].queue===a&&(l[f].anim.stop(!0),l.splice(f,1));for(f=0;k>f;f++)e[f]&&e[f].finish&&e[f].finish.call(this);delete c.finish})}});v.each(["toggle","show",
"hide"],function(a,c){var e=v.fn[c];v.fn[c]=function(a,f,l){return null==a||"boolean"==typeof a?e.apply(this,arguments):this.animate(R(c,!0),a,f,l)}});v.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,c){v.fn[a]=function(a,e,f){return this.animate(c,a,e,f)}});v.timers=[];v.fx.tick=function(){var a=0,c=v.timers;for(y=v.now();a<c.length;a++){var e=c[a];e()||c[a]!==e||c.splice(a--,1)}c.length||
v.fx.stop();y=void 0};v.fx.timer=function(a){v.timers.push(a);a()?v.fx.start():v.timers.pop()};v.fx.interval=13;v.fx.start=function(){Ia||(Ia=m.setInterval(v.fx.tick,v.fx.interval))};v.fx.stop=function(){m.clearInterval(Ia);Ia=null};v.fx.speeds={slow:600,fast:200,_default:400};v.fn.delay=function(a,c){return a=v.fx?v.fx.speeds[a]||a:a,c=c||"fx",this.queue(c,function(c,e){var f=m.setTimeout(c,a);e.stop=function(){m.clearTimeout(f)}})};(function(){var a=M.createElement("input"),c=M.createElement("select"),
e=c.appendChild(M.createElement("option"));a.type="checkbox";fa.checkOn=""!==a.value;fa.optSelected=e.selected;c.disabled=!0;fa.optDisabled=!e.disabled;a=M.createElement("input");a.value="t";a.type="radio";fa.radioValue="t"===a.value})();var ka=v.expr.attrHandle;v.fn.extend({attr:function(a,c){return pa(this,v.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){v.removeAttr(this,a)})}});v.extend({attr:function(a,c,e){var f,l,k=a.nodeType;if(3!==k&&8!==k&&2!==k)return"undefined"==
typeof a.getAttribute?v.prop(a,c,e):(1===k&&v.isXMLDoc(a)||(c=c.toLowerCase(),l=v.attrHooks[c]||(v.expr.match.bool.test(c)?Nb:void 0)),void 0!==e?null===e?void v.removeAttr(a,c):l&&"set"in l&&void 0!==(f=l.set(a,e,c))?f:(a.setAttribute(c,e+""),e):l&&"get"in l&&null!==(f=l.get(a,c))?f:(f=v.find.attr(a,c),null==f?void 0:f))},attrHooks:{type:{set:function(a,c){if(!fa.radioValue&&"radio"===c&&v.nodeName(a,"input")){var e=a.value;return a.setAttribute("type",c),e&&(a.value=e),c}}}},removeAttr:function(a,
c){var e=0,f=c&&c.match(Ga);if(f&&1===a.nodeType)for(;c=f[e++];){var l=v.propFix[c]||c;v.expr.match.bool.test(c)&&(a[l]=!1);a.removeAttribute(c)}}});var Nb={set:function(a,c,e){return!1===c?v.removeAttr(a,e):a.setAttribute(e,e),e}};v.each(v.expr.match.bool.source.match(/\w+/g),function(a,c){var e=ka[c]||v.find.attr;ka[c]=function(a,c,f){var l,k;return f||(k=ka[c],ka[c]=l,l=null!=e(a,c,f)?c.toLowerCase():null,ka[c]=k),l}});var hb=/^(?:input|select|textarea|button)$/i,hc=/^(?:a|area)$/i;v.fn.extend({prop:function(a,
c){return pa(this,v.prop,a,c,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[v.propFix[a]||a]})}});v.extend({prop:function(a,c,e){var f,l,k=a.nodeType;if(3!==k&&8!==k&&2!==k)return 1===k&&v.isXMLDoc(a)||(c=v.propFix[c]||c,l=v.propHooks[c]),void 0!==e?l&&"set"in l&&void 0!==(f=l.set(a,e,c))?f:a[c]=e:l&&"get"in l&&null!==(f=l.get(a,c))?f:a[c]},propHooks:{tabIndex:{get:function(a){var c=v.find.attr(a,"tabindex");return c?parseInt(c,10):hb.test(a.nodeName)||hc.test(a.nodeName)&&
a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});fa.optSelected||(v.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});v.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){v.propFix[this.toLowerCase()]=this});var Eb=/[\t\r\n\f]/g;v.fn.extend({addClass:function(a){var c,
e,f,l,k,u,h=0;if(v.isFunction(a))return this.each(function(c){v(this).addClass(a.call(this,c,U(this)))});if("string"==typeof a&&a)for(c=a.match(Ga)||[];e=this[h++];)if(l=U(e),f=1===e.nodeType&&(" "+l+" ").replace(Eb," ")){for(u=0;k=c[u++];)0>f.indexOf(" "+k+" ")&&(f+=k+" ");f=v.trim(f);l!==f&&e.setAttribute("class",f)}return this},removeClass:function(a){var c,e,f,l,k,u,h=0;if(v.isFunction(a))return this.each(function(c){v(this).removeClass(a.call(this,c,U(this)))});if(!arguments.length)return this.attr("class",
"");if("string"==typeof a&&a)for(c=a.match(Ga)||[];e=this[h++];)if(l=U(e),f=1===e.nodeType&&(" "+l+" ").replace(Eb," ")){for(u=0;k=c[u++];)for(;-1<f.indexOf(" "+k+" ");)f=f.replace(" "+k+" "," ");f=v.trim(f);l!==f&&e.setAttribute("class",f)}return this},toggleClass:function(a,c){var e=typeof a;return"boolean"==typeof c&&"string"===e?c?this.addClass(a):this.removeClass(a):v.isFunction(a)?this.each(function(e){v(this).toggleClass(a.call(this,e,U(this),c),c)}):this.each(function(){var c,f;if("string"===
e){var l=0;var k=v(this);for(f=a.match(Ga)||[];c=f[l++];)k.hasClass(c)?k.removeClass(c):k.addClass(c)}else void 0!==a&&"boolean"!==e||(c=U(this),c&&V.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||!1===a?"":V.get(this,"__className__")||""))})},hasClass:function(a){var c,e=0;for(a=" "+a+" ";c=this[e++];)if(1===c.nodeType&&-1<(" "+U(c)+" ").replace(Eb," ").indexOf(a))return!0;return!1}});var Fb=/\r/g,Zb=/[\x20\t\r\n\f]+/g;v.fn.extend({val:function(a){var c,e,f,l=this[0];
if(arguments.length)return f=v.isFunction(a),this.each(function(e){var l;1===this.nodeType&&(l=f?a.call(this,e,v(this).val()):a,null==l?l="":"number"==typeof l?l+="":v.isArray(l)&&(l=v.map(l,function(a){return null==a?"":a+""})),c=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&void 0!==c.set(this,l,"value")||(this.value=l))});if(l)return c=v.valHooks[l.type]||v.valHooks[l.nodeName.toLowerCase()],c&&"get"in c&&void 0!==(e=c.get(l,"value"))?e:(e=l.value,"string"==typeof e?
e.replace(Fb,""):null==e?"":e)}});v.extend({valHooks:{option:{get:function(a){var c=v.find.attr(a,"value");return null!=c?c:v.trim(v.text(a)).replace(Zb," ")}},select:{get:function(a){for(var c,e=a.options,f=a.selectedIndex,l="select-one"===a.type||0>f,k=l?null:[],u=l?f+1:e.length,h=0>f?u:l?f:0;u>h;h++)if(c=e[h],!(!c.selected&&h!==f||(fa.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&v.nodeName(c.parentNode,"optgroup"))){if(a=v(c).val(),l)return a;k.push(a)}return k},
set:function(a,c){for(var e,f=a.options,l=v.makeArray(c),k=f.length;k--;)c=f[k],(c.selected=-1<v.inArray(v.valHooks.option.get(c),l))&&(e=!0);return e||(a.selectedIndex=-1),l}}}});v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(a,c){return v.isArray(c)?a.checked=-1<v.inArray(v(a).val(),c):void 0}};fa.checkOn||(v.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nb=/^(?:focusinfocus|focusoutblur)$/;v.extend(v.event,{trigger:function(a,c,
e,f){var l,k,u,h,d,n=[e||M],z=pb.call(a,"type")?a.type:a;var t=pb.call(a,"namespace")?a.namespace.split("."):[];if(l=k=e=e||M,3!==e.nodeType&&8!==e.nodeType&&!nb.test(z+v.event.triggered)&&(-1<z.indexOf(".")&&(t=z.split("."),z=t.shift(),t.sort()),u=0>z.indexOf(":")&&"on"+z,a=a[v.expando]?a:new v.Event(z,"object"==typeof a&&a),a.isTrigger=f?2:3,a.namespace=t.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=e),c=null==
c?[a]:v.makeArray(c,[a]),d=v.event.special[z]||{},f||!d.trigger||!1!==d.trigger.apply(e,c))){if(!f&&!d.noBubble&&!v.isWindow(e)){var q=d.delegateType||z;for(nb.test(q+z)||(l=l.parentNode);l;l=l.parentNode)n.push(l),k=l;k===(e.ownerDocument||M)&&n.push(k.defaultView||k.parentWindow||m)}for(t=0;(l=n[t++])&&!a.isPropagationStopped();)a.type=1<t?q:d.bindType||z,(h=(V.get(l,"events")||{})[a.type]&&V.get(l,"handle"))&&h.apply(l,c),(h=u&&l[u])&&h.apply&&Za(l)&&(a.result=h.apply(l,c),!1===a.result&&a.preventDefault());
return a.type=z,f||a.isDefaultPrevented()||d._default&&!1!==d._default.apply(n.pop(),c)||!Za(e)||u&&v.isFunction(e[z])&&!v.isWindow(e)&&(k=e[u],k&&(e[u]=null),v.event.triggered=z,e[z](),v.event.triggered=void 0,k&&(e[u]=k)),a.result}},simulate:function(a,c,e){a=v.extend(new v.Event,e,{type:a,isSimulated:!0});v.event.trigger(a,null,c)}});v.fn.extend({trigger:function(a,c){return this.each(function(){v.event.trigger(a,c,this)})},triggerHandler:function(a,c){var e=this[0];return e?v.event.trigger(a,
c,e,!0):void 0}});v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,c){v.fn[c]=function(a,e){return 0<arguments.length?this.on(c,null,a,e):this.trigger(c)}});v.fn.extend({hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)}});fa.focusin="onfocusin"in m;fa.focusin||v.each({focus:"focusin",blur:"focusout"},function(a,
c){var e=function(a){v.event.simulate(c,a.target,v.event.fix(a))};v.event.special[c]={setup:function(){var f=this.ownerDocument||this,l=V.access(f,c);l||f.addEventListener(a,e,!0);V.access(f,c,(l||0)+1)},teardown:function(){var f=this.ownerDocument||this,l=V.access(f,c)-1;l?V.access(f,c,l):(f.removeEventListener(a,e,!0),V.remove(f,c))}}});var tb=m.location,Vb=v.now(),Ea=/\?/;v.parseJSON=function(a){return JSON.parse(a+"")};v.parseXML=function(a){if(!a||"string"!=typeof a)return null;try{var c=(new m.DOMParser).parseFromString(a,
"text/xml")}catch(pc){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+a),c};var T=/#.*$/,Ua=/([?&])_=[^&]*/,Ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ma=/^(?:GET|HEAD)$/,ub=/^\/\//,Fa={},vb={},la="*/".concat("*"),ib=M.createElement("a");ib.href=tb.href;v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(tb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":la,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?La(La(a,v.ajaxSettings),c):La(v.ajaxSettings,a)},ajaxPrefilter:da(Fa),ajaxTransport:da(vb),
ajax:function(a,c){function e(a,c,e,k){var d,A,x,I=c;if(2!==G){G=2;u&&m.clearTimeout(u);f=void 0;l=k||"";U.readyState=0<a?4:0;k=200<=a&&300>a||304===a;if(e){var C=n;for(var za=U,H,D,da,ea,F=C.contents,S=C.dataTypes;"*"===S[0];)S.shift(),void 0===H&&(H=C.mimeType||za.getResponseHeader("Content-Type"));if(H)for(D in F)if(F[D]&&F[D].test(H)){S.unshift(D);break}if(S[0]in e)da=S[0];else{for(D in e){if(!S[0]||C.converters[D+" "+S[0]]){da=D;break}ea||(ea=D)}da=da||ea}C=da?(da!==S[0]&&S.unshift(da),e[da]):
void 0}a:{e=n;H=C;D=U;da=k;var sa,ia,K;C={};za=e.dataTypes.slice();if(za[1])for(sa in e.converters)C[sa.toLowerCase()]=e.converters[sa];for(ea=za.shift();ea;)if(e.responseFields[ea]&&(D[e.responseFields[ea]]=H),!K&&da&&e.dataFilter&&(H=e.dataFilter(H,e.dataType)),K=ea,ea=za.shift())if("*"===ea)ea=K;else if("*"!==K&&K!==ea){if(sa=C[K+" "+ea]||C["* "+ea],!sa)for(N in C)if(ia=N.split(" "),ia[1]===ea&&(sa=C[K+" "+ia[0]]||C["* "+ia[0]])){!0===sa?sa=C[N]:!0!==C[N]&&(ea=ia[0],za.unshift(ia[1]));break}if(!0!==
sa)if(sa&&e["throws"])H=sa(H);else try{H=sa(H)}catch(Ic){var N={state:"parsererror",error:sa?Ic:"No conversion from "+K+" to "+ea};break a}}N={state:"success",data:H}}C=N;k?(n.ifModified&&(x=U.getResponseHeader("Last-Modified"),x&&(v.lastModified[E]=x),x=U.getResponseHeader("etag"),x&&(v.etag[E]=x)),204===a||"HEAD"===n.type?I="nocontent":304===a?I="notmodified":(I=C.state,d=C.data,A=C.error,k=!A)):(A=I,!a&&I||(I="error",0>a&&(a=0)));U.status=a;U.statusText=(c||I)+"";k?q.resolveWith(z,[d,I,U]):q.rejectWith(z,
[U,I,A]);U.statusCode(B);B=void 0;h&&t.trigger(k?"ajaxSuccess":"ajaxError",[U,n,k?d:A]);p.fireWith(z,[U,I]);h&&(t.trigger("ajaxComplete",[U,n]),--v.active||v.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=void 0);c=c||{};var f,l,k,u,h,d,n=v.ajaxSetup({},c),z=n.context||n,t=n.context&&(z.nodeType||z.jquery)?v(z):v.event,q=v.Deferred(),p=v.Callbacks("once memory"),B=n.statusCode||{},A={},x={},G=0,I="canceled",U={readyState:0,getResponseHeader:function(a){var c;if(2===G){if(!k)for(k={};c=Ob.exec(l);)k[c[1].toLowerCase()]=
c[2];c=k[a.toLowerCase()]}return null==c?null:c},getAllResponseHeaders:function(){return 2===G?l:null},setRequestHeader:function(a,c){var e=a.toLowerCase();return G||(a=x[e]=x[e]||a,A[a]=c),this},overrideMimeType:function(a){return G||(n.mimeType=a),this},statusCode:function(a){var c;if(a)if(2>G)for(c in a)B[c]=[B[c],a[c]];else U.always(a[U.status]);return this},abort:function(a){a=a||I;return f&&f.abort(a),e(0,a),this}};if(q.promise(U).complete=p.add,U.success=U.done,U.error=U.fail,n.url=((a||n.url||
tb.href)+"").replace(T,"").replace(ub,tb.protocol+"//"),n.type=c.method||c.type||n.method||n.type,n.dataTypes=v.trim(n.dataType||"*").toLowerCase().match(Ga)||[""],null==n.crossDomain){a=M.createElement("a");try{a.href=n.url,a.href=a.href,n.crossDomain=ib.protocol+"//"+ib.host!=a.protocol+"//"+a.host}catch(nc){n.crossDomain=!0}}if(n.data&&n.processData&&"string"!=typeof n.data&&(n.data=v.param(n.data,n.traditional)),Cb(Fa,n,c,U),2===G)return U;(h=v.event&&n.global)&&0===v.active++&&v.event.trigger("ajaxStart");
n.type=n.type.toUpperCase();n.hasContent=!Ma.test(n.type);var E=n.url;n.hasContent||(n.data&&(E=n.url+=(Ea.test(E)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=Ua.test(E)?E.replace(Ua,"$1_="+Vb++):E+(Ea.test(E)?"&":"?")+"_="+Vb++));n.ifModified&&(v.lastModified[E]&&U.setRequestHeader("If-Modified-Since",v.lastModified[E]),v.etag[E]&&U.setRequestHeader("If-None-Match",v.etag[E]));(n.data&&n.hasContent&&!1!==n.contentType||c.contentType)&&U.setRequestHeader("Content-Type",n.contentType);U.setRequestHeader("Accept",
n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+la+"; q=0.01":""):n.accepts["*"]);for(d in n.headers)U.setRequestHeader(d,n.headers[d]);if(n.beforeSend&&(!1===n.beforeSend.call(z,U,n)||2===G))return U.abort();I="abort";for(d in{success:1,error:1,complete:1})U[d](n[d]);if(f=Cb(vb,n,c,U)){if(U.readyState=1,h&&t.trigger("ajaxSend",[U,n]),2===G)return U;n.async&&0<n.timeout&&(u=m.setTimeout(function(){U.abort("timeout")},n.timeout));try{G=1,f.send(A,e)}catch(nc){if(!(2>
G))throw nc;e(-1,nc)}}else e(-1,"No Transport");return U},getJSON:function(a,c,e){return v.get(a,c,e,"json")},getScript:function(a,c){return v.get(a,void 0,c,"script")}});v.each(["get","post"],function(a,c){v[c]=function(a,e,f,l){return v.isFunction(e)&&(l=l||f,f=e,e=void 0),v.ajax(v.extend({url:a,type:c,dataType:l,data:e,success:f},v.isPlainObject(a)&&a))}});v._evalUrl=function(a){return v.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};v.fn.extend({wrapAll:function(a){var c;
return v.isFunction(a)?this.each(function(c){v(this).wrapAll(a.call(this,c))}):(this[0]&&(c=v(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return v.isFunction(a)?this.each(function(c){v(this).wrapInner(a.call(this,c))}):this.each(function(){var c=v(this),e=c.contents();e.length?e.wrapAll(a):c.append(a)})},wrap:function(a){var c=v.isFunction(a);
return this.each(function(e){v(this).wrapAll(c?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()}});v.expr.filters.hidden=function(a){return!v.expr.filters.visible(a)};v.expr.filters.visible=function(a){return 0<a.offsetWidth||0<a.offsetHeight||0<a.getClientRects().length};var Gb=/%20/g,za=/\[\]$/,sa=/\r?\n/g,zb=/^(?:submit|button|image|reset|file)$/i,$b=/^(?:input|select|textarea|keygen)/i;v.param=function(a,
c){var e,f=[],l=function(a,c){c=v.isFunction(c)?c():null==c?"":c;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};if(void 0===c&&(c=v.ajaxSettings&&v.ajaxSettings.traditional),v.isArray(a)||a.jquery&&!v.isPlainObject(a))v.each(a,function(){l(this.name,this.value)});else for(e in a)Pa(e,a[e],c,l);return f.join("&").replace(Gb,"+")};v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=v.prop(this,"elements");
return a?v.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!v(this).is(":disabled")&&$b.test(this.nodeName)&&!zb.test(a)&&(this.checked||!Mb.test(a))}).map(function(a,c){a=v(this).val();return null==a?null:v.isArray(a)?v.map(a,function(a){return{name:c.name,value:a.replace(sa,"\r\n")}}):{name:c.name,value:a.replace(sa,"\r\n")}}).get()}});v.ajaxSettings.xhr=function(){try{return new m.XMLHttpRequest}catch(ma){}};var Pb={0:200,1223:204},lb=v.ajaxSettings.xhr();fa.cors=!!lb&&
"withCredentials"in lb;fa.ajax=lb=!!lb;v.ajaxTransport(function(a){var c,e;return fa.cors||lb&&!a.crossDomain?{send:function(f,l){var k,u=a.xhr();if(u.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(k in a.xhrFields)u[k]=a.xhrFields[k];a.mimeType&&u.overrideMimeType&&u.overrideMimeType(a.mimeType);a.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");for(k in f)u.setRequestHeader(k,f[k]);c=function(a){return function(){c&&(c=e=u.onload=u.onerror=u.onabort=
u.onreadystatechange=null,"abort"===a?u.abort():"error"===a?"number"!=typeof u.status?l(0,"error"):l(u.status,u.statusText):l(Pb[u.status]||u.status,u.statusText,"text"!==(u.responseType||"text")||"string"!=typeof u.responseText?{binary:u.response}:{text:u.responseText},u.getAllResponseHeaders()))}};u.onload=c();e=u.onerror=c("error");void 0!==u.onabort?u.onabort=e:u.onreadystatechange=function(){4===u.readyState&&m.setTimeout(function(){c&&e()})};c=c("abort");try{u.send(a.hasContent&&a.data||null)}catch(uc){if(c)throw uc;
}},abort:function(){c&&c()}}:void 0});v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return v.globalEval(a),a}}});v.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});v.ajaxTransport("script",function(a){if(a.crossDomain){var c,e;return{send:function(f,l){c=v("<script>").prop({charset:a.scriptCharset,
src:a.url}).on("load error",e=function(a){c.remove();e=null;a&&l("error"===a.type?404:200,a.type)});M.head.appendChild(c[0])},abort:function(){e&&e()}}}});var ea=[],ia=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ea.pop()||v.expando+"_"+Vb++;return this[a]=!0,a}});v.ajaxPrefilter("json jsonp",function(a,c,e){var f,l,k,u=!1!==a.jsonp&&(ia.test(a.url)?"url":"string"==typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&ia.test(a.data)&&
"data");return u||"jsonp"===a.dataTypes[0]?(f=a.jsonpCallback=v.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,u?a[u]=a[u].replace(ia,"$1"+f):!1!==a.jsonp&&(a.url+=(Ea.test(a.url)?"&":"?")+a.jsonp+"="+f),a.converters["script json"]=function(){return k||v.error(f+" was not called"),k[0]},a.dataTypes[0]="json",l=m[f],m[f]=function(){k=arguments},e.always(function(){void 0===l?v(m).removeProp(f):m[f]=l;a[f]&&(a.jsonpCallback=c.jsonpCallback,ea.push(f));k&&v.isFunction(l)&&l(k[0]);k=l=
void 0}),"script"):void 0});v.parseHTML=function(a,c,f){if(!a||"string"!=typeof a)return null;"boolean"==typeof c&&(f=c,c=!1);c=c||M;var l=ec.exec(a);f=!f&&[];return l?[c.createElement(l[1])]:(l=e([a],c,f),f&&f.length&&v(f).remove(),v.merge([],l.childNodes))};var Na=v.fn.load;v.fn.load=function(a,c,e){if("string"!=typeof a&&Na)return Na.apply(this,arguments);var f,l,k,u=this,h=a.indexOf(" ");return-1<h&&(f=v.trim(a.slice(h)),a=a.slice(0,h)),v.isFunction(c)?(e=c,c=void 0):c&&"object"==typeof c&&(l=
"POST"),0<u.length&&v.ajax({url:a,type:l||"GET",dataType:"html",data:c}).done(function(a){k=arguments;u.html(f?v("<div>").append(v.parseHTML(a)).find(f):a)}).always(e&&function(a,c){u.each(function(){e.apply(this,k||[a.responseText,c,a])})}),this};v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){v.fn[c]=function(a){return this.on(c,a)}});v.expr.filters.animated=function(a){return v.grep(v.timers,function(c){return a===c.elem}).length};v.offset={setOffset:function(a,
c,e){var f,l,k,u=v.css(a,"position"),h=v(a),d={};"static"===u&&(a.style.position="relative");var n=h.offset();var z=v.css(a,"top");var t=v.css(a,"left");("absolute"===u||"fixed"===u)&&-1<(z+t).indexOf("auto")?(f=h.position(),k=f.top,l=f.left):(k=parseFloat(z)||0,l=parseFloat(t)||0);v.isFunction(c)&&(c=c.call(a,e,v.extend({},n)));null!=c.top&&(d.top=c.top-n.top+k);null!=c.left&&(d.left=c.left-n.left+l);"using"in c?c.using.call(a,d):h.css(d)}};v.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(c){v.offset.setOffset(this,a,c)});var c,e,f=this[0],l={top:0,left:0},k=f&&f.ownerDocument;if(k)return c=k.documentElement,v.contains(c,f)?(l=f.getBoundingClientRect(),e=db(k),{top:l.top+e.pageYOffset-c.clientTop,left:l.left+e.pageXOffset-c.clientLeft}):l},position:function(){if(this[0]){var a,c,e=this[0],f={top:0,left:0};return"fixed"===v.css(e,"position")?c=e.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),v.nodeName(a[0],"html")||(f=a.offset()),f.top+=v.css(a[0],
"borderTopWidth",!0),f.left+=v.css(a[0],"borderLeftWidth",!0)),{top:c.top-f.top-v.css(e,"marginTop",!0),left:c.left-f.left-v.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===v.css(a,"position");)a=a.offsetParent;return a||sb})}});v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var e="pageYOffset"===c;v.fn[a]=function(f){return pa(this,function(a,f,l){var k=db(a);return void 0===l?k?k[c]:a[f]:void(k?k.scrollTo(e?
k.pageXOffset:l,e?l:k.pageYOffset):a[f]=l)},a,f,arguments.length)}});v.each(["top","left"],function(a,c){v.cssHooks[c]=N(fa.pixelPosition,function(a,e){return e?(e=K(a,c),Ib.test(e)?v(a).position()[c]+"px":e):void 0})});v.each({Height:"height",Width:"width"},function(a,c){v.each({padding:"inner"+a,content:c,"":"outer"+a},function(e,f){v.fn[f]=function(f,l){var k=arguments.length&&(e||"boolean"!=typeof f),u=e||(!0===f||!0===l?"margin":"border");return pa(this,function(c,e,f){var l;return v.isWindow(c)?
c.document.documentElement["client"+a]:9===c.nodeType?(l=c.documentElement,Math.max(c.body["scroll"+a],l["scroll"+a],c.body["offset"+a],l["offset"+a],l["client"+a])):void 0===f?v.css(c,e,u):v.style(c,e,f,u)},c,k?f:void 0,k,null)}})});v.fn.extend({bind:function(a,c,e){return this.on(a,null,c,e)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,e,f){return this.on(c,a,e,f)},undelegate:function(a,c,e){return 1===arguments.length?this.off(a,"**"):this.off(c,a||"**",e)},size:function(){return this.length}});
v.fn.andSelf=v.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return v});var ob=m.jQuery,ab=m.$;return v.noConflict=function(a){return m.$===v&&(m.$=ab),a&&m.jQuery===v&&(m.jQuery=ob),v},d||(m.jQuery=m.$=v),v});
define("app/utilities/promise",["module"],function(m){function d(d,t,k){k=k||[];if("function"===typeof d&&!h.debugMode)try{return d.apply(t||null,k)}catch(a){n&&(a.callback=d,a.context=t,a.arguments=k,n.error(a))}else if("function"===typeof d)return d.apply(t||null,k)}var h={},n,p=function(h){function n(){"pending"!==a&&("rejected"===a&&"function"===typeof e?e.apply(null,[l]):"fulfilled"===a&&"function"===typeof c&&c.apply(null,[l]))}var k=Array.prototype.slice.call(arguments,1),a="pending",f=0,l=
[],c,e,u=0;"function"===typeof h?h=[h]:Array.isArray(h)&&!h.length&&(h=void 0);var z=h?h.length:0;k.push(function(){++f>z-1&&(a="fulfilled");l=l.concat(Array.prototype.slice.call(arguments,0));n()},function(){a="rejected";l=l.concat(Array.prototype.slice.call(arguments,0));n()});if(h)for(;u<z;u++)d(h[u],null,k);else a="fulfilled";return{then:function(a,f){if("function"!==typeof a||f&&"function"!==typeof f)throw Error("You must pass functions as arguments");"function"===typeof a&&(c=a);"function"===
typeof f&&(e=f);n()}}};p.configure=function(d,t){h=$.extend(h,d.configure(m.id));n=t};return p});
define("app/events",["jquery","module","app/utilities/promise"],function(m,d,h){function n(a,l,c){c=c||[];if("function"===typeof a&&!t.debugMode)try{return a.apply(l||null,c)}catch(e){k&&(e.callback=a,e.context=l,e.arguments=c,k.error(e))}else if("function"===typeof a)return a.apply(l||null,c)}var p={},q={},t={},k;var a=function(a,l){var c=document.createEvent("CustomEvent");l=l||{bubbles:!1,cancelable:!1,detail:void 0};c.initCustomEvent(a,l.bubbles,l.cancelable,l.detail);return c};"undefined"!==
typeof window.CustomEvent&&(a.prototype=window.CustomEvent.prototype);window.CustomEvent=a;d=function(){this.config={handlerAmountThreshold:20};this.init=function(){var a=this;this.trigger("events.init:before",this);this.on("configuration.loaded",function(f){a.config=m.extend(a.config,f.configure("events"));t=a.config;h.configure(f,k)});this.trigger("events.init:after",this)}};d.prototype.on=function(a,l){a=a.trim();if(-1!==a.indexOf(" "))return a.split(" ").forEach(function(a){this.on(a,l)},this),
this;p[a]=p[a]||[];-1!==p[a].indexOf(l)&&k&&k.warn('The event "'+a+'" already has the following handler attached to it: \n'+l);p[a].push(l);p[a].length>this.config.handlerAmountThreshold&&k&&k.warn('The event "'+a+'" has an abnormal number of handlers attached to it: '+p[a].length+" in total.");q[a]&&n(l,null,q[a]);return this};d.prototype.off=function(a,l){if(!a)return p={},this;var c=p[a];if(!c)return this;if(!l)return p[a]=[],this;for(var e=0;e<c.length;e++)if(c[e]===l)return p[a].splice(e,1),
this};d.prototype.trigger=function(f,l){var c=p[f],e;var u=Array.prototype.slice.call(arguments,("boolean"===typeof l?2:1)|0||0);!0===l&&(q[f]=u);if(c){var h=c.slice(0);var d=0;for(e=h.length;d<e;d++)-1!==c.indexOf(h[d])&&n(h[d],null,u)}c=new a(f,{bubbles:!1,cancelable:!1,detail:u});document.dispatchEvent(c);k&&t.debugMode&&k.log("Event triggered: "+f);return f};d.prototype.triggerCheckEvent=function(a){var f=Array.prototype.slice.call(arguments,1);return new h(p[a],f)};d.prototype.cease=function(a){delete q[a];
return a};d=new d;d.trigger("events.loaded",!0,d);d.on("XyTools.loaded",function(a){k=a});return d});
define("app/configuration",["module","jquery","app/events"],function(m,d,h){var n={},p=window.XYLEME_MODULES_CONFIG||{},q=p[m.config().globalSelector]||{};var t=function(){this.config={};this.init=function(){h.trigger("configuration.init:before",this);this.config=d.extend(this.config,this.configure(m.id));h.trigger("configuration.init:after",this);return this}};t.prototype.configure=function(k,a){var f=p[k]||{};h.trigger("configuration.configure:before");k=k.toLowerCase();n[k]=n[k]||{};var l=d.extend({},
q,f,n[k]);if(void 0===a)return l;k===m.config().globalSelector&&(q=d.extend({},q,a));n[k]=d.extend(n[k],f,a);return n[k]};t=new t;h.trigger("configuration.loaded",!0,t);return t});
(function(){function m(a){return function(c,e,f,l){e=I(e,l,4);var k=!K(c)&&x.keys(c),u=(k||c).length,h=0<a?0:u-1;3>arguments.length&&(f=c[k?k[h]:h],h+=a);for(var d=e,n=f;0<=h&&h<u;h+=a){var z=k?k[h]:h;n=d(n,c[z],z,c)}return n}}function d(a){return function(c,e,f){e=H(e,f);f=E(c);for(var l=0<a?0:f-1;0<=l&&l<f;l+=a)if(e(c[l],l,c))return l;return-1}}function h(a,c,e){return function(l,k,u){var h=0,d=E(l);if("number"==typeof u)0<a?h=0<=u?u:Math.max(u+d,h):d=0<=u?Math.min(u+1,d):u+d+1;else if(e&&u&&d)return u=
e(l,k),l[u]===k?u:-1;if(k!==k)return u=c(f.call(l,h,d),x.isNaN),0<=u?u+h:-1;for(u=0<a?h:d-1;0<=u&&u<d;u+=a)if(l[u]===k)return u;return-1}}function n(a,c){var e=ha.length,f=a.constructor;f=x.isFunction(f)&&f.prototype||k;var l="constructor";for(x.has(a,l)&&!x.contains(c,l)&&c.push(l);e--;)l=ha[e],l in a&&a[l]!==f[l]&&!x.contains(c,l)&&c.push(l)}var p=this,q=p._,t=Array.prototype,k=Object.prototype,a=t.push,f=t.slice,l=k.toString,c=k.hasOwnProperty,e=Array.isArray,u=Object.keys,z=Function.prototype.bind,
B=Object.create,G=function(){},x=function(a){if(a instanceof x)return a;if(!(this instanceof x))return new x(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=x),exports._=x):p._=x;x.VERSION="1.8.3";var I=function(a,c,e){if(void 0===c)return a;switch(null==e?3:e){case 1:return function(e){return a.call(c,e)};case 2:return function(e,f){return a.call(c,e,f)};case 3:return function(e,f,l){return a.call(c,e,f,l)};case 4:return function(e,
f,l,k){return a.call(c,e,f,l,k)}}return function(){return a.apply(c,arguments)}},H=function(a,c,e){return null==a?x.identity:x.isFunction(a)?I(a,c,e):x.isObject(a)?x.matcher(a):x.property(a)};x.iteratee=function(a,c){return H(a,c,Infinity)};var A=function(a,c){return function(e){var f=arguments.length;if(2>f||null==e)return e;for(var l=1;l<f;l++)for(var k=arguments[l],u=a(k),h=u.length,d=0;d<h;d++){var n=u[d];c&&void 0!==e[n]||(e[n]=k[n])}return e}},D=function(a){if(!x.isObject(a))return{};if(B)return B(a);
G.prototype=a;a=new G;G.prototype=null;return a},C=function(a){return function(c){return null==c?void 0:c[a]}},F=Math.pow(2,53)-1,E=C("length"),K=function(a){a=E(a);return"number"==typeof a&&0<=a&&a<=F};x.each=x.forEach=function(a,c,e){c=I(c,e);var f;if(K(a))for(e=0,f=a.length;e<f;e++)c(a[e],e,a);else{var l=x.keys(a);e=0;for(f=l.length;e<f;e++)c(a[l[e]],l[e],a)}return a};x.map=x.collect=function(a,c,e){c=H(c,e);e=!K(a)&&x.keys(a);for(var f=(e||a).length,l=Array(f),k=0;k<f;k++){var u=e?e[k]:k;l[k]=
c(a[u],u,a)}return l};x.reduce=x.foldl=x.inject=m(1);x.reduceRight=x.foldr=m(-1);x.find=x.detect=function(a,c,e){c=K(a)?x.findIndex(a,c,e):x.findKey(a,c,e);if(void 0!==c&&-1!==c)return a[c]};x.filter=x.select=function(a,c,e){var f=[];c=H(c,e);x.each(a,function(a,e,l){c(a,e,l)&&f.push(a)});return f};x.reject=function(a,c,e){return x.filter(a,x.negate(H(c)),e)};x.every=x.all=function(a,c,e){c=H(c,e);e=!K(a)&&x.keys(a);for(var f=(e||a).length,l=0;l<f;l++){var k=e?e[l]:l;if(!c(a[k],k,a))return!1}return!0};
x.some=x.any=function(a,c,e){c=H(c,e);e=!K(a)&&x.keys(a);for(var f=(e||a).length,l=0;l<f;l++){var k=e?e[l]:l;if(c(a[k],k,a))return!0}return!1};x.contains=x.includes=x.include=function(a,c,e,f){K(a)||(a=x.values(a));if("number"!=typeof e||f)e=0;return 0<=x.indexOf(a,c,e)};x.invoke=function(a,c){var e=f.call(arguments,2),l=x.isFunction(c);return x.map(a,function(a){var f=l?c:a[c];return null==f?f:f.apply(a,e)})};x.pluck=function(a,c){return x.map(a,x.property(c))};x.where=function(a,c){return x.filter(a,
x.matcher(c))};x.findWhere=function(a,c){return x.find(a,x.matcher(c))};x.max=function(a,c,e){var f=-Infinity,l=-Infinity,k;if(null==c&&null!=a){a=K(a)?a:x.values(a);for(var u=0,h=a.length;u<h;u++)e=a[u],e>f&&(f=e)}else c=H(c,e),x.each(a,function(a,e,u){k=c(a,e,u);if(k>l||-Infinity===k&&-Infinity===f)f=a,l=k});return f};x.min=function(a,c,e){var f=Infinity,l=Infinity,k;if(null==c&&null!=a){a=K(a)?a:x.values(a);for(var u=0,h=a.length;u<h;u++)e=a[u],e<f&&(f=e)}else c=H(c,e),x.each(a,function(a,e,u){k=
c(a,e,u);if(k<l||Infinity===k&&Infinity===f)f=a,l=k});return f};x.shuffle=function(a){a=K(a)?a:x.values(a);for(var c=a.length,e=Array(c),f=0,l;f<c;f++)l=x.random(0,f),l!==f&&(e[f]=e[l]),e[l]=a[f];return e};x.sample=function(a,c,e){return null==c||e?(K(a)||(a=x.values(a)),a[x.random(a.length-1)]):x.shuffle(a).slice(0,Math.max(0,c))};x.sortBy=function(a,c,e){c=H(c,e);return x.pluck(x.map(a,function(a,e,f){return{value:a,index:e,criteria:c(a,e,f)}}).sort(function(a,c){var e=a.criteria,f=c.criteria;if(e!==
f){if(e>f||void 0===e)return 1;if(e<f||void 0===f)return-1}return a.index-c.index}),"value")};var N=function(a){return function(c,e,f){var l={};e=H(e,f);x.each(c,function(f,k){k=e(f,k,c);a(l,f,k)});return l}};x.groupBy=N(function(a,c,e){x.has(a,e)?a[e].push(c):a[e]=[c]});x.indexBy=N(function(a,c,e){a[e]=c});x.countBy=N(function(a,c,e){x.has(a,e)?a[e]++:a[e]=1});x.toArray=function(a){return a?x.isArray(a)?f.call(a):K(a)?x.map(a,x.identity):x.values(a):[]};x.size=function(a){return null==a?0:K(a)?a.length:
x.keys(a).length};x.partition=function(a,c,e){c=H(c,e);var f=[],l=[];x.each(a,function(a,e,k){(c(a,e,k)?f:l).push(a)});return[f,l]};x.first=x.head=x.take=function(a,c,e){if(null!=a)return null==c||e?a[0]:x.initial(a,a.length-c)};x.initial=function(a,c,e){return f.call(a,0,Math.max(0,a.length-(null==c||e?1:c)))};x.last=function(a,c,e){if(null!=a)return null==c||e?a[a.length-1]:x.rest(a,Math.max(0,a.length-c))};x.rest=x.tail=x.drop=function(a,c,e){return f.call(a,null==c||e?1:c)};x.compact=function(a){return x.filter(a,
x.identity)};var Y=function(a,c,e,f){var l=[],k=0;f=f||0;for(var u=E(a);f<u;f++){var h=a[f];if(K(h)&&(x.isArray(h)||x.isArguments(h))){c||(h=Y(h,c,e));var d=0,n=h.length;for(l.length+=n;d<n;)l[k++]=h[d++]}else e||(l[k++]=h)}return l};x.flatten=function(a,c){return Y(a,c,!1)};x.without=function(a){return x.difference(a,f.call(arguments,1))};x.uniq=x.unique=function(a,c,e,f){x.isBoolean(c)||(f=e,e=c,c=!1);null!=e&&(e=H(e,f));f=[];for(var l=[],k=0,u=E(a);k<u;k++){var h=a[k],d=e?e(h,k,a):h;c?(k&&l===
d||f.push(h),l=d):e?x.contains(l,d)||(l.push(d),f.push(h)):x.contains(f,h)||f.push(h)}return f};x.union=function(){return x.uniq(Y(arguments,!0,!0))};x.intersection=function(a){for(var c=[],e=arguments.length,f=0,l=E(a);f<l;f++){var k=a[f];if(!x.contains(c,k)){for(var u=1;u<e&&x.contains(arguments[u],k);u++);u===e&&c.push(k)}}return c};x.difference=function(a){var c=Y(arguments,!0,!0,1);return x.filter(a,function(a){return!x.contains(c,a)})};x.zip=function(){return x.unzip(arguments)};x.unzip=function(a){for(var c=
a&&x.max(a,E).length||0,e=Array(c),f=0;f<c;f++)e[f]=x.pluck(a,f);return e};x.object=function(a,c){for(var e={},f=0,l=E(a);f<l;f++)c?e[a[f]]=c[f]:e[a[f][0]]=a[f][1];return e};x.findIndex=d(1);x.findLastIndex=d(-1);x.sortedIndex=function(a,c,e,f){e=H(e,f,1);c=e(c);f=0;for(var l=E(a);f<l;){var k=Math.floor((f+l)/2);e(a[k])<c?f=k+1:l=k}return f};x.indexOf=h(1,x.findIndex,x.sortedIndex);x.lastIndexOf=h(-1,x.findLastIndex);x.range=function(a,c,e){null==c&&(c=a||0,a=0);e=e||1;c=Math.max(Math.ceil((c-a)/
e),0);for(var f=Array(c),l=0;l<c;l++,a+=e)f[l]=a;return f};var P=function(a,c,e,f,l){if(!(f instanceof c))return a.apply(e,l);c=D(a.prototype);a=a.apply(c,l);return x.isObject(a)?a:c};x.bind=function(a,c){if(z&&a.bind===z)return z.apply(a,f.call(arguments,1));if(!x.isFunction(a))throw new TypeError("Bind must be called on a function");var e=f.call(arguments,2),l=function(){return P(a,l,c,this,e.concat(f.call(arguments)))};return l};x.partial=function(a){var c=f.call(arguments,1),e=function(){for(var f=
0,l=c.length,k=Array(l),u=0;u<l;u++)k[u]=c[u]===x?arguments[f++]:c[u];for(;f<arguments.length;)k.push(arguments[f++]);return P(a,e,this,this,k)};return e};x.bindAll=function(a){var c,e=arguments.length;if(1>=e)throw Error("bindAll must be passed function names");for(c=1;c<e;c++){var f=arguments[c];a[f]=x.bind(a[f],a)}return a};x.memoize=function(a,c){var e=function(f){var l=e.cache,k=""+(c?c.apply(this,arguments):f);x.has(l,k)||(l[k]=a.apply(this,arguments));return l[k]};e.cache={};return e};x.delay=
function(a,c){var e=f.call(arguments,2);return setTimeout(function(){return a.apply(null,e)},c)};x.defer=x.partial(x.delay,x,1);x.throttle=function(a,c,e){var f,l,k,u=null,h=0;e||(e={});var d=function(){h=!1===e.leading?0:x.now();u=null;k=a.apply(f,l);u||(f=l=null)};return function(){var n=x.now();h||!1!==e.leading||(h=n);var z=c-(n-h);f=this;l=arguments;0>=z||z>c?(u&&(clearTimeout(u),u=null),h=n,k=a.apply(f,l),u||(f=l=null)):u||!1===e.trailing||(u=setTimeout(d,z));return k}};x.debounce=function(a,
c,e){var f,l,k,u,h,d=function(){var n=x.now()-u;n<c&&0<=n?f=setTimeout(d,c-n):(f=null,e||(h=a.apply(k,l),f||(k=l=null)))};return function(){k=this;l=arguments;u=x.now();var n=e&&!f;f||(f=setTimeout(d,c));n&&(h=a.apply(k,l),k=l=null);return h}};x.wrap=function(a,c){return x.partial(c,a)};x.negate=function(a){return function(){return!a.apply(this,arguments)}};x.compose=function(){var a=arguments,c=a.length-1;return function(){for(var e=c,f=a[c].apply(this,arguments);e--;)f=a[e].call(this,f);return f}};
x.after=function(a,c){return function(){if(1>--a)return c.apply(this,arguments)}};x.before=function(a,c){var e;return function(){0<--a&&(e=c.apply(this,arguments));1>=a&&(c=null);return e}};x.once=x.partial(x.before,2);var W=!{toString:null}.propertyIsEnumerable("toString"),ha="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");x.keys=function(a){if(!x.isObject(a))return[];if(u)return u(a);var c=[],e;for(e in a)x.has(a,e)&&c.push(e);W&&n(a,c);return c};x.allKeys=
function(a){if(!x.isObject(a))return[];var c=[],e;for(e in a)c.push(e);W&&n(a,c);return c};x.values=function(a){for(var c=x.keys(a),e=c.length,f=Array(e),l=0;l<e;l++)f[l]=a[c[l]];return f};x.mapObject=function(a,c,e){c=H(c,e);e=x.keys(a);for(var f=e.length,l={},k,u=0;u<f;u++)k=e[u],l[k]=c(a[k],k,a);return l};x.pairs=function(a){for(var c=x.keys(a),e=c.length,f=Array(e),l=0;l<e;l++)f[l]=[c[l],a[c[l]]];return f};x.invert=function(a){for(var c={},e=x.keys(a),f=0,l=e.length;f<l;f++)c[a[e[f]]]=e[f];return c};
x.functions=x.methods=function(a){var c=[],e;for(e in a)x.isFunction(a[e])&&c.push(e);return c.sort()};x.extend=A(x.allKeys);x.extendOwn=x.assign=A(x.keys);x.findKey=function(a,c,e){c=H(c,e);e=x.keys(a);for(var f,l=0,k=e.length;l<k;l++)if(f=e[l],c(a[f],f,a))return f};x.pick=function(a,c,e){var f={},l=a;if(null==l)return f;if(x.isFunction(c)){var k=x.allKeys(l);var u=I(c,e)}else k=Y(arguments,!1,!1,1),u=function(a,c,e){return c in e},l=Object(l);for(var h=0,d=k.length;h<d;h++){var n=k[h],z=l[n];u(z,
n,l)&&(f[n]=z)}return f};x.omit=function(a,c,e){if(x.isFunction(c))c=x.negate(c);else{var f=x.map(Y(arguments,!1,!1,1),String);c=function(a,c){return!x.contains(f,c)}}return x.pick(a,c,e)};x.defaults=A(x.allKeys,!0);x.create=function(a,c){a=D(a);c&&x.extendOwn(a,c);return a};x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a};x.tap=function(a,c){c(a);return a};x.isMatch=function(a,c){var e=x.keys(c),f=e.length;if(null==a)return!f;a=Object(a);for(var l=0;l<f;l++){var k=
e[l];if(c[k]!==a[k]||!(k in a))return!1}return!0};var ja=function(a,c,e,f){if(a===c)return 0!==a||1/a===1/c;if(null==a||null==c)return a===c;a instanceof x&&(a=a._wrapped);c instanceof x&&(c=c._wrapped);var k=l.call(a);if(k!==l.call(c))return!1;switch(k){case "[object RegExp]":case "[object String]":return""+a===""+c;case "[object Number]":return+a!==+a?+c!==+c:0===+a?1/+a===1/c:+a===+c;case "[object Date]":case "[object Boolean]":return+a===+c}k="[object Array]"===k;if(!k){if("object"!=typeof a||
"object"!=typeof c)return!1;var u=a.constructor,h=c.constructor;if(u!==h&&!(x.isFunction(u)&&u instanceof u&&x.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in c)return!1}e=e||[];f=f||[];for(u=e.length;u--;)if(e[u]===a)return f[u]===c;e.push(a);f.push(c);if(k){u=a.length;if(u!==c.length)return!1;for(;u--;)if(!ja(a[u],c[u],e,f))return!1}else{k=x.keys(a);u=k.length;if(x.keys(c).length!==u)return!1;for(;u--;)if(h=k[u],!x.has(c,h)||!ja(a[h],c[h],e,f))return!1}e.pop();f.pop();return!0};
x.isEqual=function(a,c){return ja(a,c)};x.isEmpty=function(a){return null==a?!0:K(a)&&(x.isArray(a)||x.isString(a)||x.isArguments(a))?0===a.length:0===x.keys(a).length};x.isElement=function(a){return!(!a||1!==a.nodeType)};x.isArray=e||function(a){return"[object Array]"===l.call(a)};x.isObject=function(a){var c=typeof a;return"function"===c||"object"===c&&!!a};x.each("Arguments Function String Number Date RegExp Error".split(" "),function(a){x["is"+a]=function(c){return l.call(c)==="[object "+a+"]"}});
x.isArguments(arguments)||(x.isArguments=function(a){return x.has(a,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(a){return"function"==typeof a||!1});x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};x.isNaN=function(a){return x.isNumber(a)&&a!==+a};x.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===l.call(a)};x.isNull=function(a){return null===a};x.isUndefined=function(a){return void 0===a};x.has=function(a,e){return null!=a&&
c.call(a,e)};x.noConflict=function(){p._=q;return this};x.identity=function(a){return a};x.constant=function(a){return function(){return a}};x.noop=function(){};x.property=C;x.propertyOf=function(a){return null==a?function(){}:function(c){return a[c]}};x.matcher=x.matches=function(a){a=x.extendOwn({},a);return function(c){return x.isMatch(c,a)}};x.times=function(a,c,e){var f=Array(Math.max(0,a));c=I(c,e,1);for(e=0;e<a;e++)f[e]=c(e);return f};x.random=function(a,c){null==c&&(c=a,a=0);return a+Math.floor(Math.random()*
(c-a+1))};x.now=Date.now||function(){return(new Date).getTime()};e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};A=x.invert(e);C=function(a){var c=function(c){return a[c]},e="(?:"+x.keys(a).join("|")+")",f=RegExp(e),l=RegExp(e,"g");return function(a){a=null==a?"":""+a;return f.test(a)?a.replace(l,c):a}};x.escape=C(e);x.unescape=C(A);x.result=function(a,c,e){c=null==a?void 0:a[c];void 0===c&&(c=e);return x.isFunction(c)?c.call(a):c};var ba=0;x.uniqueId=function(a){var c=
++ba+"";return a?a+c:c};x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Z=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},cb=/\\|'|\r|\n|\u2028|\u2029/g,Qa=function(a){return"\\"+R[a]};x.template=function(a,c,e){!c&&e&&(c=e);c=x.defaults({},c,x.templateSettings);e=RegExp([(c.escape||Z).source,(c.interpolate||Z).source,(c.evaluate||Z).source].join("|")+"|$","g");var f=0,l="__p+='";a.replace(e,function(c,e,
k,u,h){l+=a.slice(f,h).replace(cb,Qa);f=h+c.length;e?l+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":k?l+="'+\n((__t=("+k+"))==null?'':__t)+\n'":u&&(l+="';\n"+u+"\n__p+='");return c});l+="';\n";c.variable||(l="with(obj||{}){\n"+l+"}\n");l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{var k=new Function(c.variable||"obj","_",l)}catch(oa){throw oa.source=l,oa;}e=function(a){return k.call(this,a,x)};e.source="function("+(c.variable||
"obj")+"){\n"+l+"}";return e};x.chain=function(a){a=x(a);a._chain=!0;return a};var S=function(a,c){return a._chain?x(c).chain():c};x.mixin=function(c){x.each(x.functions(c),function(e){var f=x[e]=c[e];x.prototype[e]=function(){var c=[this._wrapped];a.apply(c,arguments);return S(this,f.apply(x,c))}})};x.mixin(x);x.each("pop push reverse shift sort splice unshift".split(" "),function(a){var c=t[a];x.prototype[a]=function(){var e=this._wrapped;c.apply(e,arguments);"shift"!==a&&"splice"!==a||0!==e.length||
delete e[0];return S(this,e)}});x.each(["concat","join","slice"],function(a){var c=t[a];x.prototype[a]=function(){return S(this,c.apply(this._wrapped,arguments))}});x.prototype.value=function(){return this._wrapped};x.prototype.valueOf=x.prototype.toJSON=x.prototype.value;x.prototype.toString=function(){return""+this._wrapped};"function"===typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this);
define("app/utilities/has",["app/events","app/configuration"],function(m,d){var h=new function(){var h=this;this.config={};this.init=function(){m.trigger("has.init:before",this);this.config=d.configure("has");m.trigger("has.init:after",this)};this.calc=function(){m.trigger("has.calc:before",this);if(null==this.hasCalc){for(var d=document.createElement("div"),n="",t=["-webkit-","-moz-","-ms-",""],k=0,a=t.length;k<a;k++)n+="width:"+t[k]+"calc(10px);";d.style.cssText=n;h.hasCalc=!!d.style.length}m.trigger("has.calc:after",
this);return this.hasCalc};this.whichTransitionEnd=function(){m.trigger("has.whichTransitionEnd:before",this);if(null==this.transitionEndType){var d=document.createElement("div"),n={transition:"transitionend",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},t;for(t in n)if(void 0!==d.style[t]){h.transitionEndType=n[t];break}}m.trigger("has.whichTransitionEnd:after",this);return this.transitionEndType};this.cssProperty=function(){var h=document.createElement("div"),
d=["Webkit","Moz","Ms","Khtml"],n=d.length;m.trigger("has.cssProperty:before",this);m.trigger("has.cssProperty:after",this);return function(k){var a=n;if(k in h.style)return!0;for(k=k.replace(/^[a-z]/,function(a){return a.toUpperCase()});a--;)if(d[a]+k in h.style)return!0;return!1}}()};m.trigger("has.loaded",!0,h);return h});
define("app/utilities/ajax",["jquery","app/events","app/configuration","fileCache"],function(m,d,h,n){var p;var q={list:n,setItem:function(h,k){q.list[h]=k},getItem:function(h){return q.list[h]||q.list[h.replace(".html","")]||!1},removeItem:function(h){q.list[h]&&delete q.list[h]},key:function(h){return q.list.keys()[h]},clear:function(){q.list={}}};n=new function(){try{var n=window.sessionStorage}catch(a){}try{var k=window.localStorage}catch(a){}this.requestMap={};this.init=function(){var a={getItem:function(){},
setItem:function(){},removeItem:function(){},key:function(){},clear:function(){}},f=window.Xyleme.environment.IS_DEPLOY?!0:window.Xyleme.environment.ALLOW_PREVIEW_CACHING,l;d.trigger("ajax.init:before",this);this.config={cache:f,clearCacheOnReload:!f,useBrowserCache:!0,storage:[q,n,k],consolidateRequests:!0,minLoadingTime:200};this.config=m.extend(this.config,h.configure("ajax"));p=this.config.storage;p.length||(p=[]);f=0;for(l=p.length;f<l;f+=1)p[f]||(p[f]=a);if(this.config.clearCacheOnReload)for(f=
0,l=p.length;f<l;f+=1)"function"===typeof p.clear&&p[f].clear();d.trigger("ajax.init:after",this)};this.load=function(a,f){var l=this;d.trigger("ajax.load:before",this);var c={type:"get",cache:this.config.useBrowserCache};var e={providedSuccess:a.success,providedError:a.error,providedComplete:a.complete,success:function(c,e,f){d.trigger("ajax.load:success",c,e,f,l);a.providedSuccess=Array.isArray(a.providedSuccess)?a.providedSuccess:[a.providedSuccess];a.providedSuccess.forEach(function(a,l){"function"===
typeof a&&a(c,e,f)});l.config.cache&&l.setToStorage(a.url,c)},error:function(c,e,f){d.trigger("ajax.load:error",c,e,f,l);a.providedError=Array.isArray(a.providedError)?a.providedError:[a.providedError];a.providedError.forEach(function(a,l){"function"===typeof a&&a(c,e,f)})},complete:function(c,e){d.trigger("ajax.load:complete",c,e,l);a.providedComplete=Array.isArray(a.providedComplete)?a.providedComplete:[a.providedComplete];a.providedComplete.forEach(function(a,f){"function"===typeof a&&a(c,e)})}};
a=m.extend(!0,{},c,a);c=m.extend(!0,{},a,e);d.trigger("ajax.load:after");return f||/^false$/i.test(l.config.consolidateRequests)?m.ajax(c):l.registerRequest(a)};this.registerRequest=function(a){function f(c,e){e=Array.isArray(e)?e:[e];e.forEach(function(e,f){"function"===typeof e&&l.requestMap[a.cleanUrl][c].push(e)})}var l=this,c;a.cleanUrl=a.url.split("?")[0];var e={providedSuccess:a.success,providedError:a.error,providedComplete:a.complete,success:function(a,c,e){e.url=this.url;e.cleanUrl=this.url.split("?")[0];
l.succeedRequest.call(l,a,c,e)},error:function(a,c,e){a.url=this.url;a.cleanUrl=this.url.split("?")[0];l.failRequest.call(l,a,c,e)},complete:function(a,c){a.url=this.url;a.cleanUrl=this.url.split("?")[0];l.completeRequest.call(l,a,c)}};if(!this.requestMap[a.cleanUrl])if(this.requestMap[a.cleanUrl]={success:[],error:[],complete:[]},this.requestMap[a.cleanUrl].startTime=+new Date,this.requestMap[a.cleanUrl].callbackQueue=[],(c=this.getFromStorage(a.url))&&this.config.cache){var k=function(c){l.succeedRequest.call(l,
c,"success",{url:a.url,cleanUrl:a.cleanUrl});l.completeRequest.call(l,{url:a.url,cleanUrl:a.cleanUrl},"success")};c.then?c.then(k):setTimeout(function(){k(c)},0)}else m.ajax(m.extend({},a,e));f("success",e.providedSuccess);f("error",e.providedError);f("complete",e.providedComplete)};this.succeedRequest=function(a,f,l){var c=l.cleanUrl||l.url.split("?")[0],e=this.requestMap[c]&&this.requestMap[c].success;this.waitFor(c,function(){d.trigger("ajax.load:success",a,f,l,this);e.forEach(function(c,e){"function"===
typeof c&&c(a,f,l)});this.config.cache&&this.setToStorage(l.url,a)})};this.failRequest=function(a,f,l){var c=a.cleanUrl||a.url.split("?")[0],e=this.requestMap[c]&&this.requestMap[c].error;this.waitFor(c,function(){d.trigger("ajax.load:error",a,f,l,this);e.forEach(function(c,e){"function"===typeof c&&c(a,f,l)})})};this.completeRequest=function(a,f){var l=a.cleanUrl||a.url.split("?")[0],c=this.requestMap[l]&&this.requestMap[l].complete;this.waitFor(l,function(){d.trigger("ajax.load:complete",a,f,this);
c.forEach(function(c,l){"function"===typeof c&&c(a,f)});delete this.requestMap[l]})};this.waitFor=function(a,f){function l(a){k.requestMap[a].callbackQueue.forEach(function(a){a()});k.requestMap[a]&&(k.requestMap[a].callbackQueue=[])}var c=this.requestMap[a]&&this.requestMap[a].startTime,e=+new Date,k=this;f=f.bind(this);c||f();e-c<this.config.minLoadingTime||0<this.requestMap[a].callbackQueue.length?(0===this.requestMap[a].callbackQueue.length&&setTimeout(function(){l(a)},this.config.minLoadingTime-
(e-c)),this.requestMap[a].callbackQueue.push(f)):f()};this.getFromStorage=function(a){var f=a.match(new RegExp(window.Xyleme.environment.GUID_REGEX.source+"(/?|.html?)$")),l,c;a=f&&f[0]?f[0].replace(/(\/|\.html)$/,"")+".html":a;f=0;for(l=p.length;f<l;f+=1)if(c=p[f].getItem(a))return c;return!1};this.setToStorage=function(a,f){var l;var c=0;for(l=p.length;c<l;c+=1)if(p[c]&&"function"===typeof p[c].setItem)return p[c].setItem(a,f),!0;return!1}};d.trigger("ajax.loaded",!0,n);return n});
define("app/utilities/fetchContent",["jquery","app/events","app/configuration","app/utilities/ajax"],function(m,d,h,n){n=new function(){this.config={};this.init=function(){d.trigger("fetchContent.init:before",this);this.config=h.configure("fetchContent");d.trigger("fetchContent.init:after",this)};this.fetch=function(h,n,t){d.trigger("fetchContent.fetch:before");"boolean"===typeof n||/^(true|false)$/i.test(n)?(t=!/^false$/i.test(n),n=this.config.contentContainerSelector):(t=!/^false$/i.test(t),n=n||
this.config.contentContainerSelector);h=m(h);var k=h.filter(n);k.length||(k=h.find(n));t||(k=k.contents().unwrap());d.trigger("fetchContent.fetch:after");return k}};d.trigger("fetchContent.loaded",!0,n);return n});
define("app/utilities/detect",[],function(){function m(d){d||(d=navigator.userAgent);var h={},n={},p=d.match(/Web[kK]it[\/]{0,1}([\d.]+)/),q=d.match(/(Android);?[\s\/]+([\d.]+)?/),t=!!d.match(/\(Macintosh; Intel /),k=d.match(/(iPad).*OS\s([\d_]+)/),a=d.match(/(iPod)(.*OS\s([\d_]+))?/),f=!k&&d.match(/(iPhone\sOS)\s([\d_]+)/),l=d.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=l&&d.match(/TouchPad/),e=d.match(/Kindle\/([\d.]+)/),u=d.match(/Silk\/([\d._]+)/),z=d.match(/(BlackBerry).*Version\/([\d.]+)/),B=d.match(/(BB10).*Version\/([\d.]+)/),
G=d.match(/(RIM\sTablet\sOS)\s([\d.]+)/),x=d.match(/PlayBook/),I=d.match(/Chrome\/([\d.]+)/)||d.match(/CriOS\/([\d.]+)/),H=d.match(/Firefox\/([\d.]+)/),A=d.match(/MSIE\s([\d.]+)/)||d.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),D=d.match(/Edge\/(\d+)/),C=!I&&d.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),F=C||d.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if(n.webkit=!!p)n.version=p[1];q&&(h.android=!0,h.version=q[2]);f&&!a&&(h.ios=h.iphone=!0,h.version=f[2].replace(/_/g,
"."));k&&(h.ios=h.ipad=!0,h.version=k[2].replace(/_/g,"."));a&&(h.ios=h.ipod=!0,h.version=a[3]?a[3].replace(/_/g,"."):null);l&&(h.webos=!0,h.version=l[2]);c&&(h.touchpad=!0);z&&(h.blackberry=!0,h.version=z[2]);B&&(h.bb10=!0,h.version=B[2]);G&&(h.rimtabletos=!0,h.version=G[2]);x&&(n.playbook=!0);e&&(h.kindle=!0,h.version=e[1]);u&&(n.silk=!0,n.version=u[1]);!u&&h.android&&d.match(/Kindle Fire/)&&(n.silk=!0);I&&(n.chrome=!0,n.version=I[1]);H&&(n.firefox=!0,n.version=H[1]);A&&(n.ie=!0,n.version=A[1]);
D&&(n.edge=!0,n.version=D[1]);F&&(t||h.ios)&&(n.safari=!0,t&&(n.version=F[1]));C&&(n.webview=!0);h.tablet=!!(k||x||q&&!d.match(/Mobile/)||H&&d.match(/Tablet/)||A&&!d.match(/Phone/)&&d.match(/Touch/));h.phone=!(h.tablet||h.ipod||!(q||f||l||z||B||I&&d.match(/Android/)||I&&d.match(/CriOS\/([\d.]+)/)||H&&d.match(/Mobile/)||A&&d.match(/Touch/)));return{os:h,browser:n,device:h.phone||h.tablet||h.ipod,detect:m,touchDevice:"ontouchstart"in document}}return m(navigator.userAgent)});
define("app/utilities/XyTools","module jquery underscore app/configuration app/events app/utilities/has app/utilities/ajax app/utilities/fetchContent app/utilities/detect".split(" "),function(m,d,h,n,p,q,t,k,a){var f=function(){this.config={debugMode:!1,showWarnings:!1,mediaQueries:{narrow:"(min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)",normal:"(min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)",
wide:"(min-width: 1220px)"},mediaQueryWatcherClass:"Xyleme-media-state-watcher"};this.has=q;this.ajax=t;this.fetchContent=k;this.detect=a;this.allPageMediaLoaded=!1;this.config.showWarnings|="localhost"===window.location.hostname;this.init=function(){p.trigger("XyTools.init:before",this);this.determineMediaQueries();this.determineCurrentMediaState();this.config=d.extend(this.config,n.configure(m.id));this.allPageMediaLoaded=!1;[this.has,this.ajax,this.fetchContent,this.detect].forEach(function(a){"function"===
typeof a.init&&a.init()});p.trigger("XyTools.init:before",this);p.trigger("XyTools.init:after",this);p.on("content.loaded",function(a){l.isContentContainer(a)&&l.trackPageMediaLoadProgress()});p.on("content.remove",this.resetPageMediaLoadProgress)}};f.prototype.trackPageMediaLoadProgress=function(){var a=d(l.config.contentScrollingContainerSelector).find("img"),e=0,f=a.length;f?a.load(function(){e++;e===f&&(this.allPageMediaLoaded=!0,p.trigger("allPageMedia.loaded",!0))}).error(function(){e++;e===
f&&(this.allPageMediaLoaded=!0,p.trigger("allPageMedia.loaded",!0))}):(this.allPageMediaLoaded=!0,p.trigger("allPageMedia.skipped",!0))};f.prototype.determineMediaQueries=function(){var a=document.createElement("div");a.id="Xyleme-narrow-screen-query";a.className=this.config.mediaQueryWatcherClass;var e=document.createElement("div");e.id="Xyleme-normal-screen-query";e.className=this.config.mediaQueryWatcherClass;var f=document.createElement("div");f.id="Xyleme-wide-screen-query";f.className=this.config.mediaQueryWatcherClass;
document.body.appendChild(a);document.body.appendChild(e);document.body.appendChild(f);this.config.mediaQueries.narrow=window.getComputedStyle(a).fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")||this.config.mediaQueries.narrow;this.config.mediaQueries.normal=window.getComputedStyle(e).fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")||this.config.mediaQueries.normal;this.config.mediaQueries.wide=window.getComputedStyle(f).fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")||this.config.mediaQueries.wide};
f.prototype.determineCurrentMediaState=function(){var a=this,e;var f=function(){var c=d("."+a.config.mediaQueryWatcherClass).filter(function(){return"inline"===d(this).css("display")});c=c.length?c.eq(0)[0].id.replace("Xyleme-","").replace("-screen-query",""):"mobile";e=a.currentMediaState;a.currentMediaState=c;e!==c&&p.trigger("content.mediaState:changed",c,e);return c};var l=h.debounce(f,300);d(window).on("resize.XyTools",l);return f()};f.prototype.log=function(){if(!this.config.debugMode)return!0;
if(window.console)if("function"===typeof window.console.log||"object"===typeof window.console.log){var a=Function.prototype.bind.call(window.console.log,window.console);a.apply(window.console,arguments)}else return!1;else return!1};f.prototype.logGroup=function(a){if(!this.config.debugMode)return!0;if(window.console)"function"===typeof window.console.group?window.console.group(a):"function"===typeof window.console.log&&this.log(a);else return!1};f.prototype.logGroupCollapsed=function(a){if(!this.config.debugMode)return!0;
if(window.console)"function"===typeof window.console.groupCollapsed?window.console.groupCollapsed(a):"function"===typeof window.console.log&&this.log(a);else return!1};f.prototype.logGroupEnd=function(){if(!this.config.debugMode)return!0;if(window.console&&"function"===typeof window.console.groupEnd)window.console.groupEnd();else return!1};f.prototype.timeStamp=function(a){if(!this.config.debugMode)return!0;if(window.console)"function"===typeof window.console.timeStamp?window.console.timeStamp(a):
"function"===typeof window.console.log&&this.log(a+": "+(new Date).getTime());else return!1};f.prototype.time=function(a){if(!this.config.debugMode)return!0};f.prototype.timeEnd=function(a){if(!this.config.debugMode)return!0};f.prototype.warn=function(a){this.config.showWarnings&&("function"===typeof window.console.warn||"object"===typeof window.console.warn?console.warn(a):this.log(a))};f.prototype.error=function(a){var c="string"===typeof a?a:a.name+": "+a.message+" in\n"+a.callback;if(this.config.debugMode)if(this.warn(c),
"function"===typeof window.console.error||"object"===typeof window.console.error){if(a instanceof Error)throw a;window.console.error(a)}else this.warn(a);else this.warn(c)};f.prototype.getJqueryObject=function(a){var c=d([]),f;if(null==a)return this.warn("getJqueryObject: Invalid object provided. Object must not be null or undefined"),c;a=this.toArray(a);var l=0;for(f=a.length;l<f;l+=1)a[l]instanceof d?c=c.add(a[l]):a[l].nodeType?c=c.add(d(a[l])):/^window$/i.test(a[l])||a[l]===window?c=c.add(d(window)):
/^document$/i.test(a[l])?c=c.add(d(document)):(a[l]+="",a[l]=d(a[l]),a[l].length&&(c=c.add(a[l])));return c};f.prototype.extend=function(){function a(c,e){for(var f in e)e.hasOwnProperty(f)&&(/^(object|array)$/.test(k(e[f]))&&e[f]!==e?(/^(object|array)$/.test(k(c[f]))||(c[f]=e[f]instanceof Array?[]:{}),a(c[f],e[f])):c[f]=e[f]);return c}var e=0,f,l={},k=this.type;for(f=arguments.length;e<f;e++)l=a(l,arguments[e]);return l};f.prototype.copy=function(a){return this.extend(a)};f.prototype.capitalize=
function(a){return a.replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})};f.prototype.parseTemplate=function(a,e){var c=0;if(e instanceof Array)a.replace(/\{\d*\}/g,function(a){var f=e[parseInt(a.replace(/\{|\}/g,""),"")];"undefined"===typeof f&&(f=a.replace(/\{|\}/g,""));c++;return f});else if("string"===typeof e||"number"===typeof e)a=a.replace("{0}",e);return a};f.prototype.setUrlQuery=function(a,e,f){var c=new RegExp("([?&])"+e+"=.*?(&|$)","i"),l=-1!==a.indexOf("?")?"&":"?";return a.match(c)?
a.replace(c,"$1"+e+"="+f+"$2"):a+l+e+"="+f};f.prototype.getUrlQuery=function(a){var c=window.location.search.substring(1).split("&"),f;var l=0;for(f=c.length;l<f;l+=1){var k=c[l].split("=");if(k[0]===a)return k[1]}return!1};f.prototype.fetch=function(a,e,f){var c=f.success,u=f.error;p.trigger("XyTools.fetch:before",a,e,f);"object"===typeof e&&(f=e,e=null);f.url=a;f.success=function(l,u,h){p.trigger("XyTools.fetch:success",a,l,e,f);"function"===typeof c&&c(k.fetch(l,e,f.inclusive))};f.error=function(c,
l,k){p.trigger("XyTools.fetch:error",a,l,k,e,f);"function"===typeof u&&u(c,l,k)};f.statusCode={401:function(){var a=window.location.hash,c=a.replace("#","");a=l.setUrlQuery(window.location.href.replace(a,""),"destination",c);c=l.getUrlQuery("v");sessionStorage.setItem("xyNewSession","true");window.location.href=c?l.setUrlQuery(a,"v",c):a}};t.load(f);p.trigger("XyTools.fetch:after",a,e,f)};f.prototype.getLanguageDirection=function(){return document.body.dir||"ltr"};f.prototype.getURLParams=function(a,
e){return decodeURIComponent(a||window.location.search.slice(1)).replace(/.*\?/,"").split("&").reduce(function(a,c){c=c.split("=");if(e||c[1]&&""!==c[1])a[c[0]]=c[1]||"";return a},{})};f.prototype.type=function(a){return"number"===typeof a&&isNaN(a)?"nan":Object.prototype.toString.call(a).match(/\[object (.*?)\]/)[1].toLowerCase()};f.prototype.toArray=function(a){return"array"===this.type(a)?a:[a]};f.prototype.evaluateExpression=function(a){if("string"!==typeof a)return NaN;try{a=a.replace(/([\+\-\*\/])/g,
" $1 ");var c=eval(a);/\.\d*(0|9){5,}\d*$/.test(c)&&(c=+c.toFixed((c+"").replace(/^\d+\./,"").search(/(0{5,}|9{5,})\d*$/g)))}catch(u){c=NaN}return c};f.prototype.normalizeType=function(a){return/^(true|false)$/i.test(a)?/^true$/i.test(a):isNaN(+a)||+a!==parseFloat(a)?a:+a};f.prototype.normalizeTypes=function(a){var c,f={};if("object"!==this.type(a))return a;for(c in a)f[c]=this.normalizeType(a[c]);return f};f.prototype.randomizeArray=function(a,e){function c(a,e){e&&a.forEach(function(a,e,f){Array.isArray(f[e])&&
(f[e]=c(f[e],!0))});do e=h.shuffle(a);while(h.isEqual(a,e));return e}if(!a.length)return a;a=a.slice();return c(a,/^true$/i.test(e))};f.prototype.isContentContainer=function(a){a=this.getJqueryObject(a);return a.length?this.config.contentContainerSelector.replace("#","")==a[0].id||a.hasClass(this.config.contentContainerSelector.replace(".",""))?!0:!1:!1};f.prototype.getTouchPointFromEvent=function(a){var c={};a=a.originalEvent;a.targetTouches?(c.x=a.targetTouches[0].clientX,c.y=a.targetTouches[0].clientY):
(c.x=a.clientX,c.y=a.clientY);return c};f.prototype.getScrollableParent=function(a){var c=window.getComputedStyle(a);return a===document?d(document):"auto"==c.getPropertyValue("overflow")||"scroll"==c.getPropertyValue("overflow")||"auto"==c.getPropertyValue("overflow-y")||"scroll"==c.getPropertyValue("overflow-y")?d(a):f.prototype.getScrollableParent(a.parentNode)};f.prototype.getScrollingContainer=function(a,e){var c=window.getComputedStyle(a),l=window.getComputedStyle(d(a).parent()[0]),k=document.createElement("div");
l=d(a).parent()[0].clientHeight-parseFloat(l.paddingTop)-parseFloat(l.paddingBottom)==d(a).outerHeight();c="auto"==c.getPropertyValue("overflow")||"scroll"==c.getPropertyValue("overflow")||"auto"==c.getPropertyValue("overflow-y")||"scroll"==c.getPropertyValue("overflow-y");if(a.scrollHeight>a.clientHeight)return d(a);k.setAttribute("style","position: relative; height: 100%; width: 100%;");document.body.appendChild(k);var h=a.cloneNode(!1);k.appendChild(h);var n=h.clientHeight;d(h).append('<div class="scaleTextHeightCheck" style="display: block; height: '+
(n+1)+"px; width: 1px; content: '';\"></div>");h=h.clientHeight==n?!1:!0;k.remove();l&&c&&h?e=e?e:a:!l&&h&&(e=null);return a===document.body?d(document.body):c&&!h&&null==e?d(a):c&&!h&&e?d(e):f.prototype.getScrollingContainer(a.parentNode,e)};f.prototype.convertMillisToSCORM2004Time=function(a){0>a&&this.log("Negative time/duration received");var c=new Date(Math.abs(a)),f=c.getUTCFullYear()-1970,l=c.getUTCMonth(),k=c.getUTCDate()-1,h=c.getUTCHours(),d=c.getUTCMinutes(),n=c.getUTCSeconds(),t=c.getUTCMilliseconds();
c="";f&&(c+=f+"Y");l&&(c+=l+"M");k&&(c+=k+"D");var q;0!==t&&(10>t?f=0:100>t?f="0"+Math.trunc(t/10):(f=Math.trunc(t/10),0===f%10&&(f/=10)),0===f||isNaN(f)||(q="."+f));if(h||d||n||q)c+="T";h&&(c+=h+"H");d&&(c+=d+"M");q?c+=n+q+"S":n&&(c+=n+"S");""===c&&(c="T0S");c="P"+c;return 0>a?"-"+c:c};f.prototype.resetPageMediaLoadProgress=function(){p.cease("allPageMedia.loaded");l.allPageMediaLoaded=!1};f.prototype.isAllPageMediaLoaded=function(){return this.allPageMediaLoaded};f.prototype.generateUUID=function(){var a=
(new Date).getTime(),e="undefined"!==typeof performance&&performance.now&&1E3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var f=16*Math.random();0<a?(f=(a+f)%16|0,a=Math.floor(a/16)):(f=(e+f)%16|0,e=Math.floor(e/16));return("x"===c?f:f&3|8).toString(16)})};var l=new f;window.tools=l;p.trigger("XyTools.loaded",!0,l);return l});
define("lang/lang",["app/events","app/configuration","app/utilities/XyTools","locales"],function(m,d,h,n){d=new function(){this.config={language:document.getElementsByTagName("body")[0].getAttribute("lang")};this.t=function(d,q){var t=n[this.config.language];if(!t)return h.error('Cannot translate string, desired language "'+this.config.language+'" not loaded.'),!1;"undefined"===typeof q&&(q=null);d=this.getTranslation(d,t);"undefined"===typeof d&&(d="");if(q instanceof Array)d=d.replace(/\{\d*\}/g,
function(k){var a=q[parseInt(k.replace(/\{|\}/g,""),"")];"undefined"===typeof a&&(a=k.replace(/\{|\}/g,""));return a});else if("string"===typeof q||"number"===typeof q)d=d.replace("{0}",q);return d};this.getTranslation=function(d,q){q||(q=n[this.config.language]);if(d)return/\.message$/.test(d)||(d+=".message"),q=d.split(".").reduce(function(h,k){if("undefined"!==typeof h)return h[k]},q),void 0===q&&h.warn('translation for "'+d+'" not found'),q};this.loadLanguage=function(h){}};window.lang=d;m.trigger("lang.loaded",
!0,d);return d});
(function(m,d){function h(a){if("function"==typeof require&&"undefined"!==typeof module&&module.exports)try{return require(a.toLowerCase())}catch(I){}else return m[a]}function n(a,c){return null===a?"null"===c:void 0===a?"undefined"===c:a.is&&a instanceof t?"element"===c:7<Object.prototype.toString.call(a).toLowerCase().indexOf(c)}function p(a){var f,l,k,u;if(a instanceof p)return a;n(a,"array")||(a=String(a).replace(/\s/g,"").toLowerCase().match(/(?:\+,|[^,])+/g));var h=0;for(f=a.length;h<f;++h){n(a[h],
"array")||(a[h]=String(a[h]).match(/(?:\+\/|[^\/])+/g));var d=[];for(l=a[h].length;l--;){var t=a[h][l];var z={jwertyCombo:String(t),shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1};n(t,"array")||(t=String(t).toLowerCase().match(/(?:(?:[^\+])+|\+\+|^\+$)/g));for(k=t.length;k--;)"++"===t[k]&&(t[k]="+"),t[k]in e.mods?z[c[e.mods[t[k]]]]=!0:t[k]in e.keys?z.keyCode=e.keys[t[k]]:u=t[k].match(/^\[([^-]+\-?[^-]*)-([^-]+\-?[^-]*)\]$/);if(n(z.keyCode,"undefined"))if(u&&u[1]in e.keys&&u[2]in e.keys){u[2]=e.keys[u[2]];
u[1]=e.keys[u[1]];for(k=u[1];k<u[2];++k)d.push({altKey:z.altKey,shiftKey:z.shiftKey,metaKey:z.metaKey,ctrlKey:z.ctrlKey,keyCode:k,jwertyCombo:String(t)});z.keyCode=k}else z.keyCode=0;d.push(z)}this[h]=d}this.length=h;return this}var q=m.document,t=h("jquery")||h("zepto")||h("ender")||q;if(t===q){var k=function(a,c){return a?t.querySelector(a,c||t):t};var a=function(a,c){a.addEventListener("keydown",c,!1)};var f=function(a,c){a.removeEventListener("keydown",c,!1)};var l=function(a,c){var e=q.createEvent("Event"),
f;e.initEvent("keydown",!0,!0);for(f in c)e[f]=c[f];return(a||t).dispatchEvent(e)}}else k=function(a,c){return t(a||q,c)},a=function(a,c){t(a).bind("keydown.jwerty",c)},f=function(a,c){t(a).unbind("keydown.jwerty",c)},l=function(a,c){t(a||q).trigger(t.Event("keydown",c))};for(var c={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},e={mods:{"\u21e7":16,shift:16,"\u2303":17,ctrl:17,"\u2325":18,alt:18,option:18,"\u2318":91,meta:91,cmd:91,"super":91,win:91},keys:{"\u232b":8,backspace:8,"\u21e5":9,
"\u21c6":9,tab:9,"\u21a9":13,"return":13,enter:13,"\u2305":13,pause:19,"pause-break":19,"\u21ea":20,caps:20,"caps-lock":20,"\u238b":27,escape:27,esc:27,space:32,"\u2196":33,pgup:33,"page-up":33,"\u2198":34,pgdown:34,"page-down":34,"\u21df":35,end:35,"\u21de":36,home:36,ins:45,insert:45,del:46,"delete":46,"\u2190":37,left:37,"arrow-left":37,"\u2191":38,up:38,"arrow-up":38,"\u2192":39,right:39,"arrow-right":39,"\u2193":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,
"-":109,subtract:109,"num-.":110,"num-period":110,"num-dot":110,"num-full-stop":110,"num-delete":110,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostraphe:222}},u=47,z=0;106>++u;)e.keys[z]=u,e.keys["num-"+z]=u+48,++z;u=111;for(z=1;136>++u;)e.keys["f"+z]=u,++z;for(u=64;91>++u;)e.keys[String.fromCharCode(u).toLowerCase()]=
u;var B=["input","textarea"],G=d.jwerty={event:function(a,c,e){if(n(c,"boolean")){var f=c;c=function(){return f}}a=new p(a);var l=0,k=a.length-1,u,h;return function(f){var d=f.target.nodeName.toLowerCase();-1===B.indexOf(d)&&((h=G.is(a,f,l))?l<k?++l:(u=c.call(e||this,f,h),!1===u&&f.preventDefault(),l=0):l=G.is(a,f)?1:0)}},is:function(a,c,e){a=new p(a);a=a[e||0];c=c.originalEvent||c;e=a.length;for(var f=!1;e--;){f=a[e].jwertyCombo;for(var l in a[e])"jwertyCombo"!==l&&c[l]!=a[e][l]&&(f=!1);if(!1!==
f)break}return f},key:function(c,e,l,u,h){var d=n(l,"element")||n(l,"string")?l:u,t=d===l?m:l;l=d===l?u:h;var z=n(d,"element")?d:k(d,l),q=G.event(c,e,t);a(z,q);return{unbind:function(){f(z,q)}}},fire:function(a,c,e,f){a=new p(a);f=n(e,"number")?e:f;l(n(c,"element")?c:k(c,e),a[f||0][0])},KEYS:e}})("undefined"!==typeof global&&global.window||this,"undefined"!==typeof module&&module.exports?module.exports:this);define("jwerty",function(m){return function(){return m.jwerty}}(this));
define("app/hotkeys","module jquery jwerty app/events app/configuration app/utilities/XyTools".split(" "),function(m,d,h,n,p,q){var t=function(){this.config={allowMultiBinding:!1,defaultBindConfig:{selector:"document",selectorScope:null,handlerContext:null,showTooltip:!0,tooltipTarget:null,tooltipMessage:null}};this.eventMap={}};t.prototype.init=function(){n.trigger("hotkeys.init:before",this);this.config=d.extend(!0,this.config,p.configure(m.id));n.trigger("hotkeys.init:after",this);return this};
t.prototype.createIdentifier=function(k,a,f){n.trigger("hotkeys.createIdentifier:before",this,k,a,f);var l=window.encodeURIComponent(""+k+a+f).toLowerCase();n.trigger("hotkeys.createIdentifier:after",this,k,a,f);return l};t.prototype.bind=function(k,a,f){n.trigger("hotkeys.bind:before",this,k,a,f);this.eventMap[this.createIdentifier(k,f.selector,f.selectorScope)]={handler:h.key(k,a,f.handlerContext),tooltipEl:q.getJqueryObject(f.tooltipTarget),tooltipMessage:f.tooltipMessage};n.trigger("hotkeys.bind:after",
this,k,a,f);return this};t.prototype.unbind=function(k){n.trigger("hotkeys.unbind:before",this,k);k.handler.unbind();n.trigger("hotkeys.unbind:after",this,k);return this};t.prototype.register=function(k,a,f){n.trigger("hotkeys.register:before",this,k,a,f);f=d.extend({},this.config.defaultBindConfig,f);var l=q.getJqueryObject(f.selector);var c=q.getJqueryObject(f.selectorScope);if(!d(l,c).length)return q.error("The target for the following hotkey is non-existent or cannot be accessed: "+k),!1;f.tooltipMessage=
f.tooltipMessage||k;this.bind(k,a,f);this.setupRollover(f);this.setupAria(k,f);n.trigger("hotkeys.register:after",this,k,a,f);return this};t.prototype.unregister=function(k,a,f){n.trigger("hotkeys.unregister:before",this,k,a,f);a||(a=this.config.defaultBindConfig.selector);f||(f=this.config.defaultBindConfig.selectorScope);var l=this.eventMap[this.createIdentifier(k,a,f)];if(!l)return!1;this.unbind(l);this.removeRollover(l);this.removeAria(l);n.trigger("hotkeys.unregister:after",this,k,a,f);return this};
t.prototype.setupRollover=function(k){var a=q.getJqueryObject(k.tooltipTarget),f=k.tooltipMessage,l;if(!a.length)return!1;(l=a.attr("title"))&&(f=k.tooltipMessage+" "+l);n.trigger("hotkeys.setupRollover:before",this,k,f);a[0].setAttribute("title",f);n.trigger("hotkeys.setupRollover:after",this);return this};t.prototype.setupAria=function(k,a){a=q.getJqueryObject(a.tooltipTarget);if(!a.length)return!1;n.trigger("hotkeys.setupAria:before",this,k);a.attr("aria-keyshortcuts",k);n.trigger("hotkeys.setupAria:after",
this);return this};t.prototype.removeRollover=function(k){var a=k.tooltipEl;n.trigger("hotkeys.removeRollover:before",this,k);if(!a.length)return!1;a[0].setAttribute("title",a[0].getAttribute("title").replace(k.tooltipMessage+" ",""));n.trigger("hotkeys.removeRollover:after",this);return this};t.prototype.removeAria=function(k){var a=k.tooltipEl;if(!a.length)return!1;n.trigger("hotkeys.removeAria:before",this,k);a.attr("aria-keyshortcuts",null);n.trigger("hotkeys.removeAria:after",this);return this};
t=new t;n.trigger("hotkeys.loaded",!0,t);return t});
define("skin/regions/region/region","module jquery app/utilities/XyTools app/configuration app/events lang/lang app/hotkeys".split(" "),function(m,d,h,n,p,q,t){var k=function(){this.config={name:"region",id:m.id,displayName:"Region",regionSelector:"",regionButtonSelector:"",components:{},baseClass:"Region",componentLinkDisplay:{text:!0,icon:!0,safe:!1},startVisible:!0,hotkeyCombination:"",hotkeyHandler:null,hotkeyConfiguration:{},visibleClass:"Open",showingClass:"Opening",hiddenClass:"Closed",hidingClass:"Closing",
clickHandlerNS:"XylemeRegionIcon",enabled:!0,role:"",regionTabIndex:-1,zIndex:100};this.initialized=this.isMoving=!1;this.id=null};k.prototype.init=function(){p.trigger(this.config.name+".init:before",this);this.config=d.extend(this.config,n.configure(this.config.id));this.isOpen=this.config.startVisible;this.config.displayName=q.t("regions."+this.config.name+".title")||this.config.displayName;this.$wrapper=h.getJqueryObject(this.config.regionSelector);this.$links=h.getJqueryObject(this.config.regionButtonSelector);
this.$wrapper[0]&&(this.id=this.config.regionSelector.startsWith("#")?this.config.regionSelector.slice(1):this.$wrapper[0].id||!1,this.id||(this.id=this.$wrapper[0].id=this.config.name+Date.now()));this.render();this.handleAria();this.handleHotkeys();this.setupComponents();var a=this.handleMediaStateChange.bind(this);p.on("content.mediaState:changed",a);a(h.currentMediaState);p.trigger(this.config.name+".init:after",this);this.initialized=!0;p.trigger(this.config.name+".initialized",!0,this)};k.prototype.render=
function(a,f){var l=this;"function"===typeof this.config.renderBefore?this.config.renderBefore.call(this):"function"===typeof this[this.config.renderBefore]&&this[this.config.renderBefore].call(this);a=a||this.$wrapper;f=f||this.$links;p.trigger(this.config.name+".render:before",this);this.config.visibleClass=this.config.visibleClass.replace(".","");this.config.hiddenClass=this.config.hiddenClass.replace(".","");var c=this.isOpen?this.config.visibleClass:this.config.hiddenClass;a.css({"z-index":l.config.zIndex}).addClass(c).addClass(this.config.baseClass);
f.on("click."+l.config.clickHandlerNS,function(a){a.preventDefault();p.trigger(l.config.name+".iconClick",l,this);l.isOpen?l.hide():l.show()});"function"===typeof this.config.renderAfter?this.config.renderAfter.call(this):"function"===typeof this[this.config.renderAfter]&&this[this.config.renderAfter].call(this);p.trigger(this.config.name+".render:after",this);p.trigger(this.config.name+".rendered",!0,this)};k.prototype.handleAria=function(){var a=this.$wrapper.attr("role")||this.config.role,f=this.$wrapper.attr("aria-label")||
this.config.name;this.$links.length&&(this.$links.attr({"aria-disabled":!this.config.enabled,"aria-expanded":this.isOpen,"aria-controls":this.id}),this.$links.each(function(){var a=d(this);a.attr("tabindex")||a.attr("tabindex",0)}));this.$wrapper.length&&(this.$wrapper.attr({"aria-disabled":!this.config.enabled,"aria-hidden":!this.isOpen,"aria-label":f,role:a}),0!==this.config.regionTabIndex&&-1!==this.config.regionTabIndex||this.$wrapper.attr({tabindex:this.config.regionTabIndex}))};k.prototype.handleHotkeys=
function(){if(this.config.hotkeyCombination){var a="function"===typeof this.config.hotkeyHandler?this.config.hotkeyHandler:"function"===typeof this[this.config.hotkeyHandler]?this[this.config.hotkeyHandler]:this.toggle;var f=h.copy(this.config.hotkeyConfiguration);f.tooltipTarget=f.tooltipTarget||this.$links;f.handlerContext=f.handlerContext||this;t.register(this.config.hotkeyCombination,a,f)}};k.prototype.show=function(a){!0===this.config.enabled&&(p.trigger(this.config.name+".show:before",this),
a="function"===typeof a?a:function(){return!0},this.$wrapper.hasClass(this.config.visibleClass)||(this.$wrapper.focus(),this.$wrapper.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass).attr("aria-hidden",!1),this.$links.attr("aria-expanded",!0),p.trigger(this.config.name+".show:after",this)),this.isOpen=!0,a())};k.prototype.hide=function(a){p.trigger(this.config.name+".hide:before",this);a="function"===typeof a?a:function(){return!0};this.$wrapper.hasClass(this.config.hiddenClass)||
(this.$wrapper.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass).attr("aria-hidden",!0),this.$links.attr("aria-expanded",!1),p.trigger("media.pause",this.$wrapper),p.trigger(this.config.name+".hide:after",this));this.isOpen=this.config.enabled?!1:this.isOpen;this.$links.length?this.$links.eq(0).focus():d('[role="main"]').focus();a()};k.prototype.toggle=function(a){p.trigger(this.config.name+".toggle:before",this);this.isOpen?this.hide(a):this.show(a);p.trigger(this.config.name+
".toggle:after",this)};k.prototype.enable=function(a){p.trigger(this.config.name+".enable:before",this);this.config.enabled=!0;this.$links.attr("aria-disabled",!1);this.$wrapper.attr("aria-disabled",!1);!0===this.isOpen&&this.show(a);p.trigger(this.config.name+".enable:after",this)};k.prototype.disable=function(a){p.trigger(this.config.name+".disable:before",this);this.config.enabled=!1;this.$links.attr("aria-disabled",!0);this.$wrapper.attr("aria-disabled",!0);this.hide(a);p.trigger(this.config.name+
".disable:after",this)};k.prototype.toggleState=function(a){p.trigger(this.config.name+".toggleState:before",this);this.config.enabled?this.disable(a):this.enable(a);p.trigger(this.config.name+".toggleState:after",this)};k.prototype.remove=function(a){p.trigger(this.config.name+".remove:before",this);this.$wrapper.attr({"aria-disabled":!0,"aria-hidden":!0}).hide();this.$links.attr({"aria-disabled":!0,"aria-hidden":!0,"aria-expanded":!1}).hide();p.trigger(this.config.name+".remove:after",this)};k.prototype.restore=
function(a){p.trigger(this.config.name+".restore:before",this);this.$wrapper.attr({"aria-disabled":!1,"aria-hidden":!1}).show();this.$links.attr({"aria-disabled":!1,"aria-hidden":!1,"aria-expanded":!0}).show();p.trigger(this.config.name+".restore:after",this)};k.prototype.setupComponents=function(){p.trigger(this.config.name+".setupComponents:before",this);this.$components=this.$wrapper.find(".ComponentLink");this.$componentContents=this.$wrapper.find(".ComponentContent");this.attachComponentEventHandlers();
this.configureComponentLinks();p.trigger(this.config.name+".setupComponents:after",this)};k.prototype.configureComponentLinks=function(){var a=this.config.componentLinkDisplay.icon,f=this.config.componentLinkDisplay.text;this.$components.trigger(a?"showIcon":"hideIcon").trigger(f?"showTitle":"hideTitle");this.config.componentLinkDisplay.safe&&(f?a||this.$components.trigger("showTitle"):this.$components.trigger("showIcon"));return this};k.prototype.attachComponentEventHandlers=function(){var a=this;
this.$componentContents.on("show",function(f,l){a.$components.not(l).trigger("setInactive").trigger("hideContent");a.isOpen||a.show()})};k.prototype.handleMediaStateChange=function(a,f){a="handle"+h.capitalize(a)+"Media";if("function"===typeof this[a])this[a](f)};k.prototype.handleMobileMedia=function(a){};k.prototype.handleNarrowMedia=function(a){};k.prototype.handleNormalMedia=function(a){};k.prototype.handleWideMedia=function(a){};p.trigger("region.loaded",!0,k);return k});
define("skin/components/component/component","module jquery app/configuration app/events app/utilities/XyTools lang/lang app/hotkeys".split(" "),function(m,d,h,n,p,q,t){var k={};var a=function(a,l){this.config=d.extend({},this.config,a);this.$el=l;k[this.config.name]=void 0!==k[this.config.name]?k[this.config.name]+1:1;this.instanceNumber=k[this.config.name];n.trigger(this.config.name+".create:before",this);this.isMoving=!1;this.isOpen=this.config.startVisible;this.isShowingExtendedContent=!1;n.trigger(this.config.name+
".create:after",this)};a.prototype.config={name:"component",id:m.id,displayName:"Component",type:"container",enabled:!0,startVisible:!1,domScope:"",linkSelector:"",linkTitleSelector:".ComponentLinkTitle",linkIconSelector:".ComponentLinkIcon",linkAction:"show",contentSelector:"",visibleClass:"Visible",hiddenClass:"Hidden",activeClass:"Active",inactiveClass:"Inactive",enabledClass:"Enabled",disabledClass:"Disabled",linkEvent:"click",eventHandlerNS:"XylemeComponentLink",hideLinksIfEmpty:!1,zIndex:100,
hotkeyCombination:"",hotkeyHandler:null,hotkeyConfiguration:{},initBefore:function(){},initAfter:function(){},renderBefore:function(){},renderAfter:function(){}};a.prototype.init=function(){var a=this.getElementConfig();n.trigger(this.config.name+".init:before",this);this.config=p.extend(this.config,h.configure(this.config.id),a);this.callFromConfig("initBefore");this.config.displayName=q.t("components."+this.config.name+".title")||this.config.displayName;this.uniqueId=this.config.name+this.instanceNumber;
p.logGroup(this.config.displayName+" Component");this.callFromConfig("initAfter");n.trigger(this.config.name+".init:after",this);n.trigger(this.config.name+".initialized",!0,this);p.logGroupEnd()};a.prototype.render=function(){p.logGroup(this.config.name+" render");n.trigger(this.config.name+".render:before",this);this.callFromConfig("renderBefore");this.$wrapper=this.config.domScope?p.getJqueryObject(this.config.domScope):d("body");this.$icon=this.$el.find(this.config.linkIconSelector);this.$title=
this.$el.find(this.config.linkTitleSelector);this.$content=this.$wrapper.find(this.config.contentSelector);this.$el[0].id=this.$el[0].id||this.uniqueId+"-link";this.$content.length&&(this.$content[0].id=this.$content[0].id||this.uniqueId+"-content");this.setUpAria();this.bindEvents();this.config.contentSelector&&!this.$content.html()&&this.disable();this.config.startVisible?(this.showLink(),this.showContent()):(this.hideLink(),this.hideContent());this.config.enabled||this.remove();if(this.config.hotkeyCombination){var a=
"function"===typeof this.config.hotkeyHandler?this.config.hotkeyHandler:"function"===typeof this[this.config.hotkeyHandler]?this[this.config.hotkeyHandler]:this.linkClick;var l=p.copy(this.config.hotkeyConfiguration);l.tooltipTarget=l.tooltipTarget||this.config.linkSelector;l.handlerContext=l.handlerContext||this;t.register(this.config.hotkeyCombination,a,l)}this.callFromConfig("renderAfter");n.trigger(this.config.name+".render:after",this);p.logGroupEnd(this.config.name+" render");return this.$el};
a.prototype.getElementConfig=function(){var a=this.$el.data()||{};return Object.keys(a).reduce(function(f,c){if(/^config/.test(c)){var e=c.replace(/^config(.)/,function(a,c){return c.toLowerCase()});f[e]=a[c]}return f},{})};a.prototype.setUpAria=function(){n.trigger(this.config.name+".setUpAria:before",this);this.$el.attr({"aria-controls":this.$content.length?this.$content[0].id:"","aria-hidden":this.isHidden(),"aria-active":this.$el.hasClass(this.config.activeClass),"aria-keyshortcuts":this.config.hotkeyCombination||
""});n.trigger(this.config.name+".setUpAria:after",this)};a.prototype.linkClick=function(a){n.trigger(this.config.name+".linkClick:before",this);if("string"===typeof this.config.linkAction&&"function"===typeof this[this.config.linkAction])this[this.config.linkAction](a);n.trigger(this.config.name+".linkClick:after",this)};a.prototype.show=function(){!0===this.config.enabled&&(n.trigger(this.config.name+".show:before",this),this.showLink(),this.setActive(),this.showContent(),this.$content.trigger("show",
this.$el),n.trigger(this.config.name+".show:after",this))};a.prototype.hide=function(){n.trigger(this.config.name+".hide:before",this);this.hideLink();this.hideContent();this.setInactive();n.trigger(this.config.name+".hide:after",this)};a.prototype.hideAllButLinks=function(){n.trigger(this.config.name+".hide:before",this);this.hideContent();this.setInactive();n.trigger(this.config.name+".hide:after",this)};a.prototype.showLink=function(){this.$el.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass).attr("aria-hidden",
!1)};a.prototype.hideLink=function(){this.$el.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass).attr("aria-hidden",!0)};a.prototype.isHidden=function(){return this.$el.hasClass(this.config.hiddenClass)};a.prototype.showContent=function(){this.$content.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass).attr("aria-hidden",!1);this.$content.length&&this.focusContentFirstItem();this.$el.attr("aria-expanded",!0)};a.prototype.focusContentFirstItem=function(){n.trigger(this.config.name+
".focusFirstItem:before",this);this.$content&&this.$content.length&&this.$content.first()[0].focus();n.trigger(this.config.name+".focusFirstItem:after",this)};a.prototype.hideContent=function(){n.trigger("media.pause",this.$content);this.$content.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass).attr("aria-hidden",!0);this.$el.attr("aria-expanded",!1)};a.prototype.setActive=function(){this.$el.removeClass(this.config.inactiveClass).addClass(this.config.activeClass).attr("aria-active",
!0)};a.prototype.setInactive=function(){this.$el.removeClass(this.config.activeClass).addClass(this.config.inactiveClass).attr("aria-active",!1)};a.prototype.showIcon=function(){this.$icon.removeClassSVG(this.config.hiddenClass).addClassSVG(this.config.visibleClass)};a.prototype.hideIcon=function(){this.$icon.removeClassSVG(this.config.visibleClass).addClassSVG(this.config.hiddenClass)};a.prototype.showTitle=function(){this.$title.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass)};
a.prototype.hideTitle=function(){this.$title.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass)};a.prototype.toggle=function(a){n.trigger(this.config.name+".toggle:before",this);this.isOpen?this.hide(a):this.show(a);n.trigger(this.config.name+".toggle:after",this)};a.prototype.enable=function(){n.trigger(this.config.name+".enable:before",this);this.config.enabled=!0;this.$el.removeClass(this.config.disabledClass).addClass(this.config.enabledClass);!0===this.isOpen&&this.show();
n.trigger(this.config.name+".enable:after",this)};a.prototype.disable=function(){n.trigger(this.config.name+".disable:before",this);this.config.enabled=!1;this.$el.removeClass(this.config.enabledClass).addClass(this.config.disabledClass);n.trigger(this.config.name+".disable:after",this)};a.prototype.toggleState=function(){n.trigger(this.config.name+".toggleState:before",this);this.config.enabled?this.disable():this.enable();n.trigger(this.config.name+".toggleState:after",this)};a.prototype.remove=
function(a){n.trigger(this.config.name+".remove:before",this);this.hideLink();this.hideContent();this.setInactive();this.disable();n.trigger(this.config.name+".remove:after",this)};a.prototype.restore=function(){n.trigger(this.config.name+".restore:before",this);this.showLink();this.showContent();this.enable();n.trigger(this.config.name+".restore:after",this)};a.prototype.close=function(){};a.prototype.loadContent=function(){};a.prototype.bindEvents=function(){this.$el.on(this.config.linkEvent+"."+
this.config.eventHandlerNS,this.linkClick.bind(this));this.$el.on("keyup."+this.config.eventHandlerNS,function(a){13==a.keyCode&&this.linkClick.call(this,a)}.bind(this));for(var a in this)if("function"===typeof this[a])this.$el.on(a+"."+this.config.eventHandlerNS,this[a].bind(this));n.on(this.config.name+".close",this.close.bind(this))};a.prototype.callFromConfig=function(f){function l(a,c){return"function"===typeof a.config[c]?a.config[c]:"function"===typeof a[a.config[c]]?a[a.config[c]]:function(){}}
var c=Array.prototype.slice.call(arguments,1);var e=l(a.prototype,f);var k=l(this,f);e.apply(this,c);k.apply(this,c)};a.prototype.destroy=function(){void 0!==k[this.config.name]&&--k[this.config.name]};n.trigger("component.loaded",!0,a);return a});define("elements/popup/popup.template",[],function(){return'<div class="PopupWrapper <%= popupWrapperClass %>" tabindex="-1" style="<%=computedStyle%>" role="<%=role%>" aria-label="<%= title %>" aria-modal="<%=modal%>">                <div class="PopupTitlebar">                    <span class="PopupTitlebarTitle"><%= title %></span>                    <% if (closeButton) {%>                        <a href="#" class="PopupTitlebarClose" title="<%= closeButtonLabel %>"></a>                    <% }%>                </div>                <div class="PopupContentWrapper">                    <div class="PopupContent clearfix <%= popupContentClass %>" id="<%= _.uniqueId(\'Popup\') %>"></div>                </div>                <% if (buttons && buttons.length > 0) { %>                     <div class="PopupButtonsWrapper">                        <div class="PopupButtons">                            <% _.each(buttons, function(button) {%>                                <button class="PopupButton <%=button.buttonClass%>" alt="<%=button.text%>" title="<%=button.text%>">                                    <%=button.text%>                                </button>                            <%})%>                        </div>                    </div>                <% } %>             </div>'});
define("vendor/jquery/extensions/custom/jquery.drags",["jquery"],function(m){m.fn.drags=function(d){d=m.extend({activeClass:"draggable",handleClass:"active-handle",handle:null,cursor:"move",svg:!1,zIndex:1E3,ondragstart:function(){},ondrag:function(){},ondragstop:function(){},contentWrapper:null},d);return this.each(function(){var h=null==d.handle?m(this):d.handle;null!=this.ownerSVGElement&&(d.svg=!0);m(this).css("cursor",d.cursor).on("mousedown touchstart",function(n){for(var p=h.outerHeight(),
q=h.outerWidth(),t=h.offset().top+p-(n.pageY||n.originalEvent.changedTouches[0].pageY),k=h.offset().left+q-(n.pageX||n.originalEvent.changedTouches[0].pageX),a=n.clientX||n.originalEvent.changedTouches[0].clientX,f=n.clientY||n.originalEvent.changedTouches[0].clientY,l=(m(this).attr("transform")||"matrix(1 0 0 1 0 0)").slice(7,-1).split(" "),c=0,e=l.length;c<e;c++)l[c]=+l[c];if(!h.hasClass("movingNow")&&(h.addClass(d.activeClass).css("z-index",d.zIndex).parents().on("mousemove touchmove",function(c){if(d.svg){var e=
c.clientX||c.originalEvent.changedTouches[0].clientX;var u=c.clientY||c.originalEvent.changedTouches[0].clientY;l[4]+=e-a;l[5]+=u-f;a=e;f=u;h.attr("transform","matrix("+l.join(" ")+")")}else e=(c.pageX||c.originalEvent.changedTouches[0].pageX)+k-q,u=(c.pageY||c.originalEvent.changedTouches[0].pageY)+t-p,h.offset({top:u,left:e});d.ondrag.call(this,c)}),d.contentWrapper))d.contentWrapper.on("mouseleave",function(a){h.parents().off("mousemove touchmove mouseup touchend");m(this).off("mouseleave");h.removeClass(d.activeClass).css("z-index",
"");d.ondragstop.call(h,a)}).on("mouseup touchend",function(a){h.parents().off("mousemove touchmove");m(this).off("mouseleave mouseup touchend");a.offsetX=10;a.offsetY=10;h.trigger(a)});n.preventDefault();d.ondragstart.call(this,n)}).on("mouseup touchend",function(n){m(this).parents().off("mousemove touchmove");d.contentWrapper&&d.contentWrapper.off("mouseleave mouseup touchend");h.removeClass(d.activeClass).css("z-index","");d.ondragstop.call(this,n)})})}});
define("vendor/jquery/extensions/custom/jquery.rotate",["jquery"],function(m){m.fn.rotate=function(d){var h=m.extend({degree:360,animate:!0,duration:1E3,infinite:!0,easing:"linear",complete:function(){}},d);return this.each(function(){var d=m(this);(function q(){d.is(":visible")?!0===h.animate?m({deg:0}).animate({deg:h.degree},{duration:h.duration,step:function(h){d.css({transform:"rotate("+h+"deg)"})},complete:function(){h.complete.call(d,d);h.infinite&&q()},easing:h.easing}):(d.css({transform:"rotate("+
h.degree+"deg)"}),h.complete.call(d,d)):h.complete.call(d,d)})()})}});
define("vendor/jquery/extensions/custom/jquery.SVGclass",["jquery"],function(m){m.fn.addClassSVG=function(d){if(!d)return this;d=d.split(" ");return this.each(function(h,n){var m="undefined"!==typeof n.className.baseVal?n.className.baseVal:n.className;d.forEach(function(h){n.classList?n.classList.add(h):-1===m.indexOf(h)&&(h=m+" "+h,n.setAttribute("class",h),m=h)})})};m.fn.removeClassSVG=function(d){if(!d)return this;d=d.split(" ");return this.each(function(h,n){var m="undefined"!==typeof n.className.baseVal?
n.className.baseVal:n.className;d.forEach(function(h){n.classList?n.classList.remove(h):(h=m.replace(h,""),n.setAttribute("class",h),m=h)})})};m.fn.toggleClassSVG=function(d,h){if(!d)return this;if("boolean"===typeof h)return h?this.addClassSVG(d):this.removeClassSVG(d);d=d.split(" ");return this.each(function(h,p){var n="undefined"!==typeof p.className.baseVal?p.className.baseVal:p.className;d.forEach(function(h){p.classList?p.classList.toggle(h):-1===n.indexOf(h)?m(p).addClassSVG(h):m(p).removeClassSVG(h)})})}});
define("vendor/jquery/extensions/custom/jquery.swipe",["jquery"],function(m){m.fn.swipe=function(d){d=m.extend({thresholdX:100,listenTo:document,touchstart:function(){},touchmove:function(){},touchend:function(){},swipeLeft:function(){},swipeRight:function(){}},d);return this.each(function(){function h(a){e=k(a);var f=Math.abs(c.x-e.x);var h=Math.abs(c.y-e.y);if(l)a.preventDefault();else if(f>h)a.preventDefault(),l=!0;else{p();return}q(d.touchmove,a)}function n(a){if(!(a.touches&&0<a.touches.length))if(l&&
e){a.preventDefault();l=!1;var f=c.x-e.x;q(d.touchend);p();Math.abs(f)>d.thresholdX&&q(d[0<f?"swipeLeft":"swipeRight"],a)}else p()}function p(){f.off("touchmove.swipe",h);f.off("touchend.swipe",n)}function q(c){c.apply(a,[].slice.call(arguments,1))}function t(c){if(m(c)[0]===a[0])return!1;if(1.1<(window.outerWidth||document.documentElement.clientWidth)/window.innerWidth||c.clientWidth<c.scrollWidth)return!0;var e;a:{if(e=m._data(c,"events"))for(var f in e)if(e.hasOwnProperty(f)&&/^(touchstart|touchmove)/.test(f)){e=
!0;break a}e=!1}return e?!0:t(c.parentNode)}function k(a){var c={};a=a.originalEvent;a.targetTouches?(c.x=a.targetTouches[0].clientX,c.y=a.targetTouches[0].clientY):(c.x=a.clientX,c.y=a.clientY);return c}var a=m(this),f=m(d.listenTo),l=!1,c,e;m(this).on("touchstart",function(a){a.touches&&1<a.touches.length||t(a.target)||(f.on("touchmove.swipe",h),f.one("touchend.swipe touchcancel.swipe",n),c=k(a),q(d.touchstart,a))})})}});
(function(m){"function"===typeof define&&define.amd?define("vendor/jquery/extensions/custom/jquery.slick",["jquery"],m):"undefined"!==typeof exports?module.exports=m(require("jquery")):m(jQuery)})(function(m){var d=window.Slick||{};d=function(){var h=0;return function(d,p){this.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:m(d),appendDots:m(d),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',
autoplay:!1,autoplaySpeed:3E3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(h,d){return m('<button type="button" />').text(d+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,
swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1E3};this.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,
touchObject:{},transformsEnabled:!1,unslicked:!1};m.extend(this,this.initials);this.animProp=this.animType=this.activeBreakpoint=null;this.breakpoints=[];this.breakpointSettings=[];this.interrupted=this.focussed=this.cssTransitions=!1;this.hidden="hidden";this.paused=!0;this.respondTo=this.positionProp=null;this.rowCount=1;this.shouldClick=!0;this.$slider=m(d);this.transitionType=this.transformType=this.$slidesCache=null;this.visibilityChange="visibilitychange";this.windowWidth=0;this.windowTimer=
null;d=m(d).data("slick")||{};this.options=m.extend({},this.defaults,p,d);this.currentSlide=this.options.initialSlide;this.originalSettings=this.options;"undefined"!==typeof document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange");this.autoPlay=m.proxy(this.autoPlay,this);this.autoPlayClear=m.proxy(this.autoPlayClear,this);this.autoPlayIterator=m.proxy(this.autoPlayIterator,
this);this.changeSlide=m.proxy(this.changeSlide,this);this.clickHandler=m.proxy(this.clickHandler,this);this.selectHandler=m.proxy(this.selectHandler,this);this.setPosition=m.proxy(this.setPosition,this);this.swipeHandler=m.proxy(this.swipeHandler,this);this.dragHandler=m.proxy(this.dragHandler,this);this.keyHandler=m.proxy(this.keyHandler,this);this.instanceUid=h++;this.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;this.registerBreakpoints();this.init(!0)}}();d.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})};
d.prototype.addSlide=d.prototype.slickAdd=function(h,d,p){if("boolean"===typeof d)p=d,d=null;else if(0>d||d>=this.slideCount)return!1;this.unload();"number"===typeof d?0===d&&0===this.$slides.length?m(h).appendTo(this.$slideTrack):p?m(h).insertBefore(this.$slides.eq(d)):m(h).insertAfter(this.$slides.eq(d)):!0===p?m(h).prependTo(this.$slideTrack):m(h).appendTo(this.$slideTrack);this.$slides=this.$slideTrack.children(this.options.slide);this.$slideTrack.children(this.options.slide).detach();this.$slideTrack.append(this.$slides);
this.$slides.each(function(h,d){m(d).attr("data-slick-index",h)});this.$slidesCache=this.$slides;this.reinit()};d.prototype.animateHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var h=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:h},this.options.speed)}};d.prototype.animateSlide=function(h,d){var n={},q=this;q.animateHeight();!0===q.options.rtl&&!1===q.options.vertical&&(h=-h);!1===q.transformsEnabled?
!1===q.options.vertical?q.$slideTrack.animate({left:h},q.options.speed,q.options.easing,d):q.$slideTrack.animate({top:h},q.options.speed,q.options.easing,d):!1===q.cssTransitions?(!0===q.options.rtl&&(q.currentLeft=-q.currentLeft),m({animStart:q.currentLeft}).animate({animStart:h},{duration:q.options.speed,easing:q.options.easing,step:function(h){h=Math.ceil(h);n[q.animType]=!1===q.options.vertical?"translate("+h+"px, 0px)":"translate(0px,"+h+"px)";q.$slideTrack.css(n)},complete:function(){d&&d.call()}})):
(q.applyTransition(),h=Math.ceil(h),n[q.animType]=!1===q.options.vertical?"translate3d("+h+"px, 0px, 0px)":"translate3d(0px,"+h+"px, 0px)",q.$slideTrack.css(n),d&&setTimeout(function(){q.disableTransition();d.call()},q.options.speed))};d.prototype.getNavTarget=function(){var h=this.options.asNavFor;h&&null!==h&&(h=m(h).not(this.$slider));return h};d.prototype.asNavFor=function(h){var d=this.getNavTarget();null!==d&&"object"===typeof d&&d.each(function(){var d=m(this).slick("getSlick");d.unslicked||
d.slideHandler(h,!0)})};d.prototype.applyTransition=function(h){var d={};d[this.transitionType]=!1===this.options.fade?this.transformType+" "+this.options.speed+"ms "+this.options.cssEase:"opacity "+this.options.speed+"ms "+this.options.cssEase;!1===this.options.fade?this.$slideTrack.css(d):this.$slides.eq(h).css(d)};d.prototype.autoPlay=function(){this.autoPlayClear();this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))};d.prototype.autoPlayClear=
function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)};d.prototype.autoPlayIterator=function(){var h=this.currentSlide+this.options.slidesToScroll;this.paused||this.interrupted||this.focussed||(!1===this.options.infinite&&(1===this.direction&&this.currentSlide+1===this.slideCount-1?this.direction=0:0===this.direction&&(h=this.currentSlide-this.options.slidesToScroll,0===this.currentSlide-1&&(this.direction=1))),this.slideHandler(h))};d.prototype.buildArrows=function(){!0===this.options.arrows&&
(this.$prevArrow=m(this.options.prevArrow).addClass("slick-arrow"),this.$nextArrow=m(this.options.nextArrow).addClass("slick-arrow"),this.slideCount>this.options.slidesToShow?(this.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),this.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),this.htmlExpr.test(this.options.prevArrow)&&this.$prevArrow.prependTo(this.options.appendArrows),this.htmlExpr.test(this.options.nextArrow)&&this.$nextArrow.appendTo(this.options.appendArrows),
!0!==this.options.infinite&&this.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):this.$prevArrow.add(this.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))};d.prototype.buildDots=function(){var h;if(!0===this.options.dots&&this.slideCount>this.options.slidesToShow){this.$slider.addClass("slick-dotted");var d=m("<ul />").addClass(this.options.dotsClass);for(h=0;h<=this.getDotCount();h+=1)d.append(m("<li />").append(this.options.customPaging.call(this,
this,h)));this.$dots=d.appendTo(this.options.appendDots);this.$dots.find("li").first().addClass("slick-active")}};d.prototype.buildOut=function(){this.$slides=this.$slider.children(this.options.slide+":not(.slick-cloned)").addClass("slick-slide");this.slideCount=this.$slides.length;this.$slides.each(function(h,d){m(d).attr("data-slick-index",h).data("originalStyling",m(d).attr("style")||"")});this.$slider.addClass("slick-slider");this.$slideTrack=0===this.slideCount?m('<div class="slick-track"/>').appendTo(this.$slider):
this.$slides.wrapAll('<div class="slick-track"/>').parent();this.$list=this.$slideTrack.wrap('<div class="slick-list"/>').parent();this.$slideTrack.css("opacity",0);if(!0===this.options.centerMode||!0===this.options.swipeToSlide)this.options.slidesToScroll=1;m("img[data-lazy]",this.$slider).not("[src]").addClass("slick-loading");this.setupInfinite();this.buildArrows();this.buildDots();this.updateDots();this.setSlideClasses("number"===typeof this.currentSlide?this.currentSlide:0);!0===this.options.draggable&&
this.$list.addClass("draggable")};d.prototype.buildRows=function(){var h,d,m;var q=document.createDocumentFragment();var t=this.$slider.children();if(0<this.options.rows){var k=this.options.slidesPerRow*this.options.rows;var a=Math.ceil(t.length/k);for(h=0;h<a;h++){var f=document.createElement("div");for(d=0;d<this.options.rows;d++){var l=document.createElement("div");for(m=0;m<this.options.slidesPerRow;m++){var c=h*k+(d*this.options.slidesPerRow+m);t.get(c)&&l.appendChild(t.get(c))}f.appendChild(l)}q.appendChild(f)}this.$slider.empty().append(q);
this.$slider.children().children().children().css({width:100/this.options.slidesPerRow+"%",display:"inline-block"})}};d.prototype.checkResponsive=function(h,d){var n,q,t=!1;var k=this.$slider.width();var a=window.innerWidth||m(window).width();"window"===this.respondTo?q=a:"slider"===this.respondTo?q=k:"min"===this.respondTo&&(q=Math.min(a,k));if(this.options.responsive&&this.options.responsive.length&&null!==this.options.responsive){k=null;for(n in this.breakpoints)this.breakpoints.hasOwnProperty(n)&&
(!1===this.originalSettings.mobileFirst?q<this.breakpoints[n]&&(k=this.breakpoints[n]):q>this.breakpoints[n]&&(k=this.breakpoints[n]));if(null!==k)if(null!==this.activeBreakpoint){if(k!==this.activeBreakpoint||d)this.activeBreakpoint=k,"unslick"===this.breakpointSettings[k]?this.unslick(k):(this.options=m.extend({},this.originalSettings,this.breakpointSettings[k]),!0===h&&(this.currentSlide=this.options.initialSlide),this.refresh(h)),t=k}else this.activeBreakpoint=k,"unslick"===this.breakpointSettings[k]?
this.unslick(k):(this.options=m.extend({},this.originalSettings,this.breakpointSettings[k]),!0===h&&(this.currentSlide=this.options.initialSlide),this.refresh(h)),t=k;else null!==this.activeBreakpoint&&(this.activeBreakpoint=null,this.options=this.originalSettings,!0===h&&(this.currentSlide=this.options.initialSlide),this.refresh(h),t=k);h||!1===t||this.$slider.trigger("breakpoint",[this,t])}};d.prototype.changeSlide=function(h,d){var n=m(h.currentTarget);n.is("a")&&h.preventDefault();n.is("li")||
(n=n.closest("li"));var q=0!==this.slideCount%this.options.slidesToScroll?0:(this.slideCount-this.currentSlide)%this.options.slidesToScroll;switch(h.data.message){case "previous":n=0===q?this.options.slidesToScroll:this.options.slidesToShow-q;this.slideCount>this.options.slidesToShow&&this.slideHandler(this.currentSlide-n,!1,d);break;case "next":n=0===q?this.options.slidesToScroll:q;this.slideCount>this.options.slidesToShow&&this.slideHandler(this.currentSlide+n,!1,d);break;case "index":h=0===h.data.index?
0:h.data.index||n.index()*this.options.slidesToScroll,this.slideHandler(this.checkNavigable(h),!1,d),n.children().trigger("focus")}};d.prototype.checkNavigable=function(h){var d=this.getNavigableIndexes();var m=0;if(h>d[d.length-1])h=d[d.length-1];else for(var q in d){if(h<d[q]){h=m;break}m=d[q]}return h};d.prototype.cleanUpEvents=function(){this.options.dots&&null!==this.$dots&&(m("li",this.$dots).off("click.slick",this.changeSlide).off("mouseenter.slick",m.proxy(this.interrupt,this,!0)).off("mouseleave.slick",
m.proxy(this.interrupt,this,!1)),!0===this.options.accessibility&&this.$dots.off("keydown.slick",this.keyHandler));this.$slider.off("focus.slick blur.slick");!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow&&this.$prevArrow.off("click.slick",this.changeSlide),this.$nextArrow&&this.$nextArrow.off("click.slick",this.changeSlide),!0===this.options.accessibility&&(this.$prevArrow&&this.$prevArrow.off("keydown.slick",this.keyHandler),this.$nextArrow&&this.$nextArrow.off("keydown.slick",
this.keyHandler)));this.$list.off("touchstart.slick mousedown.slick",this.swipeHandler);this.$list.off("touchmove.slick mousemove.slick",this.swipeHandler);this.$list.off("touchend.slick mouseup.slick",this.swipeHandler);this.$list.off("touchcancel.slick mouseleave.slick",this.swipeHandler);this.$list.off("click.slick",this.clickHandler);m(document).off(this.visibilityChange,this.visibility);this.cleanUpSlideEvents();!0===this.options.accessibility&&this.$list.off("keydown.slick",this.keyHandler);
!0===this.options.focusOnSelect&&m(this.$slideTrack).children().off("click.slick",this.selectHandler);m(window).off("orientationchange.slick.slick-"+this.instanceUid,this.orientationChange);m(window).off("resize.slick.slick-"+this.instanceUid,this.resize);m("[draggable!=true]",this.$slideTrack).off("dragstart",this.preventDefault);m(window).off("load.slick.slick-"+this.instanceUid,this.setPosition)};d.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",m.proxy(this.interrupt,
this,!0));this.$list.off("mouseleave.slick",m.proxy(this.interrupt,this,!1))};d.prototype.cleanUpRows=function(){if(0<this.options.rows){var h=this.$slides.children().children();h.removeAttr("style");this.$slider.empty().append(h)}};d.prototype.clickHandler=function(h){!1===this.shouldClick&&(h.stopImmediatePropagation(),h.stopPropagation(),h.preventDefault())};d.prototype.destroy=function(h){this.autoPlayClear();this.touchObject={};this.cleanUpEvents();m(".slick-cloned",this.$slider).detach();this.$dots&&
this.$dots.remove();this.$prevArrow&&this.$prevArrow.length&&(this.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),this.htmlExpr.test(this.options.prevArrow)&&this.$prevArrow.remove());this.$nextArrow&&this.$nextArrow.length&&(this.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),this.htmlExpr.test(this.options.nextArrow)&&this.$nextArrow.remove());
this.$slides&&(this.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){m(this).attr("style",m(this).data("originalStyling"))}),this.$slideTrack.children(this.options.slide).detach(),this.$slideTrack.detach(),this.$list.detach(),this.$slider.append(this.$slides));this.cleanUpRows();this.$slider.removeClass("slick-slider");this.$slider.removeClass("slick-initialized");this.$slider.removeClass("slick-dotted");
this.unslicked=!0;h||this.$slider.trigger("destroy",[this])};d.prototype.disableTransition=function(h){var d={};d[this.transitionType]="";!1===this.options.fade?this.$slideTrack.css(d):this.$slides.eq(h).css(d)};d.prototype.fadeSlide=function(h,d){var n=this;!1===n.cssTransitions?(n.$slides.eq(h).css({zIndex:n.options.zIndex}),n.$slides.eq(h).animate({opacity:1},n.options.speed,n.options.easing,d)):(n.applyTransition(h),n.$slides.eq(h).css({opacity:1,zIndex:n.options.zIndex}),d&&setTimeout(function(){n.disableTransition(h);
d.call()},n.options.speed))};d.prototype.fadeSlideOut=function(h){!1===this.cssTransitions?this.$slides.eq(h).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(h),this.$slides.eq(h).css({opacity:0,zIndex:this.options.zIndex-2}))};d.prototype.filterSlides=d.prototype.slickFilter=function(h){null!==h&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(h).appendTo(this.$slideTrack),
this.reinit())};d.prototype.focusHandler=function(){var h=this;h.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(d){d.stopImmediatePropagation();var n=m(this);setTimeout(function(){h.options.pauseOnFocus&&(h.focussed=n.is(":focus"),h.autoPlay())},0)})};d.prototype.getCurrent=d.prototype.slickCurrentSlide=function(){return this.currentSlide};d.prototype.getDotCount=function(){var h=0,d=0,m=0;if(!0===this.options.infinite)if(this.slideCount<=this.options.slidesToShow)++m;
else for(;h<this.slideCount;)++m,h=d+this.options.slidesToScroll,d+=this.options.slidesToScroll<=this.options.slidesToShow?this.options.slidesToScroll:this.options.slidesToShow;else if(!0===this.options.centerMode)m=this.slideCount;else if(this.options.asNavFor)for(;h<this.slideCount;)++m,h=d+this.options.slidesToScroll,d+=this.options.slidesToScroll<=this.options.slidesToShow?this.options.slidesToScroll:this.options.slidesToShow;else m=1+Math.ceil((this.slideCount-this.options.slidesToShow)/this.options.slidesToScroll);
return m-1};d.prototype.getLeft=function(h){var d=0;this.slideOffset=0;var m=this.$slides.first().outerHeight(!0);!0===this.options.infinite?(this.slideCount>this.options.slidesToShow&&(this.slideOffset=this.slideWidth*this.options.slidesToShow*-1,d=-1,!0===this.options.vertical&&!0===this.options.centerMode&&(2===this.options.slidesToShow?d=-1.5:1===this.options.slidesToShow&&(d=-2)),d*=m*this.options.slidesToShow),0!==this.slideCount%this.options.slidesToScroll&&h+this.options.slidesToScroll>this.slideCount&&
this.slideCount>this.options.slidesToShow&&(h>this.slideCount?(this.slideOffset=(this.options.slidesToShow-(h-this.slideCount))*this.slideWidth*-1,d=(this.options.slidesToShow-(h-this.slideCount))*m*-1):(this.slideOffset=this.slideCount%this.options.slidesToScroll*this.slideWidth*-1,d=this.slideCount%this.options.slidesToScroll*m*-1))):h+this.options.slidesToShow>this.slideCount&&(this.slideOffset=(h+this.options.slidesToShow-this.slideCount)*this.slideWidth,d=(h+this.options.slidesToShow-this.slideCount)*
m);this.slideCount<=this.options.slidesToShow&&(d=this.slideOffset=0);!0===this.options.centerMode&&this.slideCount<=this.options.slidesToShow?this.slideOffset=this.slideWidth*Math.floor(this.options.slidesToShow)/2-this.slideWidth*this.slideCount/2:!0===this.options.centerMode&&!0===this.options.infinite?this.slideOffset+=this.slideWidth*Math.floor(this.options.slidesToShow/2)-this.slideWidth:!0===this.options.centerMode&&(this.slideOffset=0,this.slideOffset+=this.slideWidth*Math.floor(this.options.slidesToShow/
2));m=!1===this.options.vertical?h*this.slideWidth*-1+this.slideOffset:h*m*-1+d;!0===this.options.variableWidth&&(d=this.slideCount<=this.options.slidesToShow||!1===this.options.infinite?this.$slideTrack.children(".slick-slide").eq(h):this.$slideTrack.children(".slick-slide").eq(h+this.options.slidesToShow),m=!0===this.options.rtl?d[0]?-1*(this.$slideTrack.width()-d[0].offsetLeft-d.width()):0:d[0]?-1*d[0].offsetLeft:0,!0===this.options.centerMode&&(d=this.slideCount<=this.options.slidesToShow||!1===
this.options.infinite?this.$slideTrack.children(".slick-slide").eq(h):this.$slideTrack.children(".slick-slide").eq(h+this.options.slidesToShow+1),m=!0===this.options.rtl?d[0]?-1*(this.$slideTrack.width()-d[0].offsetLeft-d.width()):0:d[0]?-1*d[0].offsetLeft:0,m+=(this.$list.width()-d.outerWidth())/2));return m};d.prototype.getOption=d.prototype.slickGetOption=function(h){return this.options[h]};d.prototype.getNavigableIndexes=function(){var h=0,d=0,m=[];if(!1===this.options.infinite)var q=this.slideCount;
else h=-1*this.options.slidesToScroll,d=-1*this.options.slidesToScroll,q=2*this.slideCount;for(;h<q;)m.push(h),h=d+this.options.slidesToScroll,d+=this.options.slidesToScroll<=this.options.slidesToShow?this.options.slidesToScroll:this.options.slidesToShow;return m};d.prototype.getSlick=function(){return this};d.prototype.getSlideCount=function(){var h=this,d,p;var q=!0===h.options.centerMode?h.slideWidth*Math.floor(h.options.slidesToShow/2):0;return!0===h.options.swipeToSlide?(h.$slideTrack.find(".slick-slide").each(function(d,
k){if(k.offsetLeft-q+m(k).outerWidth()/2>-1*h.swipeLeft)return p=k,!1}),d=Math.abs(m(p).attr("data-slick-index")-h.currentSlide)||1):h.options.slidesToScroll};d.prototype.goTo=d.prototype.slickGoTo=function(h,d){this.changeSlide({data:{message:"index",index:parseInt(h)}},d)};d.prototype.init=function(h){m(this.$slider).hasClass("slick-initialized")||(m(this.$slider).addClass("slick-initialized"),this.buildRows(),this.buildOut(),this.setProps(),this.startLoad(),this.loadSlider(),this.initializeEvents(),
this.updateArrows(),this.updateDots(),this.checkResponsive(!0),this.focusHandler());h&&this.$slider.trigger("init",[this]);!0===this.options.accessibility&&this.initADA();this.options.autoplay&&(this.paused=!1,this.autoPlay())};d.prototype.initADA=function(){var h=this,d=Math.ceil(h.slideCount/h.options.slidesToShow),p=h.getNavigableIndexes().filter(function(k){return 0<=k&&k<h.slideCount});h.$slides.add(h.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"});
null!==h.$dots&&(h.$slides.not(h.$slideTrack.find(".slick-cloned")).each(function(k){var a=p.indexOf(k);m(this).attr({role:"tabpanel",id:"slick-slide"+h.instanceUid+k,tabindex:-1});-1!==a&&(k="slick-slide-control"+h.instanceUid+a,m("#"+k).length&&m(this).attr({"aria-describedby":k}))}),h.$dots.attr("role","tablist").find("li").each(function(k){var a=p[k];m(this).attr({role:"presentation"});m(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+h.instanceUid+k,"aria-controls":"slick-slide"+
h.instanceUid+a,"aria-label":k+1+" of "+d,"aria-selected":null,tabindex:"-1"})}).eq(h.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var q=h.currentSlide,t=q+h.options.slidesToShow;q<t;q++)h.options.focusOnChange?h.$slides.eq(q).attr({tabindex:"0"}):h.$slides.eq(q).removeAttr("tabindex");h.activateADA()};d.prototype.initArrowEvents=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.off("click.slick").on("click.slick",
{message:"previous"},this.changeSlide),this.$nextArrow.off("click.slick").on("click.slick",{message:"next"},this.changeSlide),!0===this.options.accessibility&&(this.$prevArrow.on("keydown.slick",this.keyHandler),this.$nextArrow.on("keydown.slick",this.keyHandler)))};d.prototype.initDotEvents=function(){if(!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&(m("li",this.$dots).on("click.slick",{message:"index"},this.changeSlide),!0===this.options.accessibility))this.$dots.on("keydown.slick",
this.keyHandler);if(!0===this.options.dots&&!0===this.options.pauseOnDotsHover&&this.slideCount>this.options.slidesToShow)m("li",this.$dots).on("mouseenter.slick",m.proxy(this.interrupt,this,!0)).on("mouseleave.slick",m.proxy(this.interrupt,this,!1))};d.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",m.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",m.proxy(this.interrupt,this,!1)))};d.prototype.initializeEvents=function(){this.initArrowEvents();
this.initDotEvents();this.initSlideEvents();this.$list.on("touchstart.slick mousedown.slick",{action:"start"},this.swipeHandler);this.$list.on("touchmove.slick mousemove.slick",{action:"move"},this.swipeHandler);this.$list.on("touchend.slick mouseup.slick",{action:"end"},this.swipeHandler);this.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},this.swipeHandler);this.$list.on("click.slick",this.clickHandler);m(document).on(this.visibilityChange,m.proxy(this.visibility,this));if(!0===this.options.accessibility)this.$list.on("keydown.slick",
this.keyHandler);if(!0===this.options.focusOnSelect)m(this.$slideTrack).children().on("click.slick",this.selectHandler);m(window).on("orientationchange.slick.slick-"+this.instanceUid,m.proxy(this.orientationChange,this));m(window).on("resize.slick.slick-"+this.instanceUid,m.proxy(this.resize,this));m("[draggable!=true]",this.$slideTrack).on("dragstart",this.preventDefault);m(window).on("load.slick.slick-"+this.instanceUid,this.setPosition);m(this.setPosition)};d.prototype.initUI=function(){!0===this.options.arrows&&
this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show());!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()};d.prototype.keyHandler=function(h){h.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===h.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===h.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))};
d.prototype.lazyLoad=function(){function h(a){m("img[data-lazy]",a).each(function(){var a=m(this),c=m(this).attr("data-lazy"),e=m(this).attr("data-srcset"),f=m(this).attr("data-sizes")||d.$slider.attr("data-sizes"),k=document.createElement("img");k.onload=function(){a.animate({opacity:0},100,function(){e&&(a.attr("srcset",e),f&&a.attr("sizes",f));a.attr("src",c).animate({opacity:1},200,function(){a.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")});d.$slider.trigger("lazyLoaded",
[d,a,c])})};k.onerror=function(){a.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error");d.$slider.trigger("lazyLoadError",[d,a,c])};k.src=c})}var d=this;if(!0===d.options.centerMode)if(!0===d.options.infinite){var p=d.currentSlide+(d.options.slidesToShow/2+1);var q=p+d.options.slidesToShow+2}else p=Math.max(0,d.currentSlide-(d.options.slidesToShow/2+1)),q=2+(d.options.slidesToShow/2+1)+d.currentSlide;else p=d.options.infinite?d.options.slidesToShow+d.currentSlide:
d.currentSlide,q=Math.ceil(p+d.options.slidesToShow),!0===d.options.fade&&(0<p&&p--,q<=d.slideCount&&q++);var t=d.$slider.find(".slick-slide").slice(p,q);if("anticipated"===d.options.lazyLoad){--p;for(var k=d.$slider.find(".slick-slide"),a=0;a<d.options.slidesToScroll;a++)0>p&&(p=d.slideCount-1),t=t.add(k.eq(p)),t=t.add(k.eq(q)),p--,q++}h(t);d.slideCount<=d.options.slidesToShow?(t=d.$slider.find(".slick-slide"),h(t)):d.currentSlide>=d.slideCount-d.options.slidesToShow?(t=d.$slider.find(".slick-cloned").slice(0,
d.options.slidesToShow),h(t)):0===d.currentSlide&&(t=d.$slider.find(".slick-cloned").slice(-1*d.options.slidesToShow),h(t))};d.prototype.loadSlider=function(){this.setPosition();this.$slideTrack.css({opacity:1});this.$slider.removeClass("slick-loading");this.initUI();"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()};d.prototype.next=d.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})};d.prototype.orientationChange=function(){this.checkResponsive();this.setPosition()};
d.prototype.pause=d.prototype.slickPause=function(){this.autoPlayClear();this.paused=!0};d.prototype.play=d.prototype.slickPlay=function(){this.autoPlay();this.options.autoplay=!0;this.interrupted=this.focussed=this.paused=!1};d.prototype.postSlide=function(h){this.unslicked||(this.$slider.trigger("afterChange",[this,h]),this.animating=!1,this.slideCount>this.options.slidesToShow&&this.setPosition(),this.swipeLeft=null,this.options.autoplay&&this.autoPlay(),!0===this.options.accessibility&&(this.initADA(),
this.options.focusOnChange&&m(this.$slides.get(this.currentSlide)).attr("tabindex",0).focus()))};d.prototype.prev=d.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})};d.prototype.preventDefault=function(h){h.preventDefault()};d.prototype.progressiveLazyLoad=function(h){h=h||1;var d=this,p=m("img[data-lazy]",d.$slider);if(p.length){var q=p.first();var t=q.attr("data-lazy");var k=q.attr("data-srcset");var a=q.attr("data-sizes")||d.$slider.attr("data-sizes");p=document.createElement("img");
p.onload=function(){k&&(q.attr("srcset",k),a&&q.attr("sizes",a));q.attr("src",t).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading");!0===d.options.adaptiveHeight&&d.setPosition();d.$slider.trigger("lazyLoaded",[d,q,t]);d.progressiveLazyLoad()};p.onerror=function(){3>h?setTimeout(function(){d.progressiveLazyLoad(h+1)},500):(q.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),d.$slider.trigger("lazyLoadError",[d,q,t]),d.progressiveLazyLoad())};
p.src=t}else d.$slider.trigger("allImagesLoaded",[d])};d.prototype.refresh=function(d){var h=this.slideCount-this.options.slidesToShow;!this.options.infinite&&this.currentSlide>h&&(this.currentSlide=h);this.slideCount<=this.options.slidesToShow&&(this.currentSlide=0);h=this.currentSlide;this.destroy(!0);m.extend(this,this.initials,{currentSlide:h});this.init();d||this.changeSlide({data:{message:"index",index:h}},!1)};d.prototype.registerBreakpoints=function(){var d=this,n,p,q=d.options.responsive||
null;if("array"===m.type(q)&&q.length){d.respondTo=d.options.respondTo||"window";for(n in q){var t=d.breakpoints.length-1;if(q.hasOwnProperty(n)){for(p=q[n].breakpoint;0<=t;)d.breakpoints[t]&&d.breakpoints[t]===p&&d.breakpoints.splice(t,1),t--;d.breakpoints.push(p);d.breakpointSettings[p]=q[n].settings}}d.breakpoints.sort(function(k,a){return d.options.mobileFirst?k-a:a-k})}};d.prototype.reinit=function(){this.$slides=this.$slideTrack.children(this.options.slide).addClass("slick-slide");this.slideCount=
this.$slides.length;this.currentSlide>=this.slideCount&&0!==this.currentSlide&&(this.currentSlide-=this.options.slidesToScroll);this.slideCount<=this.options.slidesToShow&&(this.currentSlide=0);this.registerBreakpoints();this.setProps();this.setupInfinite();this.buildArrows();this.updateArrows();this.initArrowEvents();this.buildDots();this.updateDots();this.initDotEvents();this.cleanUpSlideEvents();this.initSlideEvents();this.checkResponsive(!1,!0);if(!0===this.options.focusOnSelect)m(this.$slideTrack).children().on("click.slick",
this.selectHandler);this.setSlideClasses("number"===typeof this.currentSlide?this.currentSlide:0);this.setPosition();this.focusHandler();this.paused=!this.options.autoplay;this.autoPlay();this.$slider.trigger("reInit",[this])};d.prototype.resize=function(){var d=this;m(window).width()!==d.windowWidth&&(clearTimeout(d.windowDelay),d.windowDelay=window.setTimeout(function(){d.windowWidth=m(window).width();d.checkResponsive();d.unslicked||d.setPosition()},50))};d.prototype.removeSlide=d.prototype.slickRemove=
function(d,n,m){d="boolean"===typeof d?!0===d?0:this.slideCount-1:!0===n?--d:d;if(1>this.slideCount||0>d||d>this.slideCount-1)return!1;this.unload();!0===m?this.$slideTrack.children().remove():this.$slideTrack.children(this.options.slide).eq(d).remove();this.$slides=this.$slideTrack.children(this.options.slide);this.$slideTrack.children(this.options.slide).detach();this.$slideTrack.append(this.$slides);this.$slidesCache=this.$slides;this.reinit()};d.prototype.setCSS=function(d){var h={};!0===this.options.rtl&&
(d=-d);var m="left"==this.positionProp?Math.ceil(d)+"px":"0px";var q="top"==this.positionProp?Math.ceil(d)+"px":"0px";h[this.positionProp]=d;!1!==this.transformsEnabled&&(h={},h[this.animType]=!1===this.cssTransitions?"translate("+m+", "+q+")":"translate3d("+m+", "+q+", 0px)");this.$slideTrack.css(h)};d.prototype.setDimensions=function(){!1===this.options.vertical?!0===this.options.centerMode&&this.$list.css({padding:"0px "+this.options.centerPadding}):(this.$list.height(this.$slides.first().outerHeight(!0)*
this.options.slidesToShow),!0===this.options.centerMode&&this.$list.css({padding:this.options.centerPadding+" 0px"}));this.listWidth=this.$list.width();this.listHeight=this.$list.height();!1===this.options.vertical&&!1===this.options.variableWidth?(this.slideWidth=Math.ceil(this.listWidth/this.options.slidesToShow),this.$slideTrack.width(Math.ceil(this.slideWidth*this.$slideTrack.children(".slick-slide").length))):!0===this.options.variableWidth?this.$slideTrack.width(5E3*this.slideCount):(this.slideWidth=
Math.ceil(this.listWidth),this.$slideTrack.height(Math.ceil(this.$slides.first().outerHeight(!0)*this.$slideTrack.children(".slick-slide").length)));var d=this.$slides.first().outerWidth(!0)-this.$slides.first().width();!1===this.options.variableWidth&&this.$slideTrack.children(".slick-slide").width(this.slideWidth-d)};d.prototype.setFade=function(){var d=this,n;d.$slides.each(function(h,q){n=d.slideWidth*h*-1;!0===d.options.rtl?m(q).css({position:"relative",right:n,top:0,zIndex:d.options.zIndex-
2,opacity:0}):m(q).css({position:"relative",left:n,top:0,zIndex:d.options.zIndex-2,opacity:0})});d.$slides.eq(d.currentSlide).css({zIndex:d.options.zIndex-1,opacity:1})};d.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var d=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",d)}};d.prototype.setOption=d.prototype.slickSetOption=function(d,n,p){var h=this,t,k=!1;if("object"===m.type(d)){var a=d;
k=n;var f="multiple"}else if("string"===m.type(d)){a=d;var l=n;k=p;"responsive"===d&&"array"===m.type(n)?f="responsive":"undefined"!==typeof n&&(f="single")}if("single"===f)h.options[a]=l;else if("multiple"===f)m.each(a,function(a,e){h.options[a]=e});else if("responsive"===f)for(t in l)if("array"!==m.type(h.options.responsive))h.options.responsive=[l[t]];else{for(d=h.options.responsive.length-1;0<=d;)h.options.responsive[d].breakpoint===l[t].breakpoint&&h.options.responsive.splice(d,1),d--;h.options.responsive.push(l[t])}k&&
(h.unload(),h.reinit())};d.prototype.setPosition=function(){this.setDimensions();this.setHeight();!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade();this.$slider.trigger("setPosition",[this])};d.prototype.setProps=function(){var d=document.body.style;this.positionProp=!0===this.options.vertical?"top":"left";"top"===this.positionProp?this.$slider.addClass("slick-vertical"):this.$slider.removeClass("slick-vertical");void 0===d.WebkitTransition&&void 0===d.MozTransition&&
void 0===d.msTransition||!0!==this.options.useCSS||(this.cssTransitions=!0);this.options.fade&&("number"===typeof this.options.zIndex?3>this.options.zIndex&&(this.options.zIndex=3):this.options.zIndex=this.defaults.zIndex);void 0!==d.OTransform&&(this.animType="OTransform",this.transformType="-o-transform",this.transitionType="OTransition",void 0===d.perspectiveProperty&&void 0===d.webkitPerspective&&(this.animType=!1));void 0!==d.MozTransform&&(this.animType="MozTransform",this.transformType="-moz-transform",
this.transitionType="MozTransition",void 0===d.perspectiveProperty&&void 0===d.MozPerspective&&(this.animType=!1));void 0!==d.webkitTransform&&(this.animType="webkitTransform",this.transformType="-webkit-transform",this.transitionType="webkitTransition",void 0===d.perspectiveProperty&&void 0===d.webkitPerspective&&(this.animType=!1));void 0!==d.msTransform&&(this.animType="msTransform",this.transformType="-ms-transform",this.transitionType="msTransition",void 0===d.msTransform&&(this.animType=!1));
void 0!==d.transform&&!1!==this.animType&&(this.transformType=this.animType="transform",this.transitionType="transition");this.transformsEnabled=this.options.useTransform&&null!==this.animType&&!1!==this.animType};d.prototype.setSlideClasses=function(d){var h=this.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");this.$slides.eq(d).addClass("slick-current");if(!0===this.options.centerMode){var m=0===this.options.slidesToShow%2?1:0;var q=
Math.floor(this.options.slidesToShow/2);if(!0===this.options.infinite){if(d>=q&&d<=this.slideCount-1-q)this.$slides.slice(d-q+m,d+q+1).addClass("slick-active").attr("aria-hidden","false");else{var t=this.options.slidesToShow+d;h.slice(t-q+1+m,t+q+2).addClass("slick-active").attr("aria-hidden","false")}0===d?h.eq(h.length-1-this.options.slidesToShow).addClass("slick-center"):d===this.slideCount-1&&h.eq(this.options.slidesToShow).addClass("slick-center")}this.$slides.eq(d).addClass("slick-center")}else 0<=
d&&d<=this.slideCount-this.options.slidesToShow?this.$slides.slice(d,d+this.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):h.length<=this.options.slidesToShow?h.addClass("slick-active").attr("aria-hidden","false"):(q=this.slideCount%this.options.slidesToShow,t=!0===this.options.infinite?this.options.slidesToShow+d:d,this.options.slidesToShow==this.options.slidesToScroll&&this.slideCount-d<this.options.slidesToShow?h.slice(t-(this.options.slidesToShow-q),t+q).addClass("slick-active").attr("aria-hidden",
"false"):h.slice(t,t+this.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==this.options.lazyLoad&&"anticipated"!==this.options.lazyLoad||this.lazyLoad()};d.prototype.setupInfinite=function(){var d;!0===this.options.fade&&(this.options.centerMode=!1);if(!0===this.options.infinite&&!1===this.options.fade){var n=null;if(this.slideCount>this.options.slidesToShow){var p=!0===this.options.centerMode?this.options.slidesToShow+1:this.options.slidesToShow;for(d=this.slideCount;d>
this.slideCount-p;--d)n=d-1,m(this.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-this.slideCount).prependTo(this.$slideTrack).addClass("slick-cloned").find(".AVscript").remove();for(d=0;d<p+this.slideCount;d+=1)n=d,m(this.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+this.slideCount).appendTo(this.$slideTrack).addClass("slick-cloned").find(".AVscript").remove();this.$slideTrack.find(".slick-cloned").find("[id]").each(function(){m(this).attr("id","")})}}};d.prototype.interrupt=
function(d){d||this.autoPlay();this.interrupted=d};d.prototype.selectHandler=function(d){d=m(d.target).is(".slick-slide")?m(d.target):m(d.target).parents(".slick-slide");(d=parseInt(d.attr("data-slick-index")))||(d=0);this.slideCount<=this.options.slidesToShow?this.slideHandler(d,!1,!0):this.slideHandler(d)};d.prototype.slideHandler=function(d,n,m){var h=null,t=this;if(!0!==t.animating||!0!==t.options.waitForAnimate)if(!0!==t.options.fade||t.currentSlide!==d){!1===(n||!1)&&t.asNavFor(d);var k=d;h=
t.getLeft(k);n=t.getLeft(t.currentSlide);t.currentLeft=null===t.swipeLeft?n:t.swipeLeft;if(!1===t.options.infinite&&!1===t.options.centerMode&&(0>d||d>t.getDotCount()*t.options.slidesToScroll))!1===t.options.fade&&(k=t.currentSlide,!0!==m&&t.slideCount>t.options.slidesToShow?t.animateSlide(n,function(){t.postSlide(k)}):t.postSlide(k));else if(!1===t.options.infinite&&!0===t.options.centerMode&&(0>d||d>t.slideCount-t.options.slidesToScroll))!1===t.options.fade&&(k=t.currentSlide,!0!==m&&t.slideCount>
t.options.slidesToShow?t.animateSlide(n,function(){t.postSlide(k)}):t.postSlide(k));else{t.options.autoplay&&clearInterval(t.autoPlayTimer);var a=0>k?0!==t.slideCount%t.options.slidesToScroll?t.slideCount-t.slideCount%t.options.slidesToScroll:t.slideCount+k:k>=t.slideCount?0!==t.slideCount%t.options.slidesToScroll?0:k-t.slideCount:k;t.animating=!0;t.$slider.trigger("beforeChange",[t,t.currentSlide,a]);d=t.currentSlide;t.currentSlide=a;t.setSlideClasses(t.currentSlide);t.options.asNavFor&&(n=t.getNavTarget(),
n=n.slick("getSlick"),n.slideCount<=n.options.slidesToShow&&n.setSlideClasses(t.currentSlide));t.updateDots();t.updateArrows();!0===t.options.fade?(!0!==m?(t.fadeSlideOut(d),t.fadeSlide(a,function(){t.postSlide(a)})):t.postSlide(a),t.animateHeight()):!0!==m&&t.slideCount>t.options.slidesToShow?t.animateSlide(h,function(){t.postSlide(a)}):t.postSlide(a)}}};d.prototype.startLoad=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.hide(),this.$nextArrow.hide());
!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.hide();this.$slider.addClass("slick-loading")};d.prototype.swipeDirection=function(){var d=Math.round(180*Math.atan2(this.touchObject.startY-this.touchObject.curY,this.touchObject.startX-this.touchObject.curX)/Math.PI);0>d&&(d=360-Math.abs(d));return 45>=d&&0<=d||360>=d&&315<=d?!1===this.options.rtl?"left":"right":135<=d&&225>=d?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=d&&135>=d?"down":
"up":"vertical"};d.prototype.swipeEnd=function(d){this.swiping=this.dragging=!1;if(this.scrolling)return this.scrolling=!1;this.interrupted=!1;this.shouldClick=10<this.touchObject.swipeLength?!1:!0;if(void 0===this.touchObject.curX)return!1;!0===this.touchObject.edgeHit&&this.$slider.trigger("edge",[this,this.swipeDirection()]);if(this.touchObject.swipeLength>=this.touchObject.minSwipe){d=this.swipeDirection();switch(d){case "left":case "down":var h=this.options.swipeToSlide?this.checkNavigable(this.currentSlide+
this.getSlideCount()):this.currentSlide+this.getSlideCount();this.currentDirection=0;break;case "right":case "up":h=this.options.swipeToSlide?this.checkNavigable(this.currentSlide-this.getSlideCount()):this.currentSlide-this.getSlideCount(),this.currentDirection=1}"vertical"!=d&&(this.slideHandler(h),this.touchObject={},this.$slider.trigger("swipe",[this,d]))}else this.touchObject.startX!==this.touchObject.curX&&(this.slideHandler(this.currentSlide),this.touchObject={})};d.prototype.swipeHandler=
function(d){if(!(!1===this.options.swipe||"ontouchend"in document&&!1===this.options.swipe||!1===this.options.draggable&&-1!==d.type.indexOf("mouse")))switch(this.touchObject.fingerCount=d.originalEvent&&void 0!==d.originalEvent.touches?d.originalEvent.touches.length:1,this.touchObject.minSwipe=this.listWidth/this.options.touchThreshold,!0===this.options.verticalSwiping&&(this.touchObject.minSwipe=this.listHeight/this.options.touchThreshold),d.data.action){case "start":this.swipeStart(d);break;case "move":this.swipeMove(d);
break;case "end":this.swipeEnd(d)}};d.prototype.swipeMove=function(d){var h=void 0!==d.originalEvent?d.originalEvent.touches:null;if(!this.dragging||this.scrolling||h&&1!==h.length)return!1;var m=this.getLeft(this.currentSlide);this.touchObject.curX=void 0!==h?h[0].pageX:d.clientX;this.touchObject.curY=void 0!==h?h[0].pageY:d.clientY;this.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(this.touchObject.curX-this.touchObject.startX,2)));h=Math.round(Math.sqrt(Math.pow(this.touchObject.curY-this.touchObject.startY,
2)));if(!this.options.verticalSwiping&&!this.swiping&&4<h)return this.scrolling=!0,!1;!0===this.options.verticalSwiping&&(this.touchObject.swipeLength=h);h=this.swipeDirection();void 0!==d.originalEvent&&4<this.touchObject.swipeLength&&(this.swiping=!0,d.preventDefault());var q=(!1===this.options.rtl?1:-1)*(this.touchObject.curX>this.touchObject.startX?1:-1);!0===this.options.verticalSwiping&&(q=this.touchObject.curY>this.touchObject.startY?1:-1);d=this.touchObject.swipeLength;this.touchObject.edgeHit=
!1;!1===this.options.infinite&&(0===this.currentSlide&&"right"===h||this.currentSlide>=this.getDotCount()&&"left"===h)&&(d=this.touchObject.swipeLength*this.options.edgeFriction,this.touchObject.edgeHit=!0);this.swipeLeft=!1===this.options.vertical?m+d*q:m+d*(this.$list.height()/this.listWidth)*q;!0===this.options.verticalSwiping&&(this.swipeLeft=m+d*q);if(!0===this.options.fade||!1===this.options.touchMove)return!1;if(!0===this.animating)return this.swipeLeft=null,!1;this.setCSS(this.swipeLeft)};
d.prototype.swipeStart=function(d){var h;this.interrupted=!0;if(1!==this.touchObject.fingerCount||this.slideCount<=this.options.slidesToShow)return this.touchObject={},!1;void 0!==d.originalEvent&&void 0!==d.originalEvent.touches&&(h=d.originalEvent.touches[0]);this.touchObject.startX=this.touchObject.curX=void 0!==h?h.pageX:d.clientX;this.touchObject.startY=this.touchObject.curY=void 0!==h?h.pageY:d.clientY;this.dragging=!0};d.prototype.unfilterSlides=d.prototype.slickUnfilter=function(){null!==
this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())};d.prototype.unload=function(){m(".slick-cloned",this.$slider).remove();this.$dots&&this.$dots.remove();this.$prevArrow&&this.htmlExpr.test(this.options.prevArrow)&&this.$prevArrow.remove();this.$nextArrow&&this.htmlExpr.test(this.options.nextArrow)&&this.$nextArrow.remove();this.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden",
"true").css("width","")};d.prototype.unslick=function(d){this.$slider.trigger("unslick",[this,d]);this.destroy()};d.prototype.updateArrows=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&!this.options.infinite&&(this.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),this.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===this.currentSlide?(this.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),this.$nextArrow.removeClass("slick-disabled").attr("aria-disabled",
"false")):this.currentSlide>=this.slideCount-this.options.slidesToShow&&!1===this.options.centerMode?(this.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),this.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):this.currentSlide>=this.slideCount-1&&!0===this.options.centerMode&&(this.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),this.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))};d.prototype.updateDots=function(){null!==
this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))};d.prototype.visibility=function(){this.options.autoplay&&(this.interrupted=document[this.hidden]?!0:!1)};m.fn.slick=function(){var h=arguments[0],n=Array.prototype.slice.call(arguments,1),m=this.length,q,t;for(q=0;q<m;q++)if("object"==typeof h||"undefined"==typeof h?this[q].slick=new d(this[q],h):t=this[q].slick[h].apply(this[q].slick,
n),"undefined"!=typeof t)return t;return this}});define("vendor/jquery/extensions/vendor/jquery.dbltap",["jquery"],function(m){m.event.special.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(d){var h=d.handleObj,n=m.data(d.target),p=(new Date).getTime(),q=n.lastTouch?p-n.lastTouch:0;300>q&&30<q?(n.lastTouch=null,d.type=h.origType,["clientX","clientY","pageX","pageY"].forEach(function(h){d[h]=d.originalEvent.changedTouches[0][h]}),h.handler.apply(this,arguments)):n.lastTouch=p}}});
define("vendor/jquery/extensions/vendor/jquery.placeholder",["jquery"],function(m){(function(d,h,n){function m(a){var c={},e=/^jQuery\d+$/;n.each(a.attributes,function(a,f){f.specified&&!e.test(f.name)&&(c[f.name]=f.value)});return c}function q(a,c){var e=n(this);if(this.value==e.attr("placeholder")&&e.hasClass("placeholder"))if(e.data("placeholder-password")){e=e.hide().next().show().attr("id",e.removeAttr("id").data("placeholder-id"));if(!0===a)return e[0].value=c;e.focus()}else this.value="",e.removeClass("placeholder"),
this==k()&&this.select()}function t(){var a=n(this),c=this.id;if(""==this.value){if("password"==this.type){if(!a.data("placeholder-textinput")){try{var e=a.clone().attr({type:"text"})}catch(G){e=n("<input>").attr(n.extend(m(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":a,"placeholder-id":c}).bind("focus.placeholder",q);a.data({"placeholder-textinput":e,"placeholder-id":c}).before(e)}a=a.removeAttr("id").hide().prev().attr("id",c).show()}a.addClass("placeholder");a[0].value=
a.attr("placeholder")}else a.removeClass("placeholder")}function k(){try{return h.activeElement}catch(u){}}var a="undefined"!==typeof d.operamini,f="placeholder"in h.createElement("input")&&!a;a="placeholder"in h.createElement("textarea")&&!a;var l=n.fn,c=n.valHooks,e=n.propHooks;f&&a?(l=l.placeholder=function(){return this},l.input=l.textarea=!0):(l=l.placeholder=function(){this.filter((f?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":q,"blur.placeholder":t}).data("placeholder-enabled",
!0).trigger("blur.placeholder");return this},l.input=f,l.textarea=a,l={get:function(a){var c=n(a),e=c.data("placeholder-password");return e?e[0].value:c.data("placeholder-enabled")&&c.hasClass("placeholder")?"":a.value},set:function(a,c){var e=n(a),f=e.data("placeholder-password");if(f)return f[0].value=c;if(!e.data("placeholder-enabled"))return a.value=c;""==c?(a.value=c,a!=k()&&t.call(a)):e.hasClass("placeholder")?q.call(a,!0,c)||(a.value=c):a.value=c;return e}},f||(c.input=l,e.value=l),a||(c.textarea=
l,e.value=l),n(function(){n(h).delegate("form","submit.placeholder",function(){var a=n(".placeholder",this).each(q);setTimeout(function(){a.each(t)},10)})}),n(d).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))})(window,document,m)});
define("vendor/jquery/extensions/vendor/jquery.threesixty",["jquery"],function(m){(function(d){d.ThreeSixty=function(h,n){var m=this,q,t=[];m.$el=d(h);m.el=h;m.$el.data("ThreeSixty",m);m.init=function(){q=d.extend({},d.ThreeSixty.defaultOptions,n);q.disableSpin&&(q.currentFrame=1,q.endFrame=1);m.initProgress();m.loadImages()};m.resize=function(){};m.initProgress=function(){m.$el.css({width:q.width+"px",height:q.height+"px","background-image":"none !important"});q.styles&&m.$el.css(q.styles);m.responsive();
m.$el.find(q.progress).css({marginTop:q.height/2-15+"px"});m.$el.find(q.progress).fadeIn("slow");m.$el.find(q.imgList).hide()};m.loadImages=function(){var k=document.createElement("li");var a=q.zeroBased?0:1;a=q.imgArray?q.imgArray[q.loadedImages]:q.domain+q.imagePath+q.filePrefix+m.zeroPad(q.loadedImages+a)+q.ext+(m.browser.isIE()?"?"+(new Date).getTime():"");var f=new Image;f.onload=function(){m.imageLoaded()};f=d(f);f.attr("src",a).addClass("previous-image").appendTo(k);t.push(f);m.$el.find(q.imgList).append(k)};
m.imageLoaded=function(){q.loadedImages+=1;d(q.progress+" span").text(Math.floor(q.loadedImages/q.totalFrames*100)+"%");q.loadedImages>=q.totalFrames?(q.disableSpin&&t[0].removeClass("previous-image").addClass("current-image"),d(q.progress).fadeOut("slow",function(){d(this).hide();m.showImages();m.showNavigation()})):m.loadImages()};m.showImages=function(){m.$el.find(".txtC").fadeIn();m.$el.find(q.imgList).fadeIn();m.ready=!0;q.ready=!0;q.drag&&m.initEvents();m.refresh();m.initPlugins();q.onReady();
setTimeout(function(){m.responsive()},50)};m.initPlugins=function(){d.each(q.plugins,function(k,a){if("function"===typeof d[a])d[a].call(m,m.$el,q);else throw Error(a+" not available.");})};m.showNavigation=function(){if(q.navigation&&!q.navigation_init){var k=d("<div/>").attr("class","nav_bar");var a=d("<a/>").attr({href:"#","class":"nav_bar_next"}).html("next");var f=d("<a/>").attr({href:"#","class":"nav_bar_previous"}).html("previous");var l=d("<a/>").attr({href:"#","class":"nav_bar_play"}).html("play");
k.append(f);k.append(l);k.append(a);m.$el.prepend(k);a.bind("mousedown touchstart",m.next);f.bind("mousedown touchstart",m.previous);l.bind("mousedown touchstart",m.play_stop);q.navigation_init=!0}};m.play_stop=function(k){k.preventDefault();q.autoplay?(q.autoplay=!1,d(k.currentTarget).removeClass("nav_bar_stop").addClass("nav_bar_play"),clearInterval(q.play),q.play=null):(q.autoplay=!0,q.play=setInterval(m.moveToNextFrame,q.playSpeed),d(k.currentTarget).removeClass("nav_bar_play").addClass("nav_bar_stop"))};
m.next=function(k){k&&k.preventDefault();q.endFrame-=5;m.refresh()};m.previous=function(k){k&&k.preventDefault();q.endFrame+=5;m.refresh()};m.play=function(k){k=k||q.playSpeed;q.autoplay||(q.autoplay=!0,q.play=setInterval(m.moveToNextFrame,k))};m.stop=function(){q.autoplay&&(q.autoplay=!1,clearInterval(q.play),q.play=null)};m.moveToNextFrame=function(){q.autoplayDirection+1&&!q.dirReverse?--q.endFrame:q.endFrame+=1;m.refresh()};m.gotoAndPlay=function(k){if(q.disableWrap)q.endFrame=k,m.refresh();else{var a=
Math.ceil(q.endFrame/q.totalFrames);0===a&&(a=1);a=1<a?q.endFrame-(a-1)*q.totalFrames:q.endFrame;var f=q.totalFrames-a;f=0<k-a?k-a<a+(q.totalFrames-k)?q.endFrame+(k-a):q.endFrame-(a+(q.totalFrames-k)):a-k<f+k?q.endFrame-(a-k):q.endFrame+(f+k);a!==k&&(q.endFrame=f,m.refresh())}};m.initEvents=function(){m.$el.bind("mousedown touchstart touchmove touchend mousemove click",function(k){k.preventDefault();"mousedown"===k.type&&1===k.which||"touchstart"===k.type?(q.pointerStartPosX=m.getPointerEvent(k).pageX,
q.dragging=!0):"touchmove"===k.type?m.trackPointer(k):"touchend"===k.type&&(q.dragging=!1)});d(document).bind("mouseup",function(k){q.dragging=!1;d(this).css("cursor","none")});d(window).bind("resize",function(k){m.responsive()});d(document).bind("mousemove",function(k){q.dragging?(k.preventDefault(),!m.browser.isIE&&q.showCursor&&m.$el.css("cursor","url(assets/images/hand_closed.png), auto")):!m.browser.isIE&&q.showCursor&&m.$el.css("cursor","url(assets/images/hand_open.png), auto");m.trackPointer(k)});
d(window).resize(function(){m.resize()})};m.getPointerEvent=function(k){return k.originalEvent.targetTouches?k.originalEvent.targetTouches[0]:k};m.trackPointer=function(k){if(q.ready&&q.dragging&&(q.pointerEndPosX=m.getPointerEvent(k).pageX,q.monitorStartTime<(new Date).getTime()-q.monitorInt)){q.pointerDistance=q.pointerEndPosX-q.pointerStartPosX;if(q.dirReverse){var a=Math.ceil;var f=Math.floor;var l=-1}else a=Math.floor,f=Math.ceil,l=1;q.endFrame=0<q.pointerDistance?q.currentFrame+f((q.totalFrames-
1)*q.speedMultiplier*(l*q.pointerDistance/m.$el.width())):q.currentFrame+a((q.totalFrames-1)*q.speedMultiplier*(l*q.pointerDistance/m.$el.width()));q.disableWrap&&(q.endFrame=Math.min(q.totalFrames-(q.zeroBased?1:0),q.endFrame),q.endFrame=Math.max(q.zeroBased?0:1,q.endFrame));m.refresh();q.monitorStartTime=(new Date).getTime();q.pointerStartPosX=m.getPointerEvent(k).pageX}};m.refresh=function(){0===q.ticker&&(q.ticker=setInterval(m.render,Math.round(1E3/q.framerate)))};m.render=function(){if(q.currentFrame!==
q.endFrame){var k=q.endFrame<q.currentFrame?Math.floor(.1*(q.endFrame-q.currentFrame)):Math.ceil(.1*(q.endFrame-q.currentFrame));m.hidePreviousFrame();q.currentFrame+=k;m.showCurrentFrame();m.$el.trigger("frameIndexChanged",[m.getNormalizedCurrentFrame(),q.totalFrames])}else window.clearInterval(q.ticker),q.ticker=0};m.hidePreviousFrame=function(){t[m.getNormalizedCurrentFrame()].removeClass("current-image").addClass("previous-image")};m.showCurrentFrame=function(){t[m.getNormalizedCurrentFrame()].removeClass("previous-image").addClass("current-image")};
m.getNormalizedCurrentFrame=function(){if(q.disableWrap){var k=Math.min(q.currentFrame,q.totalFrames-(q.zeroBased?1:0));var a=Math.min(q.endFrame,q.totalFrames-(q.zeroBased?1:0));k=Math.max(k,q.zeroBased?0:1);a=Math.max(a,q.zeroBased?0:1);q.currentFrame=k;q.endFrame=a}else k=Math.ceil(q.currentFrame%q.totalFrames),0>k&&(k+=q.totalFrames-(q.zeroBased?1:0));return k};m.getCurrentFrame=function(){return q.currentFrame};m.responsive=function(){q.responsive&&m.$el.css({height:m.$el.find(".current-image").first().css("height"),
width:"100%"})};m.zeroPad=function(k){var a=Math.floor(Math.round(Math.log(q.totalFrames)/Math.LN10*1E3)/1E3)+1;k=k.toString();if(q.zeroPadding)for(;k.length<a;)k="0"+k;return k};m.browser={};m.browser.isIE=function(){var k=-1;"Microsoft Internet Explorer"===navigator.appName&&null!==/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)&&(k=parseFloat(RegExp.$1));return-1!==k};m.getConfig=function(){return q};d.ThreeSixty.defaultOptions={dragging:!1,ready:!1,pointerStartPosX:0,pointerEndPosX:0,
pointerDistance:0,monitorStartTime:0,monitorInt:10,ticker:0,speedMultiplier:7,totalFrames:180,currentFrame:0,endFrame:0,loadedImages:0,framerate:60,domains:null,domain:"",parallel:!1,queueAmount:8,idle:0,filePrefix:"",ext:"png",height:300,width:300,styles:{},navigation:!1,autoplay:!1,autoplayDirection:1,disableSpin:!1,disableWrap:!1,responsive:!1,zeroPadding:!1,zeroBased:!1,plugins:[],showCursor:!1,drag:!0,onReady:function(){},imgList:".threesixty_images",imgArray:null,playSpeed:100,dirReverse:!1};
m.init()};d.fn.ThreeSixty=function(h){return Object.create(new d.ThreeSixty(this,h))}})(m)});
define("vendor/jquery/extensions/vendor/jquery.imgloaded",["jquery"],function(m){m.event.special.load={add:function(){var d=this;1===d.nodeType&&"IMG"===d.nodeName.toUpperCase()&&""!==d.src&&(d.complete||void 0===d.complete?setTimeout(function(){var h=d.src;d.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";d.src=h},0):"uninitialized"===d.readyState&&0===d.src.indexOf("data:")&&m(d).trigger("error"))}}});
(function(m){"function"===typeof define&&define.amd?define("vendor/jquery/extensions/vendor/jquery.sticky",["jquery"],m):"object"===typeof module&&module.exports?module.exports=m(require("jquery")):m(jQuery)})(function(m){var d=Array.prototype.slice,h=Array.prototype.splice,n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"inherit"},p=m(window),q=m(document),t=[],k=p.height(),a=function(){var a=
p.scrollTop(),e=q.height(),f=e-k;f=a>f?f-a:0;for(var l=0,d=t.length;l<d;l++){var h=t[l],n=h.stickyWrapper.offset().top-h.topSpacing-f;h.stickyWrapper.css("height",h.stickyElement.outerHeight());h.stickyElement.css("height",h.stickyElement.outerHeight());if(a<=n)null!==h.currentTop&&(h.stickyElement.css({width:"",position:"",top:"","z-index":"",height:""}),h.stickyElement.parent().removeClass(h.className),h.stickyElement.trigger("sticky-end",[h]),h.currentTop=null);else{n=e-h.stickyElement.outerHeight()-
h.topSpacing-h.bottomSpacing-a-f;n=0>n?n+h.topSpacing:h.topSpacing;if(h.currentTop!==n){if(h.getWidthFrom){padding=h.stickyElement.innerWidth()-h.stickyElement.width();var I=m(h.getWidthFrom).width()-padding||null}else h.widthFromWrapper&&(I=h.stickyWrapper.width());null==I&&(I=h.stickyElement.width());h.stickyElement.css("width",I).css("position","fixed").css("top",n).css("z-index",h.zIndex);h.stickyElement.parent().addClass(h.className);null===h.currentTop?h.stickyElement.trigger("sticky-start",
[h]):h.stickyElement.trigger("sticky-update",[h]);h.currentTop===h.topSpacing&&h.currentTop>n||null===h.currentTop&&n<h.topSpacing?h.stickyElement.trigger("sticky-bottom-reached",[h]):null!==h.currentTop&&n===h.topSpacing&&h.currentTop<n&&h.stickyElement.trigger("sticky-bottom-unreached",[h]);h.currentTop=n}var H=h.stickyWrapper.parent();h.stickyElement.offset().top+h.stickyElement.outerHeight()>=H.offset().top+H.outerHeight()&&h.stickyElement.offset().top<=h.topSpacing?h.stickyElement.css("position",
"absolute").css("top","").css("bottom",0).css("z-index",""):h.stickyElement.css("position","fixed").css("top",n).css("bottom","").css("z-index",h.zIndex)}h.stickyElement.css("height","")}},f=function(){k=p.height();for(var a=0,e=t.length;a<e;a++){var f=t[a],l=null;f.getWidthFrom?f.responsiveWidth&&(l=m(f.getWidthFrom).width()):f.widthFromWrapper&&(l=f.stickyWrapper.width());null!=l&&f.stickyElement.css("width",l)}},l={init:function(a){return this.each(function(){var c=m.extend({},n,a),f=m(this),k=
f.attr("id"),d=k?k+"-"+n.wrapperClassName:n.wrapperClassName,h=m("<div></div>").attr("id",d).addClass(c.wrapperClassName);f.wrapAll(function(){if(0==m(this).parent("#"+d).length)return h});k=f.parent();c.center&&k.css({width:f.outerWidth(),marginLeft:"auto",marginRight:"auto"});"right"===f.css("float")&&f.css({"float":"none"}).parent().css({"float":"right"});c.stickyElement=f;c.stickyWrapper=k;c.currentTop=null;t.push(c);l.setWrapperHeight(this);l.setupChangeListeners(this)})},setWrapperHeight:function(a){a=
m(a);var c=a.parent();c&&c.css("height",a.outerHeight())},setupChangeListeners:function(a){window.MutationObserver?(new window.MutationObserver(function(c){(c[0].addedNodes.length||c[0].removedNodes.length)&&l.setWrapperHeight(a)})).observe(a,{subtree:!0,childList:!0}):window.addEventListener?(a.addEventListener("DOMNodeInserted",function(){l.setWrapperHeight(a)},!1),a.addEventListener("DOMNodeRemoved",function(){l.setWrapperHeight(a)},!1)):window.attachEvent&&(a.attachEvent("onDOMNodeInserted",function(){l.setWrapperHeight(a)}),
a.attachEvent("onDOMNodeRemoved",function(){l.setWrapperHeight(a)}))},update:a,unstick:function(a){return this.each(function(){for(var a=m(this),c=-1,f=t.length;0<f--;)t[f].stickyElement.get(0)===this&&(h.call(t,f,1),c=f);-1!==c&&(a.unwrap(),a.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?window.addEventListener("resize",f,!1):window.attachEvent&&window.attachEvent("onresize",f);m.fn.sticky=function(a){if(l[a])return l[a].apply(this,d.call(arguments,1));if("object"!==
typeof a&&a)m.error("Method "+a+" does not exist on jQuery.sticky");else return l.init.apply(this,arguments)};m.fn.unstick=function(a){if(l[a])return l[a].apply(this,d.call(arguments,1));if("object"!==typeof a&&a)m.error("Method "+a+" does not exist on jQuery.sticky");else return l.unstick.apply(this,arguments)};m(function(){setTimeout(a,0)})});
define("vendor/jquery/extensions/vendor/jquery.scrollIntoView",["jquery"],function(m){var d={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},h={duration:"fast",direction:"both"},n=/^(?:html)$/i,p=function(d){var k=m(window),a=n.test(d[0].nodeName);if(a)var f={top:0,left:0,bottom:0,right:0};else{var l=d[0];var c=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(l,null):l.currentStyle;var e=document.defaultView&&
document.defaultView.getComputedStyle?!0:!1;f=parseFloat(e?c.borderTopWidth:m.css(l,"borderTopWidth"))||0;var h=parseFloat(e?c.borderLeftWidth:m.css(l,"borderLeftWidth"))||0,t=parseFloat(e?c.borderBottomWidth:m.css(l,"borderBottomWidth"))||0;l=parseFloat(e?c.borderRightWidth:m.css(l,"borderRightWidth"))||0;f={top:f,left:h,bottom:t,right:l,vertical:f+t,horizontal:h+l}}k={top:(a?k:d).scrollTop(),left:(a?k:d).scrollLeft()};h={right:a?0:d.innerWidth()-d[0].clientWidth,bottom:a?0:d.innerHeight()-d[0].clientHeight};
t=d[0].getBoundingClientRect();return{border:f,scroll:k,scrollbar:h,rect:{top:a?0:t.top,left:a?0:t.left,bottom:a?d[0].clientHeight:t.bottom,right:a?d[0].clientWidth:t.right}}};m.fn.extend({scrollintoview:function(t){t=m.extend({},h,t);t.direction=d["string"===typeof t.direction&&t.direction.toLowerCase()]||d.both;var k="";!0===t.direction.x&&(k="horizontal");!0===t.direction.y&&(k=k?"both":"vertical");var a=this.eq(0),f=a.closest(":scrollable("+k+")");if(0<f.length){f=f.eq(0);var l=p(a);k=p(f);a=
l.rect.top-(k.rect.top+k.border.top);var c=k.rect.bottom-k.border.bottom-k.scrollbar.bottom-l.rect.bottom,e=l.rect.left-(k.rect.left+k.border.left);l=k.rect.right-k.border.right-k.scrollbar.right-l.rect.right;var u={};!0===t.direction.y&&(0>a?u.scrollTop=k.scroll.top+a:0<a&&0>c&&(u.scrollTop=k.scroll.top+Math.min(a,-c)));!0===t.direction.x&&(0>e?u.scrollLeft=k.scroll.left+e-20:0<e&&0>l&&(u.scrollLeft=k.scroll.left+Math.min(e,-l)+20));m.isEmptyObject(u)?m.isFunction(t.complete)&&t.complete.call(f[0]):
(n.test(f[0].nodeName)&&(f=m("html,body")),f.animate(u,t.duration).eq(0).queue(function(a){m.isFunction(t.complete)&&t.complete.call(f[0]);a()}))}return this}});var q={auto:!0,scroll:!0,visible:!1,hidden:!1};m.extend(m.expr[":"],{scrollable:function(h,k,a,f){k=d["string"===typeof a[3]&&a[3].toLowerCase()]||d.both;a=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(h,null):h.currentStyle;var l=q[a.overflowX.toLowerCase()]||!1,c=q[a.overflowY.toLowerCase()]||
!1,e=n.test(h.nodeName);if(!l&&!c&&!e)return!1;h={height:{scroll:h.scrollHeight,client:h.clientHeight},width:{scroll:h.scrollWidth,client:h.clientWidth},scrollableX:function(){return(l||e)&&this.width.scroll>this.width.client},scrollableY:function(){return(c||e)&&this.height.scroll>this.height.client}};return k.y&&h.scrollableY()||k.x&&h.scrollableX()}})});
define("jquery.extensions","jquery vendor/jquery/extensions/custom/jquery.drags vendor/jquery/extensions/custom/jquery.rotate vendor/jquery/extensions/custom/jquery.SVGclass vendor/jquery/extensions/custom/jquery.swipe vendor/jquery/extensions/custom/jquery.slick vendor/jquery/extensions/vendor/jquery.dbltap vendor/jquery/extensions/vendor/jquery.placeholder vendor/jquery/extensions/vendor/jquery.threesixty vendor/jquery/extensions/vendor/jquery.imgloaded vendor/jquery/extensions/vendor/jquery.sticky vendor/jquery/extensions/vendor/jquery.scrollIntoView".split(" "),function(m){return m});
define("popup","module jquery underscore app/configuration app/utilities/XyTools app/events lang/lang elements/popup/popup.template jquery.extensions".split(" "),function(m,d,h,n,p,q,t,k){function a(a,c){var e=d("<div />");c.contentUrl?(a.html('<div class="Spinner"></div>').attr({"aria-live":"polite","aria-busy":!0}),p.fetch(c.contentUrl,this.config.contentContainerSelector,{async:c.async,success:function(a){e.html(a)},error:function(a,f){f=f+" "+a.status+':"'+c.contentUrl+'"';"404"==a.status&&(f=
t.t("elements.xref.404.message")+' "'+c.contentUrl+'"');e.html(f).attr("aria-busy",!1);p.error("Popup load error. url: "+c.contentUrl)},complete:function(){a.html(e).attr("aria-busy",!1);c.ajaxComplete.call(null,e)},inclusive:/^true$/i.test(this.config.inclusive)})):(c.contentSelector&&(e=p.getJqueryObject(c.contentSelector)),c.content&&e.html(c.content),a.html(e))}function f(){"mediaPlayer"==this.config.owner&&this._remove()}var l={popupWrapperClass:"",popupContentClass:"",closeButtonLabel:t.t("general.close")||
"Close",moduleName:"popup",appendTo:"body",title:"",content:"",contentSelector:"",contentUrl:"",inclusive:!1,role:"dialog",returnFocusItem:null,async:!0,modal:!1,modalBlur:!1,trapFocus:!0,modalBlurClass:"modalBlur",modalBlurAppendTo:"#PageMain",draggable:!0,autoOpen:!1,closeButton:!0,closeOnEscape:!0,closeOnContentRemove:!0,closeOnOverlayClick:!1,zIndex:1E3,position:[],buttons:[],timestamp:"",hasAttachedContent:!1,detachOnClose:!0,animateClose:!0,openAnimationDuration:500,closeAnimationDuration:800,
owner:"Generic",triggerType:"",height:"",maxHeight:"",minHeight:"",width:"",maxWidth:"",minWidth:"",close:function(){},beforeClose:function(){},create:function(){},open:function(){},resize:function(){},ajaxComplete:function(){},drag:function(){},dragStart:function(){},dragStop:function(){}},c=function(a){q.trigger(l.moduleName+".init:before",this);this.originalConfig=p.copy(a);this.defaultConfig=p.copy(l);this.config=p.extend(l,n.configure(m.id),a);this.config.popupWrapperClass=this.config.popupWrapperClass+
" "+this.config.owner+"-Popup";var c=a=this.config,e="",f,k={width:"width",maxWidth:"max-width",minWidth:"min-width",height:"height",maxHeight:"max-height",minHeight:"min-height"};for(f in k)c[f]&&(e+=k[f]+": "+c[f]+";");a.computedStyle=e;this.render();q.trigger(l.moduleName+".init:after",this)};c.prototype.resize=function(){this.handlePosition(this.content.get(0).scrollWidth)};c.prototype.render=function(){var a=this.popup,c=this,f=this.handlePosition.bind(this);this.popup=a=d(h.template(k)(this.config)).hide();
this.modal=d('<div class="PopupOverlay" />');this.content=a.find(".PopupContent");this.opened=this.opened||!1;this.cursorOnPopup=!1;this.handleButtons();q.trigger("media.pause",this.content);this.config.create.call(this);!0===this.config.autoOpen&&this.open();this.config.closeOnContentRemove&&(this._remove=function(){this.close();this.destroy()}.bind(this),q.on("content.remove",this._remove));var l=this.config.ajaxComplete;this.config.ajaxComplete=function(){l.apply(null,arguments);c.handlePosition()};
d(window).on("orientationchange",f);return this};c.prototype.triggerInstanceEvent=function(a,c){if(this.config.moduleName===this.defaultConfig.moduleName||!a)return this;q.trigger(this.config.moduleName+"."+a,c);return this};c.prototype.open=function(c,l){var e=this,k=this.popup,u=k.find(".PopupTitlebar"),n=u.find(".PopupTitlebarClose"),m=a.bind(this),t=f.bind(this),p=!!d("#PageBody .Tabs #"+this.config.appendTo.id).length;this.config.returnFocusItem&&this.config.returnFocusItem.length||(this.config.returnFocusItem=
d(document.activeElement));this.config.detachOnClose&&m(this.content,this.config);!0===this.config.modal&&(this.modal.appendTo("body"),this.config.modalBlur&&d(this.config.modalBlurAppendTo).addClass(this.config.modalBlurClass));!0===this.config.modal&&d(this.config.modalBlurAppendTo).attr("inert",!0);if(!0===this.config.trapFocus)d(document).on("focus.popupFocus",function(a){k.contains(a.target)||(a.stopPropagation(),k.focus())});k.finish();p?k.appendTo("body"):k.appendTo(this.config.appendTo);this.handlePosition();
this.config.draggable&&u.drags({handle:k,zIndex:e.config.zIndex});"roll-over"===this.config.triggerType&&(k.on("mouseenter",function(a){e.cursorOnPopup=!0}),k.on("mouseleave",function(a){e.cursorOnPopup=!1;e.close(a)}));if(this.config.closeOnEscape)d(document).on("keydown."+this.config.moduleName,function(a){27===a.keyCode&&e.close(a)});if(this.config.closeOnOverlayClick)d(document).on("click."+this.config.moduleName,function(a){d(a.target).parents(".PopupWrapper").length||e.close(a)});if(n.length)n.on("click touchstart",
function(a){a.preventDefault();e.close(a)});this.triggerInstanceEvent("open",this);q.trigger(this.defaultConfig.moduleName+".open",this);this.config.hasAttachedContent||(this.triggerInstanceEvent("contentAttached",this.content,this),q.trigger(this.defaultConfig.moduleName+".contentAttached",this.content,this));q.trigger("media.resumeAutoplay",this.content);this.opened=!0;this.config.open.call(this,c);this.handlePosition();this.config.timestamp&&(k.addClass("tm-"+this.config.timestamp),this.modal.addClass("tm-"+
this.config.timestamp),this.config.isFirstConfirm||(k.hide(),this.modal.hide()));this.resizeHandler=h.debounce(this.resize.bind(this),100);window.addEventListener("resize",this.resizeHandler);window.addEventListener("orientationchange",this.resizeHandler);l&&(c=d(l,this.content),c.length&&this.popup.find(".PopupContentWrapper").animate({scrollTop:c[0].offsetTop-100}));this.resetFocus();q.on("narration.close",t);return this};c.prototype.resetFocus=function(){var a=this.popup,c=a.find(".PopupButton"),
f;c.length&&(f=c.eq(0));f&&f.length&&!f[0].disabled?f[0].focus():a.focus()};c.prototype.close=function(a){var c=this.popup;if(!this.isOpen())return this;this.config.beforeClose.call(this,a);q.trigger("media.pause",this.content);window.removeEventListener("resize",this.resizeHandler);window.removeEventListener("orientationchange",this.resizeHandler);!0===this.config.trapFocus&&d(document).off("focus.popupFocus");this.config.detachOnClose&&(this.config.animateClose?c.fadeOut(this.config.closeAnimationDuration,
function(){d(this).detach()}):c.detach());this.modal.remove();this.config.modalBlur&&d(this.config.modalBlurAppendTo).removeClass(this.config.modalBlurClass);!0===this.config.modal&&d(this.config.modalBlurAppendTo).attr("inert",null);"roll-over"!==this.config.triggerType&&(this.config.returnFocusItem=this.config.returnFocusItem instanceof d?this.config.returnFocusItem:d(this.config.returnFocusItem),""===this.config.returnFocusItem.attr("tabindex")&&this.config.returnFocusItem.attr("tabindex",-1),
this.config.returnFocusItem.focus());d(document).off("keydown."+this.config.moduleName);d(document).off("click."+this.config.moduleName);c.off("mouseenter");c.off("mouseleave");q.trigger(this.defaultConfig.moduleName+".close",this);this.triggerInstanceEvent("close",this);this.opened=!1;this.config.close.call(this,a);return this};c.prototype.toggle=function(){this.isOpen()?this.close():this.open()};c.prototype.option=function(a,c){var e={};"object"===typeof a?e=a:"string"===typeof a&&(e[a]=c);this.config=
p.extend(this.config,e);if(e.hasOwnProperty("buttons")&&e.buttons instanceof Array){var f=this.popup.find(".PopupButtons").find(".PopupButton").off("click.popup").end().empty();e.buttons.forEach(function(a){d('<button alt="'+a.text+'" title="'+a.text+'" class="PopupButton '+a.buttonClass+'">'+a.text+"</button>").appendTo(f)});this.handleButtons()}e.hasOwnProperty("title")&&(this.popup.find(".PopupTitlebarTitle").text(e.title),this.popup.attr("title",e.title));!this.popup.find(".PopupTitlebarClose").length&&
e.closeButton&&this.popup.children(".PopupTitlebar").append('<a href="#" class=".PopupTitlebarClose"></a>');a=Object.keys(e).reduce(function(a,c){/width|height/ig.test(c)&&(a[c]=e[c]);return a},{});Object.keys(a).length&&this.popup.css(a);return this};c.prototype.handlePosition=function(a){var c=document.documentElement,e=document.body,f=c&&c.scrollLeft||e&&e.scrollLeft||0;c=c&&c.scrollTop||e&&e.scrollTop||0;e=this.popup;var l=d(window).width(),k=d(window).height();var h=this.popup.find(".PopupButtons .PopupButton").length?
this.popup.find(".PopupButtonsWrapper").outerHeight(!0):0;var n=this.popup.find(".PopupContentWrapper");this.config.height&&"auto"!==this.config.height?this.content.height()>this.popup.height()&&!this.config.height&&this.popup.css("height","inherit"):n.offset().top+this.content.outerHeight()+h>d(window).height()?(this.popup.css("height",m),n.css("height",this.popup.height()-h+"px")):(this.popup.css("height","auto"),n.css("height","100%"));var m=e.outerHeight();h=a||e.width();this.config.position.length?
(c=this.config.position[0],f=this.config.position[1]):(c=k/2+c-m/2,f=l/2+f-h/2);f+h>l&&(f=l-h-10);c+m>k&&(c=k-m-10);e.css({top:c,left:f}).fadeIn(this.config.openAnimationDuration);this.handlePositionOnImageVideoLoad(a)};c.prototype.handlePositionOnImageVideoLoad=function(a){var c=this,e=this.content.find("img"),f=this.content.find("video"),l=0,k=0;var h=e.filter(function(a,c){return!c.complete});var n=f.filter(function(a,c){return c.readyState===HTMLMediaElement.HAVE_NOTHING});if(h.length||n.length)[].forEach.call(n,
function(e){e.addEventListener("loadeddata",function(){++l===n.length&&(c.handlePosition(a),d(window).trigger("resize"))})}),[].forEach.call(h,function(e){e.addEventListener("load",function(){++k===h.length&&c.handlePosition(a)})})};c.prototype.handleButtons=function(){var a=this;this.popup.find(".PopupButton").each(function(c){if(a.config.buttons&&a.config.buttons[c]&&"function"===typeof a.config.buttons[c].click)d(this).on("click.popup",a.config.buttons[c].click.bind(a))})};c.prototype.isOpen=function(){return this.opened};
c.prototype.destroy=function(){this.popup.find(".PopupButton").off("click.popup");this.modal.remove();this.popup.remove();d(document).off("keydown."+this.config.moduleName);q.off("content.remove",this._remove)};q.trigger(l.moduleName+".loaded",!0,c);return c});
define("skin/components/narration/narration","module jquery skin/components/component/component app/events popup app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t){var k={name:"narration",id:m.id,displayName:"Narration",linkSelector:".NarrationLink",linkAction:"openPopup",contentSelector:".NarrationContent",popupModuleName:"narrationPopup",enabled:!1,startVisible:!1,height:"auto",width:"auto",minWidth:"30%",title:t.t("components.narration.title")||"Narration",modal:!1,draggable:!0,
closeOnEscape:!0,hotkeyCombination:"CTRL+ALT+J",renderAfter:"renderAfter",elementsSelector:".AVscript"};m=function(a){h.call(this,k,a)};m.prototype=Object.create(h.prototype);m.constructor=m;m.config=k;m.prototype.renderAfter=function(){var a=this;this.hideContent();this.initPopup();n.on("content.loaded",function(){a.collectAVElements();a.initPopup()});n.on("narration.showAVScript",this.showAVScript.bind(this))};m.prototype.showAVScript=function(a){this.popup.content.find(this.config.elementsSelector).hide();
this.popup.content.find(a).show();this.popup.open()};m.prototype.revealPopupContents=function(){this.popup.content.find(this.config.elementsSelector).show()};m.prototype.hideContent=function(){this.popup&&!this.popup.isOpen()&&this.$content.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass)};m.prototype.initPopup=function(){n.trigger("Narration.initPopup:before",this);this.popup=new p({width:this.config.width,minWidth:this.config.minWidth,height:this.config.height,content:this.$content,
title:this.config.title,modal:this.config.modal,draggable:this.config.draggable,closeOnEscape:this.config.closeOnEscape,moduleName:this.config.popupModuleName,animateClose:!1,popupWrapperClass:"NarrationPopup",close:this.revealPopupContents.bind(this)});n.trigger("Narration.initPopup:after",this)};m.prototype.collectAVElements=function(){n.trigger("Narration.collectAVElements:before",this);this.$content.empty();var a=d(this.config.contentContainerSelector+" "+this.config.elementsSelector);this.$content.html(a.clone());
0<a.length?this.restore():this.remove();n.trigger("Narration.collectAVElements:after",this)};m.prototype.updatePopup=function(){this.popup.option("content",this.$content);this.popup.content.html(this.$content)};m.prototype.openPopup=function(a){this.collectAVElements();this.config.enabled&&(this.updatePopup(),this.$content.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass),this.popup.open(null,a))};m.prototype.close=function(){this.popup.close()};n.trigger("narration.loaded",
!0,m);return m});
define("skin/regions/header/header",["module","app/utilities/XyTools","skin/regions/region/region","skin/components/narration/narration","app/events"],function(m,d,h,n,p){var q=new h;q.config=d.extend(q.config,{name:"header",id:m.id,displayName:"Header",regionSelector:"#PageHeader",role:"banner",regionButtonSelector:"",headerContentWrapperSelector:".ContentWrapper",headerTitleSelector:".Title",expandTitleOnClick:!0,expandedClass:"Expanded",componentLinkDisplay:{text:!0,icon:!1},components:{},componentLinksWrapperSelector:"#PageHeader",
clickHandlerNS:"HeaderRegionLink"});q.setupTitleExpansion=function(d){q.$wrapper.height();p.trigger("header.setupTitleExpansion:before",q);if(q.config.expandTitleOnClick){q.$contentWrapper=q.$wrapper.find(q.config.headerContentWrapperSelector);q.$title=q.$wrapper.find(q.config.headerTitleSelector);q.$title.css({cursor:"pointer"});var k=function(a){a.target!==q.$title[0]&&(q.$wrapper.removeClass(q.config.expandedClass),$(document).off(".headerExpansion"))};q.$title.on("click touchend",function(){q.$wrapper.hasClass(q.config.expandedClass)||
(q.$wrapper.addClass(q.config.expandedClass),$(document).on("mousedown.headerExpansion touchstart.headerExpansion",k))})}p.trigger("header.setupTitleExpansion:after",q)};p.on("header.render:after",q.setupTitleExpansion);p.trigger("header.loaded",!0,q);return q});
define("skin/regions/sidebarLeft/sidebarLeft",["module","app/utilities/XyTools","skin/regions/region/region","app/events"],function(m,d,h,n){h=new h;h.config=d.extend(h.config,{name:"sidebarLeft",id:m.id,displayName:"Sidebar Left",regionSelector:".SidebarLeft",role:"complementary",regionButtonSelector:"",componentLinkDisplay:{text:!1,icon:!0},clickHandlerNS:"SidebarLeftRegionLink",zIndex:""});n.trigger("sidebarLeft.loaded",!0,h);return h});
define("skin/regions/innerHeader/innerHeader",["module","app/utilities/XyTools","skin/regions/region/region","app/events"],function(m,d,h,n){h=new h;h.config=d.extend(h.config,{name:"innerHeader",id:m.id,displayName:"Inner Header",regionSelector:".InnerHeader",role:"complementary",regionButtonSelector:"",clickHandlerNS:"InnerHeader"});n.trigger("innerHeader.loaded",!0,h);return h});
define("skin/regions/menu/menu","module jquery underscore app/utilities/XyTools skin/regions/region/region app/events".split(" "),function(m,d,h,n,p,q){var t=new p;t.config=n.extend(t.config,{name:"menu",id:m.id,displayName:"Menu",regionSelector:"#MainMenuWrapper",role:"navigation",regionButtonSelector:["#MainMenuIcon","#InsideMenuIcon"],componentLinkDisplay:{text:!0,icon:!0},clickHandlerNS:"XylemeMenuIcon",startVisible:!1,zIndex:102,enabled:!1,resizeComponentLinks:!0,numberOfVisibleComponents:2,
dropDownIconWidth:10,dropDownIconSelector:".DropDownIcon",dropDownWrapperClass:"MenuComponentLinkExtensions",dropDownIconElement:"div",hideOnContentLoad:!0,adaptToLanguageDirection:!0,areaBeforeSelector:".Before",areaTopSelector:".Top",areaMiddleSelector:".Middle",areaBottomSelector:".Bottom",areaAfterSelector:".After",audioSelector:"audio, .mejs-audio",openFromClass:"FromLeft",hotkeyCombination:"ALT+M",renderAfter:"renderAfter",renderBefore:"renderBefore"});t.initAfter=function(){var k=t.$links.eq(0).attr("title");
k&&t.$links.each(function(){d(this).attr("title",k)})};t.renderAfter=function(){this.$areas={$before:this.$wrapper.find(this.config.areaBeforeSelector),$top:this.$wrapper.find(this.config.areaTopSelector),$middle:this.$wrapper.find(this.config.areaMiddleSelector),$bottom:this.$wrapper.find(this.config.areaBottomSelector),$after:this.$wrapper.find(this.config.areaAfterSelector)};this.audio=this.$areas.$bottom.find(this.config.audioSelector);d(window).on("resize",h.debounce(this.resize.bind(this),200));
q.on(this.config.name+".initialized",this.initAfter)};t.addAnimationClass=function(){var k=this.config.openFromClass,a=n.getLanguageDirection();this.config.adaptToLanguageDirection&&"rtl"===a&&"FromLeft"===k&&(k="FromRight");n.getJqueryObject(this.config.regionSelector).addClass(k)};t.resize=function(){this.resizeSubAreas();this.resizeComponentLinks();setTimeout(function(){this.audio.trigger("media.resize")}.bind(this),300);q.trigger("menu.resize:after",this)};t.resizeSubAreas=function(){var k={before:this.$areas.$before.outerHeight(),
top:this.$areas.$top.outerHeight(),middle:this.$areas.$middle.outerHeight(),bottom:this.$areas.$bottom.outerHeight(),after:this.$areas.$after.outerHeight()},a=this.$wrapper.height(),f=Object.keys(k).map(function(a){return k[a]}).reduce(function(a,c){return a+c},0);this.$areas.$bottom.height(a-f+k.bottom)};t.resizeComponentLinks=function(){if(this.config.resizeComponentLinks){var k=this.$components.filter(".Visible");var a=k.length;d("."+t.config.dropDownWrapperClass).children().unwrap();d(t.config.dropDownIconSelector).children().unwrap();
1===a?k.width("100%"):a<=this.config.numberOfVisibleComponents?k.width(Math.floor(100/a)+"%"):(k.slice(0,this.config.numberOfVisibleComponents).width(Math.floor(100/this.config.numberOfVisibleComponents-+this.config.dropDownIconWidth/this.config.numberOfVisibleComponents)+"%"),k.slice(this.config.numberOfVisibleComponents).width("inherit").wrapAll("<"+this.config.dropDownIconElement+' class="'+this.config.dropDownIconSelector.replace(".","")+'" tabindex="0" role="menu" ><div class="'+this.config.dropDownWrapperClass+
'" >'),this.$wrapper.find(t.config.dropDownIconSelector).width(t.config.dropDownIconWidth+"%"))}};t.show=function(){var k=this;setTimeout(function(){k.resize()},50);this.addAnimationClass();p.prototype.show.call(this);this.$components.filter(".Active").length||this.$components.filter(".NavigationTreeLink").trigger("click");q.trigger("menu.open:after",this)};t.resetMenu=function(){"undefined"!==typeof SCORM_TYPE&&"non-scorm-player"!==SCORM_TYPE&&this.initialized&&(this.$wrapper?(window.setTimeout(this.resizeComponentLinks.bind(this),
0),this.enable()):window.setTimeout(this.resetMenu,100))};t.disableMenu=function(){"undefined"!==typeof SCORM_TYPE&&"non-scorm-player"!==SCORM_TYPE&&this.$wrapper&&(this.disable(),this.isOpen=!1)};q.on("content.loaded",function(){t.resetMenu()});q.on("content.remove",function(){t.disableMenu()});q.trigger("menu.loaded",!0,t);return t});define("babel",{});define("es6",{load:function(m){throw Error("Dynamic load not allowed: "+m);}});
define("app/utilities/promiseA",["module"],function(m){function d(){}function h(a,e){return function(){a.apply(e,arguments)}}function n(a,e){for(;3===a._state;)a=a._value;0===a._state?a._deferreds.push(e):(a._handled=!0,l._immediateFn(function(){var c=1===a._state?e.onFulfilled:e.onRejected;if(null===c)(1===a._state?p:q)(e.promise,a._value);else{try{var f=c(a._value)}catch(B){q(e.promise,B);return}p(e.promise,f)}}))}function p(c,e){try{if(e===c)throw new TypeError("A promise cannot be resolved with itself.");
if(e&&("object"===typeof e||"function"===typeof e)){var f=e.then;if(e instanceof l){c._state=3;c._value=e;t(c);return}if("function"===typeof f){a(h(f,e),c);return}}c._state=1;c._value=e;t(c)}catch(z){q(c,z)}}function q(a,e){a._state=2;a._value=e;t(a)}function t(a){2===a._state&&0===a._deferreds.length&&l._immediateFn(function(){a._handled||l._unhandledRejectionFn(a._value)});for(var c=0,f=a._deferreds.length;c<f;c++)n(a,a._deferreds[c]);a._deferreds=null}function k(a,e,f){this.onFulfilled="function"===
typeof a?a:null;this.onRejected="function"===typeof e?e:null;this.promise=f}function a(a,e){var c=!1;try{a(function(a){c||(c=!0,p(e,a))},function(a){c||(c=!0,q(e,a))})}catch(z){c||(c=!0,q(e,z))}}var f=setTimeout,l=function(c){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!==typeof c)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];a(c,this)};l.prototype["catch"]=function(a){return this.then(null,
a)};l.prototype.then=function(a,e){var c=new this.constructor(d);n(this,new k(a,e,c));return c};l.prototype["finally"]=function(a){var c=this.constructor;return this.then(function(e){return c.resolve(a()).then(function(){return e})},function(e){return c.resolve(a()).then(function(){return c.reject(e)})})};l.all=function(a){return new l(function(c,f){function e(a,d){try{if(d&&("object"===typeof d||"function"===typeof d)){var h=d.then;if("function"===typeof h){h.call(d,function(c){e(a,c)},f);return}}l[a]=
d;0===--k&&c(l)}catch(D){f(D)}}if(!a||"undefined"===typeof a.length)throw new TypeError("Promise.all accepts an array");var l=Array.prototype.slice.call(a);if(0===l.length)return c([]);for(var k=l.length,d=0;d<l.length;d++)e(d,l[d])})};l.resolve=function(a){return a&&"object"===typeof a&&a.constructor===l?a:new l(function(c){c(a)})};l.reject=function(a){return new l(function(c,f){f(a)})};l.race=function(a){return new Promise(function(c,f){for(var e=0,l=a.length;e<l;e++)a[e].then(c,f)})};l._immediateFn=
"function"===typeof setImmediate&&function(a){setImmediate(a)}||function(a){f(a,0)};l._unhandledRejectionFn=function(a){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};window.Promise||(window.Promise=l);return l});
define("es6!app/utilities/promiseUtils",["module","app/utilities/promiseA"],function(m,d){return{waitAndExecute:function(h){var n=this,m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},q=void 0,t=void 0,k=new d(function(a,f){t=f;q=setTimeout(a,h)});d.all([m,k]).then(function(a){return a[0]&&"function"===typeof a[0]&&a[0]()},function(){return d.reject("Error in waitAndExecute")}).cancel=function(){if(!q)return n;clearTimeout(q);q=null;t(Error("Delay canceled"))}}}});
define("es6!app/utilities/animate.es6",["jquery","app/events","app/configuration","app/utilities/promiseA","es6!app/utilities/promiseUtils"],function(m,d,h,n,p){function q(a,f){m(a).data("animation-data",f)}function t(a){var f=m(a).data("animation-data");a.classList.remove(f.className,f.activeClassName);a.style.animationDuration="";clearTimeout(f.timeout);m(a).data("animation-data",!1)}var k=p.waitAndExecute;h=function(a){var f=m(a.element)[0],l=a.name,c=a.timeout,e=a.fillMode||"both",d=a.callback,
h=a.beforeActiveCallback||function(){},p=a.afterAnimateCallback||function(){};f&&f instanceof HTMLElement||tools.error(Error("Valid HTML element should be provided"));if(c){m(f).data("animation-data")&&t(f);var G=a.className||l;var x=a.activeClassName||G+"-active";n.resolve().then(function(){return k(0,function(){f.style.animationDuration=c+"ms";f.style.animationFillMode=e;f.classList.add(x);return f})}).then(function(){return k(0,function(){h();f.classList.add(G);return f})}).then(function(){return k(c,
function(){p();t(f);"function"===typeof d&&d()})});q(f,{className:G,activeClassName:x,timeout:void 0,callback:d})}else tools.error(Error("Timeout should be provided"))};d.trigger("animation.loaded",!0,h);return h});define("app/utilities/animate",["es6!app/utilities/animate.es6"],function(m){return m});
define("app/courseApi",["app/events","app/utilities/XyTools","player","lang/lang"],function(m,d,h,n){var p=function(){};p.prototype=d.extend(p.prototype,{isCDSDeploy:function(){return h.isCDSDeploy()},resolveCDSDeployState:function(){h.isCDSDeploy()?(window.Xyleme.environment.IS_DEPLOY=!0,document.getElementsByTagName("body")[0].setAttribute("data-deploy",!0)):(window.Xyleme.environment.IS_DEPLOY=!1,document.getElementsByTagName("body")[0].setAttribute("data-deploy",!1))}(),getRoot:function(d){return h.getRootActivity(d)},
getCurrentActivity:function(d){return h.getCurrentActivity(d)},getParentActivity:function(d,n){return h.getParentActivity(d,n)},getActivityById:function(d,n){return h.getActivityBy("id",d,n)},getCourseName:function(){return this.getRoot("name")},getCoursePagesCount:function(){return h.getCoursePagesCount()||0},getPageIndexInCourse:function(d){return h.getPageIndexInCourse(d)},getActivityId:function(d){return d?h.getActivityBy("guid",d,"id",0):this.getCurrentActivity("id")},getMenuItems:function(){var d=
h.getMenuItems();return null!=d?(d.forEach(function(d){"CheckPoint Questions"===d.title&&(d.title=n.t("sections.checkPointQuestions.title"));"CheckPoint Question"===d.title&&(d.title=n.t("sections.checkPointQuestion.title"));"SCORECARD"===d.title&&(d.title=n.t("sections.scoreCard.title"))}),d.splice(1)):null},getPrecedingLinkedPagesCount:function(d){return h.getPrecedingLinkedPagesCount(d)},checkPageExistence:function(d){return h.checkPageExistence(d)},isPageAvailable:function(d){var h=this.getMenuItems().filter(function(k){return d===
k.id});return 0===h.length?!1:h[0].enabled&&!h[0].hidden},processScorecard:function(d,m){var k=m?m:this.getParentActivity("id"),a=h.getActivityBy("id",k,"guid"),f=function(a){a&&a.pages&&a.pages.forEach(function(a){"CheckPoint Questions"===a.title&&(a.title=n.t("sections.checkPointQuestions.title"));"CheckPoint Question"===a.title&&(a.title=n.t("sections.checkPointQuestion.title"));"SCORECARD"===a.title&&(a.title=n.t("sections.scoreCard.title"))});a&&a.containers&&a.containers.forEach(f)};m=null;
a&&h.cache["processScorecard:"+a]&&!d||(m=h.processScorecardContainer(k),a&&m&&(h.cache["processScorecard:"+a]=m));d=(d=a?h.cache["processScorecard:"+a]:null)?d:m?m:{};f(d);return d},getSectionStatusData:function(d){return h.getSectionStatusData(d)},hasUnansweredQuestions:function(){return h.hasUnansweredQuestions()},hasAttemptedQuestions:function(){return h.hasAttemptedQuestions()},getNextPage:function(){return h.getNextPage()},getPreviousPage:function(){return h.getPreviousPage()},getFollowingPageId:function(){return h.getFollowingPageId()},
getPrecedingPageId:function(){return h.getPrecedingPageId()},isScorecard:function(d){d||(d=this.getCurrentActivity("id"));return h.isScorecard(d)},isSubmitAllMode:function(d){return h.isSubmitAllMode(d)},isAssessment:function(d){return h.isAssessment(d)},isAnyAssessment:function(d){return h.isAnyAssessment(d)},hasSubassessments:function(){return h.hasSubassessments()},saveSubmitAllStatus:function(d){h.saveSubmitAllStatus(d)},isSubmitAllStatusSaved:function(){return h.isSubmitAllStatusSaved()},findScorecard:function(){return h.findScorecard()},
getCurrentTime:function(){return h.getCurrentTime()},hasQuestions:function(){return h.hasQuestions()},getCurrentPageNumberInContainer:function(){return h.getCurrentPageNumberInContainer()},getContainerPagesCount:function(){return h.getContainerPagesCount()},isSibling:function(d){return h.isSibling(d)},getBookmarkType:function(){return h.getBookmarkType()},wasRandomizationApplied:function(d){return h.wasRandomizationApplied(d)},comesAfterCurrent:function(d){return h.comesAfterCurrent(d)},getInteractionsData:function(d){return h.getInteractionsData(d)},
getExitMessage:function(d){return h.getExitMessage(d)},getExitConfirmation:function(d,n){return h.getExitConfirmation(d,n)},storeAdditionalData:function(d,n){var k=h.retrieveAdditionalData()||"{}";k=JSON.parse(k);null!=n&&""!==n?k[d]=n:delete k[d];h.storeAdditionalData(JSON.stringify(k))},retrieveAdditionalData:function(d){var n=h.retrieveAdditionalData()||"{}";n=JSON.parse(n);return n[d]}});d=new p;window.courseApi=d;m.trigger("courseApi.loaded",!0,d);return d});
define("app/utilities/prefetch","underscore app/utilities/ajax app/events app/configuration app/courseApi module".split(" "),function(m,d,h,n,p,q){n=new function(){this.config={parallelRequestCount:2,prefetchAmount:2,debounceTime:500};this.prefetchPages=m.debounce(function(h){function k(f){e+=1;c+=1;f="Javascript"===window.PLAYER_TYPE?f+".html":f;d.load({url:f,success:a,error:a})}function a(){--c;c<f.config.parallelRequestCount&&e<u.length&&k(u[e].href)}var f=this;h=p.getActivityId(h.split("?")[0].match(new RegExp("("+
window.Xyleme.environment.GUID_REGEX.source+")(/?|.html?)$"))[1]);var l=p.getMenuItems(),c=0,e=0,u=[];u=this.determineSubsequentPages(h,this.config.prefetchAmount,l);for(l=0;l<this.config.parallelRequestCount;l+=1)(h=u[e])&&k(h.href)},this.config.debounceTime);this.determineSubsequentPages=function(d,k,a){var f=null,l=[],c;k?"Object"==typeof k&&(a=k,k=this.config.prefetchAmount):(k=this.config.prefetchAmount,a=p.getMenuItems());a=a.filter(function(a){return a.isLeaf});var e=a.length-1;for(c=0;c<e;c+=
1)if(a[c].id===d){f=c;break}null!=f&&(l=a.slice(f+1,f+1+k));return l}};h.trigger("prefetch.loaded",!0,n);return n});
define("app/player/dataHandler",["module","jquery","app/configuration","app/events","app/utilities/XyTools"],function(m,d,h,n,p){var q;var t=function(){this.config={useFailedStatus:!0,sendSuccessStatus:"always"};this.initialized=!1;this.successStatus=this.completionStatus=this.score=this.suspendData=this.bookmark="";this.interactions=[];this.startTime=null;this.noLMS=!1;this.userName=this.userId="";this.scrollPosition=null};t.prototype.init=function(){var a="";this.config=d.extend(this.config,h.configure(m.id));
"undefined"===typeof IS_AICC&&"undefined"===typeof SCORM_TYPE||"non-scorm-player"===SCORM_TYPE?n.trigger("externaldata.recieved",!0,k):(0<=SCORM_TYPE.indexOf("2004")&&(this.config.useFailedStatus=!0,this.config.sendSuccessStatus="always"),IS_AICC?a="app/player/aiccAPIWrapper":0<=SCORM_TYPE.indexOf("1.2")?a="app/player/scorm12APIWrapper":0<=SCORM_TYPE.indexOf("2004")&&(a="app/player/scorm2004APIWrapper"),window.Xyleme.environment.IS_DEPLOY?(require([a],function(a){q=a;q&&q.isProxySco()?"true"===q.ProxyScoLMSInitialize()&&
(k.initialized=!0,k.suspendData=q.getSuspendData(),k.bookmark=q.getBookmark(),k.userId=q.getLearnerId(),k.userName=q.getLearnerName()):(p.log("Failed to find external SCORM API"),k.noLMS=!0);n.trigger("externaldata.recieved",!0,k)}),this.startTime=performance.now()):(sessionStorage&&(this.initialized=!0,"true"===sessionStorage.getItem("xyNewSession")&&sessionStorage.getItem("xyUrl")===window.location.pathname&&(this.suspendData=sessionStorage.getItem("xySuspendData"),this.bookmark=sessionStorage.getItem("xyBookmark"),
sessionStorage.removeItem("xyNewSession"),sessionStorage.removeItem("xySuspendData"),sessionStorage.removeItem("xyBookmark"),sessionStorage.removeItem("xyUrl"),/Retake|Review/.test(this.bookmark)&&(this.bookmark=this.bookmark.substring(0,this.bookmark.indexOf("_"))))),n.trigger("externaldata.recieved",!0,k)))};t.prototype.saveDataToLMS=function(a){var f=!0,l=0<=SCORM_TYPE.indexOf("2004");if(window.Xyleme.environment.IS_DEPLOY&&"undefined"!==typeof q){""!==a.completionStatus&&(a.completionStatus?q.setCompletionStatus("completed"):
q.setCompletionStatus("incomplete"));q.setSuspendData(a.suspendData);q.setCmiExitMode(a.cmiExitMode);q.setBookmark(a.bookmark);"number"===typeof a.score&&q.setScore(a.score);"forCredit"===this.config.sendSuccessStatus?f=q.getCredit():"noMasteryScore"===this.config.sendSuccessStatus?f=""===q.getMasteryScore():"never"===this.config.sendSuccessStatus&&(f=!1);if(l&&"number"===typeof a.score||a.completionStatus&&""!==a.successStatus&&f)a.successStatus?q.setSuccessStatus("passed"):this.config.useFailedStatus&&
q.setSuccessStatus("failed");q.setTime(performance.now()-this.startTime);q.setInteractions(this.interactions.filter(function(a){return!a.hadAnswer}));q.ProxyScoLMSCommit()}};t.prototype.saveData=function(a){window.Xyleme.environment.IS_DEPLOY&&"undefined"!==typeof q?(this.saveDataToLMS(a),q.ProxyScoLMSFinish()):sessionStorage&&/^true$/i.test(sessionStorage.getItem("xyNewSession"))&&(sessionStorage.setItem("xySuspendData",a.suspendData),sessionStorage.setItem("xyBookmark",a.bookmark),sessionStorage.setItem("xyUrl",
window.location.pathname))};t.prototype.saveSuspendData=function(a){window.Xyleme.environment.IS_DEPLOY&&"undefined"!==typeof q&&(q.setSuspendData(a.suspendData),q.setCmiExitMode(a.cmiExitMode),q.setBookmark(a.bookmark),q.setCompletionStatus("incomplete"),q.ProxyScoLMSCommit())};t.prototype.addInteraction=function(a){var f=!1;this.interactions.forEach(function(l,c,e){l.reportId===a.reportId&&(a.hadAnswer=l.hadAnswer,e[c]=a,f=!0)});f||(p.log("Interaction added: "+JSON.stringify(a)),this.interactions.push(a))};
var k=new t;n.trigger("player.dataHandler:loaded",!0,k);return k});
define("app/player/integration","module jquery app/configuration app/events app/utilities/XyTools app/player/dataHandler player".split(" "),function(m,d,h,n,p,q,t){p=function(){this.config={levelsUpCountToBroadcast:3}};p.prototype.init=function(){this.config=d.extend(this.config,h.configure(m.id));this.courseLoaded=!1;n.on("navigation.section:changed",function(a,f){for(var l=0,c=window.parent,e=window;l<k.config.levelsUpCountToBroadcast;)if(l++,c!==e)c.postMessage({page:a,section:f,typeMessage:"navigation",
playerType:PLAYER_TYPE},"*"),e=c,c=c.parent;else break});q.init();n.on("externaldata.recieved",function(a){var f;try{if(f=k.determineCustomInitialDestination())a.bookmark=f,a.isHashBookmark=!0,a.scrollPosition=window.location.hash.replace("#","");t.initialize()}catch(l){n.trigger("player.start:failed",l)}if(a.initialized)n.on("course.unload",function(){n.trigger("course.unload:before");n.trigger("content.remove");n.trigger("player.unload:before");t.unload()})})};p.prototype.requestNext=function(){t.next()};
p.prototype.requestPrevious=function(){t.previous()};p.prototype.requestChoose=function(a){t.choose(a)};p.prototype.exitContainer=function(a){t.exitContainer(a)};p.prototype.retake=function(a){t.retake(a);n.trigger("player.retake:triggered",a)};p.prototype.resetChoiceBranch=function(){t.resetChoiceBranch();n.trigger("player.resetChoiceBranch:triggered")};p.prototype.determineCustomInitialDestination=function(){var a=this.getUrlQuery("destination");return a?a=Array.isArray(a)?a[0].replace(/-/g,"."):
a.replace(/-/g,"."):!1};p.prototype.getUrlQuery=function(a){var f=window.location.search.substring(1).split("&"),l;var c=0;for(l=f.length;c<l;c+=1){var e=f[c].split("=");if(e[0]===a)return e[1]}return!1};var k=new p;n.trigger("player.integration:loaded",!0,k);return k});
(function(m){var d="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"===typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(h,n,t){d.Backbone=m(d,t,h,n)});else if("undefined"!==typeof exports){var h=require("underscore");try{var n=require("jquery")}catch(p){}m(d,exports,h,n)}else d.Backbone=m(d,{},d._,d.jQuery||d.Zepto||d.ender||d.$)})(function(m,d,h,n){var p=m.Backbone,q=Array.prototype.slice;d.VERSION=
"1.2.3";d.$=n;d.noConflict=function(){m.Backbone=p;return this};d.emulateHTTP=!1;d.emulateJSON=!1;var t=function(c,e,f){switch(c){case 1:return function(){return h[e](this[f])};case 2:return function(a){return h[e](this[f],a)};case 3:return function(c,l){return h[e](this[f],a(c,this),l)};case 4:return function(c,l,d){return h[e](this[f],a(c,this),l,d)};default:return function(){var a=q.call(arguments);a.unshift(this[f]);return h[e].apply(h,a)}}},k=function(a,c,e){h.each(c,function(c,f){h[f]&&(a.prototype[f]=
t(c,f,e))})},a=function(a,c){return h.isFunction(a)?a:h.isObject(a)&&!c._isModel(a)?f(a):h.isString(a)?function(c){return c.get(a)}:a},f=function(a){var c=h.matches(a);return function(a){return c(a.attributes)}};n=d.Events={};var l=/\s+/,c=function(a,e,f,d,k){var u=0,n;if(f&&"object"===typeof f)for(void 0!==d&&("context"in k)&&void 0===k.context&&(k.context=d),n=h.keys(f);u<n.length;u++)e=c(a,e,n[u],f[n[u]],k);else if(f&&l.test(f))for(n=f.split(l);u<n.length;u++)e=a(e,n[u],d,k);else e=a(e,f,d,k);
return e};n.on=function(a,c,f){return e(this,a,c,f)};var e=function(a,e,f,l,d){a._events=c(u,a._events||{},e,f,{context:l,ctx:a,listening:d});d&&((a._listeners||(a._listeners={}))[d.id]=d);return a};n.listenTo=function(a,c,f){if(!a)return this;var l=a._listenId||(a._listenId=h.uniqueId("l")),d=this._listeningTo||(this._listeningTo={}),k=d[l];k||(k=this._listenId||(this._listenId=h.uniqueId("l")),k=d[l]={obj:a,objId:l,id:k,listeningTo:d,count:0});e(a,c,f,this,k);return this};var u=function(a,c,e,f){if(e){c=
a[c]||(a[c]=[]);var l=f.context,d=f.ctx;(f=f.listening)&&f.count++;c.push({callback:e,context:l,ctx:l||d,listening:f})}return a};n.off=function(a,e,f){if(!this._events)return this;this._events=c(z,this._events,a,e,{context:f,listeners:this._listeners});return this};n.stopListening=function(a,c,e){var f=this._listeningTo;if(!f)return this;a=a?[a._listenId]:h.keys(f);for(var l=0;l<a.length;l++){var d=f[a[l]];if(!d)break;d.obj.off(c,e,this)}h.isEmpty(f)&&(this._listeningTo=void 0);return this};var z=
function(a,c,e,f){if(a){var l=0,d=f.context;f=f.listeners;if(c||e||d){for(var k=c?[c]:h.keys(a);l<k.length;l++){c=k[l];var u=a[c];if(!u)break;for(var n=[],m=0;m<u.length;m++){var t=u[m];e&&e!==t.callback&&e!==t.callback._callback||d&&d!==t.context?n.push(t):(t=t.listening)&&0===--t.count&&(delete f[t.id],delete t.listeningTo[t.objId])}n.length?a[c]=n:delete a[c]}if(h.size(a))return a}else for(a=h.keys(f);l<a.length;l++)t=f[a[l]],delete f[t.id],delete t.listeningTo[t.objId]}};n.once=function(a,e,f){a=
c(B,{},a,e,h.bind(this.off,this));return this.on(a,void 0,f)};n.listenToOnce=function(a,e,f){e=c(B,{},e,f,h.bind(this.stopListening,this,a));return this.listenTo(a,e)};var B=function(a,c,e,f){if(e){var l=a[c]=h.once(function(){f(c,l);e.apply(this,arguments)});l._callback=e}return a};n.trigger=function(a){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),f=Array(e),l=0;l<e;l++)f[l]=arguments[l+1];c(G,this._events,a,void 0,f);return this};var G=function(a,c,e,f){if(a){e=a[c];var l=
a.all;e&&l&&(l=l.slice());e&&x(e,f);l&&x(l,[c].concat(f))}return a},x=function(a,c){var e,f=-1,l=a.length,d=c[0],k=c[1],h=c[2];switch(c.length){case 0:for(;++f<l;)(e=a[f]).callback.call(e.ctx);break;case 1:for(;++f<l;)(e=a[f]).callback.call(e.ctx,d);break;case 2:for(;++f<l;)(e=a[f]).callback.call(e.ctx,d,k);break;case 3:for(;++f<l;)(e=a[f]).callback.call(e.ctx,d,k,h);break;default:for(;++f<l;)(e=a[f]).callback.apply(e.ctx,c)}};n.bind=n.on;n.unbind=n.off;h.extend(d,n);var I=d.Model=function(a,c){var e=
a||{};c||(c={});this.cid=h.uniqueId(this.cidPrefix);this.attributes={};c.collection&&(this.collection=c.collection);c.parse&&(e=this.parse(e,c)||{});e=h.defaults({},e,h.result(this,"defaults"));this.set(e,c);this.changed={};this.initialize.apply(this,arguments)};h.extend(I.prototype,n,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return h.clone(this.attributes)},sync:function(){return d.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},
escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!h.iteratee(a,this)(this.attributes)},set:function(a,c,e){if(null==a)return this;if("object"===typeof a){var f=a;e=c}else(f={})[a]=c;e||(e={});if(!this._validate(f,e))return!1;var l=e.unset;a=e.silent;var d=[],k=this._changing;this._changing=!0;k||(this._previousAttributes=h.clone(this.attributes),this.changed={});var u=this.attributes,n=this.changed,m=this._previousAttributes,t;for(t in f)c=
f[t],h.isEqual(u[t],c)||d.push(t),h.isEqual(m[t],c)?delete n[t]:n[t]=c,l?delete u[t]:u[t]=c;this.id=this.get(this.idAttribute);if(!a)for(d.length&&(this._pending=e),c=0;c<d.length;c++)this.trigger("change:"+d[c],this,u[d[c]],e);if(k)return this;if(!a)for(;this._pending;)e=this._pending,this._pending=!1,this.trigger("change",this,e);this._changing=this._pending=!1;return this},unset:function(a,c){return this.set(a,void 0,h.extend({},c,{unset:!0}))},clear:function(a){var c={},e;for(e in this.attributes)c[e]=
void 0;return this.set(c,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var c=this._changing?this._previousAttributes:this.attributes,e={},f;for(f in a){var l=a[f];h.isEqual(c[f],l)||(e[f]=l)}return h.size(e)?e:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},
fetch:function(a){a=h.extend({parse:!0},a);var c=this,e=a.success;a.success=function(f){var l=a.parse?c.parse(f,a):f;if(!c.set(l,a))return!1;e&&e.call(a.context,c,f,a);c.trigger("sync",c,f,a)};Qa(this,a);return this.sync("read",this,a)},save:function(a,c,e){if(null==a||"object"===typeof a){var f=a;e=c}else(f={})[a]=c;e=h.extend({validate:!0,parse:!0},e);var l=e.wait;if(f&&!l){if(!this.set(f,e))return!1}else if(!this._validate(f,e))return!1;var d=this,k=e.success,u=this.attributes;e.success=function(a){d.attributes=
u;var c=e.parse?d.parse(a,e):a;l&&(c=h.extend({},f,c));if(c&&!d.set(c,e))return!1;k&&k.call(e.context,d,a,e);d.trigger("sync",d,a,e)};Qa(this,e);f&&l&&(this.attributes=h.extend({},u,f));a=this.isNew()?"create":e.patch?"patch":"update";"patch"!==a||e.attrs||(e.attrs=f);a=this.sync(a,this,e);this.attributes=u;return a},destroy:function(a){a=a?h.clone(a):{};var c=this,e=a.success,f=a.wait,l=function(){c.stopListening();c.trigger("destroy",c,c.collection,a)};a.success=function(d){f&&l();e&&e.call(a.context,
c,d,a);c.isNew()||c.trigger("sync",c,d,a)};var d=!1;this.isNew()?h.defer(a.success):(Qa(this,a),d=this.sync("delete",this,a));f||l();return d},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||cb();if(this.isNew())return a;var c=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(c)},parse:function(a,c){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},
h.defaults({validate:!0},a))},_validate:function(a,c){if(!c.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);a=this.validationError=this.validate(a,c)||null;if(!a)return!0;this.trigger("invalid",this,a,h.extend(c,{validationError:a}));return!1}});k(I,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var H=d.Collection=function(a,c){c||(c={});c.model&&(this.model=c.model);void 0!==c.comparator&&(this.comparator=c.comparator);this._reset();this.initialize.apply(this,
arguments);a&&this.reset(a,h.extend({silent:!0},c))},A={add:!0,remove:!0,merge:!0},D={add:!0,remove:!1},C=function(a,c,e){e=Math.min(Math.max(e,0),a.length);for(var f=Array(a.length-e),l=c.length,d=0;d<f.length;d++)f[d]=a[d+e];for(d=0;d<l;d++)a[d+e]=c[d];for(d=0;d<f.length;d++)a[d+l+e]=f[d]};h.extend(H.prototype,n,{model:I,initialize:function(){},toJSON:function(a){return this.map(function(c){return c.toJSON(a)})},sync:function(){return d.sync.apply(this,arguments)},add:function(a,c){return this.set(a,
h.extend({merge:!1},c,D))},remove:function(a,c){c=h.extend({},c);var e=!h.isArray(a);a=e?[a]:h.clone(a);a=this._removeModels(a,c);!c.silent&&a&&this.trigger("update",this,c);return e?a[0]:a},set:function(a,c){if(null!=a){c=h.defaults({},c,A);c.parse&&!this._isModel(a)&&(a=this.parse(a,c));var e=!h.isArray(a);a=e?[a]:a.slice();var f=c.at;null!=f&&(f=+f);0>f&&(f+=this.length+1);for(var l=[],d=[],k=[],u={},n=c.add,m=c.merge,t=c.remove,q=!1,z=this.comparator&&null==f&&!1!==c.sort,p=h.isString(this.comparator)?
this.comparator:null,B,x=0;x<a.length;x++){B=a[x];var G=this.get(B);G?(m&&B!==G&&(B=this._isModel(B)?B.attributes:B,c.parse&&(B=G.parse(B,c)),G.set(B,c),z&&!q&&(q=G.hasChanged(p))),u[G.cid]||(u[G.cid]=!0,l.push(G)),a[x]=G):n&&(B=a[x]=this._prepareModel(B,c))&&(d.push(B),this._addReference(B,c),u[B.cid]=!0,l.push(B))}if(t){for(x=0;x<this.length;x++)B=this.models[x],u[B.cid]||k.push(B);k.length&&this._removeModels(k,c)}u=!1;l.length&&!z&&n&&t?(u=this.length!=l.length||h.some(this.models,function(a,
c){return a!==l[c]}),this.models.length=0,C(this.models,l,0),this.length=this.models.length):d.length&&(z&&(q=!0),C(this.models,d,null==f?this.length:f),this.length=this.models.length);q&&this.sort({silent:!0});if(!c.silent){for(x=0;x<d.length;x++)null!=f&&(c.index=f+x),B=d[x],B.trigger("add",B,this,c);(q||u)&&this.trigger("sort",this,c);(d.length||k.length)&&this.trigger("update",this,c)}return e?a[0]:a}},reset:function(a,c){c=c?h.clone(c):{};for(var e=0;e<this.models.length;e++)this._removeReference(this.models[e],
c);c.previousModels=this.models;this._reset();a=this.add(a,h.extend({silent:!0},c));c.silent||this.trigger("reset",this,c);return a},push:function(a,c){return this.add(a,h.extend({at:this.length},c))},pop:function(a){var c=this.at(this.length-1);return this.remove(c,a)},unshift:function(a,c){return this.add(a,h.extend({at:0},c))},shift:function(a){var c=this.at(0);return this.remove(c,a)},slice:function(){return q.apply(this.models,arguments)},get:function(a){if(null!=a){var c=this.modelId(this._isModel(a)?
a.attributes:a);return this._byId[a]||this._byId[c]||this._byId[a.cid]}},at:function(a){0>a&&(a+=this.length);return this.models[a]},where:function(a,c){return this[c?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var c=this.comparator;if(!c)throw Error("Cannot sort a set without a comparator");a||(a={});var e=c.length;h.isFunction(c)&&(c=h.bind(c,this));1===e||h.isString(c)?this.models=this.sortBy(c):this.models.sort(c);a.silent||this.trigger("sort",this,a);
return this},pluck:function(a){return h.invoke(this.models,"get",a)},fetch:function(a){a=h.extend({parse:!0},a);var c=a.success,e=this;a.success=function(f){e[a.reset?"reset":"set"](f,a);c&&c.call(a.context,e,f,a);e.trigger("sync",e,f,a)};Qa(this,a);return this.sync("read",this,a)},create:function(a,c){c=c?h.clone(c):{};var e=c.wait;a=this._prepareModel(a,c);if(!a)return!1;e||this.add(a,c);var f=this,l=c.success;c.success=function(a,c,d){e&&f.add(a,d);l&&l.call(d.context,a,c,d)};a.save(null,c);return a},
parse:function(a,c){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,c){if(this._isModel(a))return a.collection||(a.collection=this),a;c=c?h.clone(c):{};c.collection=this;a=new this.model(a,c);if(!a.validationError)return a;this.trigger("invalid",this,a.validationError,c);return!1},
_removeModels:function(a,c){for(var e=[],f=0;f<a.length;f++){var l=this.get(a[f]);if(l){var d=this.indexOf(l);this.models.splice(d,1);this.length--;c.silent||(c.index=d,l.trigger("remove",l,this,c));e.push(l);this._removeReference(l,c)}}return e.length?e:!1},_isModel:function(a){return a instanceof I},_addReference:function(a,c){this._byId[a.cid]=a;c=this.modelId(a.attributes);null!=c&&(this._byId[c]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,c){delete this._byId[a.cid];c=
this.modelId(a.attributes);null!=c&&delete this._byId[c];this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,c,e,f){if("add"!==a&&"remove"!==a||e===this){"destroy"===a&&this.remove(c,f);if("change"===a){var l=this.modelId(c.previousAttributes()),d=this.modelId(c.attributes);l!==d&&(null!=l&&delete this._byId[l],null!=d&&(this._byId[d]=c))}this.trigger.apply(this,arguments)}}});k(H,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,
foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");k=d.View=function(a){this.cid=h.uniqueId("view");h.extend(this,h.pick(a,E));this._ensureElement();this.initialize.apply(this,arguments)};var F=/^(\S+)\s*(.*)$/,
E="model collection el id attributes className tagName events".split(" ");h.extend(k.prototype,n,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof d.$?a:d.$(a);this.el=this.$el[0]},
delegateEvents:function(a){a||(a=h.result(this,"events"));if(!a)return this;this.undelegateEvents();for(var c in a){var e=a[c];h.isFunction(e)||(e=this[e]);if(e){var f=c.match(F);this.delegate(f[1],f[2],h.bind(e,this))}}return this},delegate:function(a,c,e){this.$el.on(a+".delegateEvents"+this.cid,c,e);return this},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,c,e){this.$el.off(a+".delegateEvents"+this.cid,c,e);return this},_createElement:function(a){return document.createElement(a)},
_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"));else{var a=h.extend({},h.result(this,"attributes"));this.id&&(a.id=h.result(this,"id"));this.className&&(a["class"]=h.result(this,"className"));this.setElement(this._createElement(h.result(this,"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});d.sync=function(a,c,e){var f=K[a];h.defaults(e||(e={}),{emulateHTTP:d.emulateHTTP,emulateJSON:d.emulateJSON});var l={type:f,dataType:"json"};e.url||
(l.url=h.result(c,"url")||cb());null!=e.data||!c||"create"!==a&&"update"!==a&&"patch"!==a||(l.contentType="application/json",l.data=JSON.stringify(e.attrs||c.toJSON(e)));e.emulateJSON&&(l.contentType="application/x-www-form-urlencoded",l.data=l.data?{model:l.data}:{});if(e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){l.type="POST";e.emulateJSON&&(l.data._method=f);var k=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(k)return k.apply(this,arguments)}}"GET"===
l.type||e.emulateJSON||(l.processData=!1);var u=e.error;e.error=function(a,c,f){e.textStatus=c;e.errorThrown=f;u&&u.call(e.context,a,c,f)};a=e.xhr=d.ajax(h.extend(l,e));c.trigger("request",c,a,e);return a};var K={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};d.ajax=function(){return d.$.ajax.apply(d.$,arguments)};var N=d.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},Y=/\((.*?)\)/g,P=/(\(\?)?:\w+/g,W=
/\*\w+/g,ha=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(N.prototype,n,{initialize:function(){},route:function(a,c,e){h.isRegExp(a)||(a=this._routeToRegExp(a));h.isFunction(c)&&(e=c,c="");e||(e=this[c]);var f=this;d.history.route(a,function(l){l=f._extractParameters(a,l);!1!==f.execute(e,l,c)&&(f.trigger.apply(f,["route:"+c].concat(l)),f.trigger("route",c,l),d.history.trigger("route",f,c,l))});return this},execute:function(a,c,e){a&&a.apply(this,c)},navigate:function(a,c){d.history.navigate(a,c);return this},
_bindRoutes:function(){if(this.routes){this.routes=h.result(this,"routes");for(var a,c=h.keys(this.routes);null!=(a=c.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(ha,"\\$&").replace(Y,"(?:$1)?").replace(P,function(a,c){return c?a:"([^/?]+)"}).replace(W,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,c){var e=a.exec(c).slice(1);return h.map(e,function(a,c){return c===e.length-1?a||null:a?decodeURIComponent(a):null})}});var ja=
d.History=function(){this.handlers=[];this.checkUrl=h.bind(this.checkUrl,this);"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},ba=/^[#\/]|\s+$/g,Z=/^\/+|\/+$/g,R=/#.*$/;ja.started=!1;h.extend(ja.prototype,n,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,
"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash());return a.replace(ba,"")},start:function(a){if(ja.started)throw Error("Backbone.history has already been started");
ja.started=!0;this.options=h.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.history||!this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();
this.root=("/"+this.root+"/").replace(Z,"/");if(this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});else return a=this.root.slice(0,-1)||"/",this.location.replace(a+"#"+this.getPath()),!0;this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,a=document.body,
a=a.insertBefore(this.iframe,a.firstChild).contentWindow,a.document.open(),a.document.close(),a.location.hash="#"+this.fragment);a=window.addEventListener||function(a,c){return attachEvent("on"+a,c)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||
function(a,c){return detachEvent("on"+a,c)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1);this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);ja.started=!1},route:function(a,c){this.handlers.unshift({route:a,callback:c})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe.contentWindow));if(a===this.fragment)return!1;
this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){if(!this.matchRoot())return!1;a=this.fragment=this.getFragment(a);return h.some(this.handlers,function(c){if(c.route.test(a))return c.callback(a),!0})},navigate:function(a,c){if(!ja.started)return!1;c&&!0!==c||(c={trigger:!!c});a=this.getFragment(a||"");var e=this.root;if(""===a||"?"===a.charAt(0))e=e.slice(0,-1)||"/";e+=a;a=this.decodeFragment(a.replace(R,""));if(this.fragment!==a){this.fragment=a;if(this._usePushState)this.history[c.replace?
"replaceState":"pushState"]({},document.title,e);else if(this._wantsHashChange)this._updateHash(this.location,a,c.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)&&(e=this.iframe.contentWindow,c.replace||(e.document.open(),e.document.close()),this._updateHash(e.location,a,c.replace));else return this.location.assign(e);if(c.trigger)return this.loadUrl(a)}},_updateHash:function(a,c,e){e?(e=a.href.replace(/(javascript:|#).*$/,""),a.replace(e+"#"+c)):a.hash="#"+c}});d.history=new ja;
I.extend=H.extend=N.extend=k.extend=ja.extend=function(a,c){var e=this;var f=a&&h.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)};h.extend(f,e,c);c=function(){this.constructor=f};c.prototype=e.prototype;f.prototype=new c;a&&h.extend(f.prototype,a);f.__super__=e.prototype;return f};var cb=function(){throw Error('A "url" property or function must be specified');},Qa=function(a,c){var e=c.error;c.error=function(f){e&&e.call(c.context,a,f,c);a.trigger("error",a,f,c)}};return d});
(function(m){m("elements/notification/toastr",["jquery"],function(d){return function(){function h(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1E3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1E3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5E3,
titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function n(c){function e(c){if(!d(":focus",x).length||c)return x[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){t(x);if(n.onHidden)n.onHidden();D.state="hidden";D.endTime=new Date;a&&a(D)}})}var n=q(),p=c.iconClass||n.iconClass;"undefined"!==typeof c.optionsOverride&&(n=d.extend(n,c.optionsOverride),p=c.optionsOverride.iconClass||p);p+=" "+h().iconClasses[c.type];
f++;k=m(n);var G=null,x=d("<div/>"),I=d("<div/>"),H=d("<div/>"),A=d(n.closeHtml),D={toastId:f,state:"visible",startTime:new Date,options:n,map:c};c.type===l.error||c.type===l.warning?x.attr("role","alert"):x.attr("role","status");c.iconClass&&x.addClass(n.toastClass).addClass(p);c.title&&(I.append(c.title).addClass(n.titleClass),x.append(I));c.message&&(H.append(c.message).addClass(n.messageClass),x.append(H));n.closeButton&&(A.addClass("toast-close-button"),x.prepend(A));x.hide();n.newestOnTop?k.prepend(x):
k.append(x);x[n.showMethod]({duration:n.showDuration,easing:n.showEasing,complete:n.onShown});0<n.timeOut&&(G=setTimeout(e,n.timeOut));x.hover(function(){clearTimeout(G);x.stop(!0,!0)[n.showMethod]({duration:n.showDuration,easing:n.showEasing})},function(){if(0<n.timeOut||0<n.extendedTimeOut)G=setTimeout(e,n.extendedTimeOut)});!n.onclick&&n.tapToDismiss&&x.click(e);n.closeButton&&A&&A.click(function(a){a.stopPropagation?a.stopPropagation():void 0!==a.cancelBubble&&!0!==a.cancelBubble&&(a.cancelBubble=
!0);e(!0)});n.onclick&&x.click(function(){n.onclick();e()});a&&a(D);n.debug&&console&&console.log(D);return x}function m(a){a||(a=q());k=d("#"+a.containerId);if(k.length)return k;k=d("<div/>").attr("id",a.containerId).addClass(a.positionClass);k.appendTo(d(a.target));return k}function q(a){return d.extend({},h(),c.options,a)}function t(a){k||(k=m());a.is(":visible")||(a.remove(),0===k.children().length&&k.remove())}var k,a,f=0,l={error:"error",info:"info",success:"success",warning:"warning"},c={clear:function(a){var c=
q();k||m(c);if(a&&0===d(":focus",a).length)a[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){t(a)}});else if(k.children().length)k[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){k.remove()}})},error:function(a,c,f){return n({type:l.error,iconClass:q(f).iconClasses.error,message:a,optionsOverride:f,title:c})},getContainer:m,info:function(a,c,f){return n({type:l.info,iconClass:q(f).iconClasses.info,message:a,optionsOverride:f,title:c})},
options:{},subscribe:function(c){a=c},success:function(a,c,f){return n({type:l.success,iconClass:q(f).iconClasses.success,message:a,optionsOverride:f,title:c})},version:"2.0.1",warning:function(a,c,f){return n({type:l.warning,iconClass:q(f).iconClasses.warning,message:a,optionsOverride:f,title:c})}};return c}()})})("function"===typeof define&&define.amd?define:function(m,d){"undefined"!==typeof module&&module.exports?module.exports=d(require("jquery")):window.toastr=d(window.jQuery)});
define("notification","module jquery popup elements/notification/toastr app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k){function a(a){return Array.prototype.slice.call(a,0)}var f={popupWrapperClass:"NotificationWrapper",popupContentClass:"NotificationContent",title:"",closeButton:!1,modal:!0,modalBlur:!1,role:"dialog",draggable:!1,autoOpen:!0,minWidth:"300px",closeOnEscape:!1},l={popupWrapperClass:"NotificationWrapper AlertWrapper",popupContentClass:"NotificationContent AlertContent",
buttonTitle:k.t("elements.notification.ok")||"Ok",buttonClass:"NotificationButton AlertButton",role:"alertdialog"},c={popupWrapperClass:"NotificationWrapper ConfirmWrapper",popupContentClass:"NotificationContent ConfirmContent",buttonOkTitle:k.t("elements.notification.ok")||"Ok",buttonCancelTitle:k.t("elements.notification.cancel")||"Cancel",buttonOkClass:"NotificationButton ConfirmButton ConfirmOkButton",buttonCancelClass:"NotificationButton ConfirmButton ConfirmCancelButton",role:"dialog"},e={position:"bottom-right",
type:"info",sticky:!1,closeOnClick:!0,closeButton:!1,newestOnTop:!0,timeOut:4E3,appendTo:"body",notifyClass:"NotifyWrapper",notifyTitleClass:"NotifyTitle",notifyMessageClass:"NotifyMessage",notifyIconClasses:{error:"NotifyError",info:"NotifyInfo",success:"NotifySuccess",warning:"NotifyWarning"},showMethod:"fadeIn",showDuration:300,showEasing:"swing",hideMethod:"fadeOut",hideDuration:1E3,hideEasing:"swing",onShow:void 0,onHide:void 0};d=function(){this.config=p.extend(f,t.configure(m.id));this.alertConfig=
p.extend(f,l,t.configure(m.id+".alert"));this.confirmConfig=p.extend(f,c,t.configure(m.id+".confirm"));this.notifyConfig=p.extend(f,e,t.configure(m.id+".notify"))};d.prototype.alert=function(c,e,f){"object"===typeof e&&(f=e);f=p.extend(this.alertConfig,f||{});f.content=c||"";f.buttons=[{text:f.buttonTitle,buttonClass:f.buttonClass,click:function(){"function"===typeof e&&e.apply(this,a(arguments));this.close();this.destroy()}}];new h(f)};d.prototype.confirmPopupsRegister=[];d.prototype.confirmPopupsLookup=
{};d.prototype.confirm=function(c,e,f,l){function d(a){var c;a&&(n=k.confirmPopupsRegister.indexOf(a),k.confirmPopupsRegister.splice(n,1),(c=k.confirmPopupsLookup[k.confirmPopupsRegister[k.confirmPopupsRegister.length-1]])&&c.popup.show(function(){c.resetFocus()}))}var k=this,u=(new Date).getTime(),n;"object"===typeof e&&(l=e);"object"===typeof f&&(l=f);l=p.extend(this.confirmConfig,l||{});l.timestamp=u;2>k.confirmPopupsRegister.length&&(l.isFirstConfirm=!0);l.content=c||"";l.buttons&&l.buttons.length?
l.buttons.forEach(function(c){var e=c.click;c.click=function(){"function"===typeof e&&e.apply(this,a(arguments));d(l.timestamp);this.close();this.destroy()}}):l.buttons=[{text:l.buttonOkTitle,buttonClass:l.buttonOkClass,click:function(){"function"===typeof e&&e.apply(this,a(arguments));d(l.timestamp);this.close();this.destroy()}},{text:l.buttonCancelTitle,buttonClass:l.buttonCancelClass,click:function(){"function"===typeof f&&f.apply(this,a(arguments));d(l.timestamp);this.close();this.destroy()}}];
c=new h(l);k.confirmPopupsRegister.push(u);return k.confirmPopupsLookup[u]=c};d.prototype.notify=function(a,c,e,f){var l;a=a||"";"object"===typeof c?f=c:"function"===typeof c?l=c:c=c||"";"object"===typeof e?f=e:l="function"!==typeof e?function(){}:e;f=p.extend(this.notifyConfig,f||{});f=p.extend(f,{positionClass:"toast-"+f.position,timeOut:f.sticky?0:f.timeOut,extendedTimeOut:f.sticky?0:f.extendedTimeOut,tapToDismiss:f.closeOnClick,toastClass:f.notifyClass,titleClass:f.notifyTitleClass,messageClass:f.notifyMessageClass,
iconClasses:f.notifyIconClasses,target:f.appendTo,onShown:f.onShow,onHidden:f.onHide||l});f.sticky&&(f.timeOut=f.extendedTimeOut=0);if("function"===typeof n[f.type])n[f.type](a,c,f)};d=new d;q.trigger("notification.loaded",!0,d);return d});
define("app/navigation","module jquery underscore app/configuration app/events app/utilities/animate app/utilities/XyTools app/utilities/prefetch app/player/integration lang/lang app/courseApi backbone notification jquery.extensions".split(" "),function(m,d,h,n,p,q,t,k,a,f,l,c,e){c=function(){this.config={contentContainerSelector:"#PageBody",contentMarker:f.t("general.content")||"Main Content",layoutMode:"",inclusiveContentFetch:!1,usePrefetch:window.Xyleme.environment.IS_DEPLOY||window.Xyleme.environment.FRAGMENT_CACHING_AVAILABLE,
loadIconDelay:400,animateOptions:{animate:!1,inTime:400,outTime:400,previous:{inAnimation:"slide-from-left",outAnimation:"slide-to-right"},next:{inAnimation:"slide-from-right",outAnimation:"slide-to-left"}},scrollSectionMargin:15,sectionsForScrollSpy:".ParaBlock, .Title, .QuestionBlock"};this.documentVersion=t.getUrlQuery("v");this.initialLoad=!0;this.currentSection=this.currentPage=null};c.prototype.init=function(){var a=u.loadNewContent.bind(this),c=u.completePageLoad.bind(this),e=u.allPageMediaLoaded.bind(this),
f=h.debounce(u.handlePageScroll.bind(this),750);p.trigger("navigation.init:before",this);this.goRender=!0;this.config=t.extend({},this.config,n.configure(m.id));this.contentContainer=d(this.config.contentContainerSelector);this.prevOverflow=this.contentContainer.parent()[0].style.overflow;var l=t.getUrlQuery("destination");l&&this.updateAddressBar(l,document.location.hash);this.initContentAnimation();p.on("content.url:changed",a);p.on("externalScripts.loaded",c);p.on("allPageMedia.loaded",e);p.on("allPageMedia.skipped",
e);p.on("content.remove",this.removeContent.bind(this));p.trigger("navigation.init:after",this);p.on("content.loaded",function(){var a=d(u.config.contentScrollingContainerSelector)[0];0<d(u.config.contentScrollingContainerSelector).find(u.config.sectionsForScrollSpy).length&&a.addEventListener("scroll",f,!1)});p.on("content.remove",function(){d(u.config.contentScrollingContainerSelector)[0].removeEventListener("scroll",f)})};c.prototype.loadNewContent=function(a,c,f){var l={};this.updateAddressBar(c.replace(/\./g,
"-"),f);p.trigger("navigation.loadNewContent:before",this);p.trigger("navigation.loadNewContent:request",a,this);l.url=a;l.async=!0;l.data={};this.documentVersion&&(l.data.v=this.documentVersion);l.success=function(l){function h(a,l){a.onload=function(){l.remove();t++;t===m.length&&p.trigger("externalScripts.loaded",n,c,f)};a.onerror=function(a){l.remove();t++;e.notify("Could not load external resource: "+a.srcElement.src,{type:"error",sticky:!0,closeButton:!0});t===m.length&&p.trigger("externalScripts.loaded",
n,c,f)}}var n=d(l),m=n.find("script[src]"),t=0;l=m.length;var q;p.trigger("navigation.loadNewContent:success",a,u);/^true$/i.test(u.config.usePrefetch)&&k.prefetchPages(a);if(0<l)for(q=0;q<l;q++){var z=d(m[q]);var B=z.attr("src");var x=document.createElement("script");x.setAttribute("src",B);x.setAttribute("class","WebComponentDependency");document.head.appendChild(x);h(x,z)}else p.trigger("externalScripts.loaded",n,c,f)};l.error=function(a,c,e){p.trigger("navigation.loadNewContent:error",u);u.enableNavigation();
t.log(e)};l.inclusive=this.config.inclusiveContentFetch;t.fetch(a,this.config.contentContainerSelector,l);p.trigger("navigation.loadNewContent:after",this)};c.prototype.completePageLoad=function(a,c,e){this.externalScriptsWasLoaded||(p.trigger("navigation.completePageLoad:before",a,c,this.contentContainer,this),this.animateContentIn(function(){clearTimeout(this.spinnerTimer);this.loadingNote&&(this.loadingNote.remove(),this.loadingNote=null);this.contentContainer.html(a);this.externalScriptsWasLoaded=
!0;this.scrollPositionForAnimateScroll=e?e.replace("#",""):"";u.updateAddressBar(c.replace(/\./g,"-"),e);p.trigger("content.loaded:before",this.contentContainer);p.trigger("content.loaded",this.contentContainer);d(window).trigger("load");p.trigger("navigation.completePageLoad:after",a,c,this.contentContainer,this)}.bind(this)));this.currentSection=null;p.trigger("navigation.section:changed",c.replace(/\./g,"-"),null)};c.prototype.allPageMediaLoaded=function(){if(this.scrollPositionForAnimateScroll){var a=
d(this.config.contentScrollingContainerSelector),c=d("#"+this.scrollPositionForAnimateScroll);a.animate({scrollTop:a[0].scrollTop+d(c).offset().top-100},100);this.scrollPositionForAnimateScroll=""}};c.prototype.handlePageScroll=function(){var a=d(this.config.contentScrollingContainerSelector)[0],c=d(this.config.contentScrollingContainerSelector).find(this.config.sectionsForScrollSpy).filter(function(){return d(this).text()}),e=[],f=0-u.config.scrollSectionMargin,l=document.documentElement.clientHeight-
a.getBoundingClientRect().top,k=a.getBoundingClientRect().top;Array.from(c).forEach(function(a,c){e.push({top:a.getBoundingClientRect().top-k,bottom:a.getBoundingClientRect().top+a.getBoundingClientRect().height-k,id:a.getAttribute("id"),index:c,section:a})});a=e.filter(function(a){return a.top>=f&&a.bottom<=l});0==a.length&&(a=e.filter(function(a){return a.top<=f&&a.bottom>=l}));0==a.length&&(a=e.filter(function(a){return a.top<=f&&a.bottom<=l&&a.bottom>=f}));0==a.length&&(a=e.filter(function(a){return a.top>=
f&&a.top<=l&&a.bottom>=l}));0<a.length&&(a=a[0],this.currentSection!==a.index&&(this.currentSection=a.index,a.id&&(u.updateHash(a.id),p.trigger("navigation.section:changed",this.currentPage,a.id))))};c.prototype.disableNavigation=function(){this.goRender=!1};c.prototype.enableNavigation=function(){this.goRender=!0};c.prototype.removeContent=function(){p.trigger("navigation.removeContent:before",this);p.trigger("content.unload:before",u.contentContainer);this.externalScriptsWasLoaded=!1;this.animateContentOut(function(){p.trigger("content.unload:after",
u.contentContainer);p.trigger("navigation.removeContent:after",this);u.contentContainer.empty();u.spinnerTimer=setTimeout(function(){u.goRender||u.loadingNote||(u.loadingNote=d(".Spinner"),u.loadingNote.length||(u.loadingNote=d('<div class="Spinner"/>').insertBefore(u.contentContainer)),t.has.cssProperty("animation")||u.loadingNote.rotate({degree:360,animate:!0,duration:600,infinite:!0}))},u.config.loadIconDelay)})};c.prototype.requestChoose=function(c){if(u.goRender)return u.disableNavigation(),
c=c.replace(".html",""),p.trigger("navigation:before","choice",c),p.trigger("content.remove"),a.requestChoose(c)};c.prototype.requestExitContainer=function(c){if(u.goRender)return u.disableNavigation(),p.trigger("content.remove"),a.exitContainer(c)};c.prototype.requestRetake=function(c){if(u.goRender)return u.disableNavigation(),p.trigger("content.remove"),a.retake(c)};c.prototype.requestNext=function(){if(u.goRender)return u.disableNavigation(),p.trigger("navigation:before","next"),p.trigger("content.remove"),
a.requestNext()};c.prototype.requestPrevious=function(){if(u.goRender)return u.disableNavigation(),p.trigger("navigation:before","next"),p.trigger("content.remove"),a.requestPrevious()};c.prototype.requestResetChoiceBranch=function(){if(u.goRender)return u.disableNavigation(),p.trigger("navigation:before","resetChoiceBranch"),p.trigger("content.remove"),a.resetChoiceBranch()};c.prototype.updateAddressBar=function(a,c){if(a&&this.currentPage!==a){this.currentPage=a;c=c?"#"+c.replace("#",""):"";var e=
new URLSearchParams(window.location.search);e.set("destination",a);window.history.replaceState({},"",window.location.pathname+"?"+e.toString()+c)}};c.prototype.updateHash=function(a){a&&(a=a?"#"+a.replace("#",""):"",window.history.replaceState({},"",window.location.pathname+window.location.search+a))};c.prototype.updateFromAddressBar=function(a){if(null==a)return!1;a=a.replace(/-/g,".");if(!l.checkPageExistence(a))return e.notify(f.t("general.navigation.noSuchPage")||"There is no page with this id"),
!1;if(!l.isPageAvailable(a))return e.notify(f.t("general.navigation.notAvailable")||"That page is not available"),!1;p.triggerCheckEvent("navigation.enabled:check").then(function(){p.trigger("navigation.updateFromAddressBar:before");u.requestChoose(a);p.trigger("navigation.updateFromAddressBar:after")})};c.prototype.initContentAnimation=function(){this.navigationDirection=null;this.config.animateOptions.animate&&(p.trigger("navigation.animateOut:after",!0),p.on("navigation.enabled:check",function(a,
c,e){this.navigationDirection=a[0];c()}.bind(this)))};c.prototype.animateContentIn=function(a){var c="previous"===this.navigationDirection?this.config.animateOptions.previous.inAnimation:this.config.animateOptions.next.inAnimation;p.trigger("navigation.animateIn:before");if(this.config.animateOptions.animate){var e=this.contentContainer.parent();e[0].style.overflow="hidden";p.on("navigation.animateOut:after",function(){q({element:this.contentContainer,name:c,timeout:this.config.animateOptions.inTime,
beforeActiveCallback:function(){a()}.bind(this),callback:function(){e[0].style.overflow=this.prevOverflow;this.navigationDirection=null;p.trigger("navigation.animateIn:after");u.enableNavigation()}.bind(this)})}.bind(this))}else a(),this.enableNavigation(),p.trigger("navigation.animateIn:after")};c.prototype.animateContentOut=function(a){var c="previous"===this.navigationDirection?this.config.animateOptions.previous.outAnimation:this.config.animateOptions.next.outAnimation;p.trigger("navigation.animateOut:before");
if(this.config.animateOptions.animate){p.off("navigation.animateOut:after");p.cease("navigation.animateOut:after");var e=this.contentContainer.parent();e[0].style.overflow="hidden";q({element:this.contentContainer,name:c,timeout:this.config.animateOptions.outTime,afterAnimateCallback:a,callback:function(){e[0].style.overflow=this.prevOverflow;p.trigger("navigation.animateOut:after",!0)}.bind(this)})}else p.trigger("navigation.animateOut:after",!0),a()};var u=new c;p.trigger("navigation.loaded",!0,
u);return u});
define("app/utilities/scaleContainer",["module","jquery","app/events","app/configuration","app/utilities/XyTools"],function(m,d,h,n,p){var q={baseClass:"ScaleContainer",selector:"",width:500,height:500,noscrollSelector:"",eventNameSpace:"scaleContainer",throttle:10,scaleRegex:/scale\([\d\.]+\)/g,translateRegex:/translate[X|Y]?\([-\drempxcinvhwt%]+[,\s-\drempxcinvhwt%]+\)/g};var t=function(k){this.config=p.extend({},q,n.configure(m.id),k);this.$noscroll=p.getJqueryObject(this.config.noscrollSelector);this.$el=
k.$el&&k.$el.length&&k.$el instanceof d?k.$el:p.getJqueryObject(this.config.selector);if(!this.$el.length)return p.warn("Could not scale provided element/selector: "+this.config.selector),!1;this.instanceTimestamp=window.Date.now();this.refresh=this.refresh.bind(this);this.destroy=this.destroy.bind(this);this.$el.data("scaleContainer",this);this.$noscroll.length&&(this.prevOverflow=this.$noscroll[0].style.overflow,this.$noscroll.css("overflow","hidden"));this.prevTransform=this.$el[0].style.transform;
this.prevWidth=this.$el[0].style.width;this.prevHeight=this.$el[0].style.height;this.baseWidth="auto"===this.config.width?this.$el.outerWidth():this.config.width;this.baseHeight="auto"===this.config.height?this.$el.outerHeight():this.config.height;this.$el.addClass(this.config.baseClass);this.$el.outerWidth(this.baseWidth);this.$el.outerHeight(this.baseHeight);this.setupEvents();this.refresh();return this};t.prototype.setupEvents=function(){var k=d(window);k.on("resize."+this.config.eventNameSpace+
this.instanceTimestamp,_.throttle(this.refresh,this.config.throttle));k.on("orientationchange."+this.config.eventNameSpace+this.instanceTimestamp,this.refresh)};t.prototype.refresh=function(){var d=this.$el.parent();var a=this.$el[0].style.transform.replace(this.config.scaleRegex,"").replace(this.config.translateRegex,"");d=Math.min(d.outerWidth()/this.baseWidth,d.outerHeight()/this.baseHeight);this.$el[0].style.transform=a+" scale("+d+") translate(-50%, -50%)"};t.prototype.destroy=function(){var k=
d(window);k.off("resize."+this.config.eventNameSpace+this.instanceTimestamp);k.off("orientationchange."+this.config.eventNameSpace+this.instanceTimestamp);this.$el.data("scaleContainer",null);this.$el.removeClass(this.config.baseClass);this.$noscroll.length&&(this.$noscroll[0].style.overflow=this.prevOverflow);this.$el[0].style.transform=this.prevTransform;this.$el[0].style.width=this.prevWidth;this.$el[0].style.height=this.prevHeight};d.fn.scaleContainer=function(k){k.$el=d(this);return new t(k)};
h.trigger("constrainRadio.loaded",!0,t);return t});
define("app/utilities/animateContent","module jquery app/events app/configuration app/utilities/XyTools app/utilities/animate app/hotkeys".split(" "),function(m,d,h,n,p,q,t){var k={selector:"",auto:!1,autoDelay:1E3,inTime:200,outTime:200,inAnimation:"fade-grow-in",outAnimation:"fade-grow-out",skipHotkey:"enter",resetHotkey:"backspace",initClass:"AnimateInit",activeClass:"AnimateActive"};var a=function(a){this.config=p.extend({},k,n.configure(m.id),a);this.$content=d(this.config.contentContainerSelector);
this.$els=a.$els&&a.$els.length&&a.$els instanceof d?a.$els:this.$content.find(this.config.selector);this.$els.data("xyAnimateContent",this);this.elAmount=this.$els.length;this.elPointer=-1;this.handleNavigation=this.handleNavigation.bind(this);h.on("navigation.enabled:check",this.handleNavigation);this.setupHotkeys();this.initializeAnimation();return this};a.prototype.setupHotkeys=function(){t.register(this.config.skipHotkey,this.skip.bind(this),{showTooltip:!1});t.register(this.config.resetHotkey,
this.reset.bind(this),{showTooltip:!1})};a.prototype.removeHotkeys=function(){t.unregister(this.config.skipHotkey);t.unregister(this.config.resetHotkey)};a.prototype.initializeAnimation=function(){this.$els.addClass(this.config.initClass).removeClass(this.config.activeClass);h.trigger("media.pause",this.$els);this.config.auto&&(this.interval=window.setInterval(this.handleInterval.bind(this),this.config.autoDelay))};a.prototype.isAtBoundary=function(a){return"next"===a?this.elPointer>=this.elAmount-
1:0>this.elPointer};a.prototype.handleInterval=function(){this.isAtBoundary("next")?window.clearInterval(this.interval):this.animateNext()};a.prototype.handleNavigation=function(a,l,c){var e=a[0];if(a[1]||!this.elAmount)l();else switch(e){case "next":this.isAtBoundary(e)?l():(this.animateNext(),c());break;case "previous":this.isAtBoundary(e)?l():(this.animatePrevious(),c());break;default:l()}};a.prototype.animateNext=function(){this.elPointer++;var a=this.$els.eq(this.elPointer);this.isAtBoundary("next")&&
this.announceComplete();q({element:a,name:this.config.inAnimation,timeout:this.config.inTime,beforeActiveCallback:function(){a.addClass(this.config.activeClass)}.bind(this),afterAnimateCallback:function(){h.trigger("media.resumeAutoplay",a)}})};a.prototype.animatePrevious=function(){var a=this.$els.eq(this.elPointer);q({element:a,name:this.config.outAnimation,timeout:this.config.outTime,beforeActiveCallback:function(){a.removeClass(this.config.activeClass);h.trigger("media.pause",a)}.bind(this)});
this.elPointer--};a.prototype.skip=function(a){void 0===a&&(a=!0);this.$els.addClass(this.config.activeClass);h.trigger("media.resumeAutoplay",this.$els);a&&this.announceComplete();this.elPointer=this.elAmount-1};a.prototype.reset=function(){this.$els.addClass(this.config.initClass).removeClass(this.config.activeClass);h.trigger("media.pause",this.$els);this.elPointer=-1};a.prototype.announceComplete=function(){h.trigger("animateContent:complete",this.$content)};a.prototype.destroy=function(){this.skip(!1);
this.$els.data("xyAnimateContent",null);h.off("navigation.enabled:check",this.handleNavigation);this.removeHotkeys();this.$els=null};d.fn.animateContent=function(f){f.$els=d(this);return new a(f)};h.trigger("animateContent.loaded",!0,a);return a});
define("skin/regions/content/content","module jquery underscore app/navigation app/events app/configuration app/courseApi app/utilities/XyTools app/utilities/scaleContainer app/utilities/animateContent notification".split(" "),function(m,d,h,n,p,q,t,k,a,f,l){var c,e;p.on("questionApi.loaded",function(a){c=a});p.on("completionApi.loaded",function(a){e=a});var u=new function(){this.config={pageBodySelector:"#PageBody",enableSwipeNavigation:!1,enableSwipeContentDrag:!1,skipToContentLinkSelector:"#SkipToContentLink",
swipeCoefficient:1.5,adaptToLanguageDirection:!0,ariaLive:"polite",contentScrollingContainerSelector:"#PageBodyWrapper",scaling:{selector:"#PageBodyWrapper",enabled:!1,width:1280,height:720,noscrollSelector:"#PageBody"},animateContent:{enabled:!1,selector:".ParaBlock > *:not(.List):not(.ParaBlockContent), .ParaBlockContent > *:not(.List), li, .Title:not(:first-of-type), .SubTitle",auto:!1,autoDelay:1E3,inTime:200,outTime:200,inAnimation:"fade-grow-in",outAnimation:"fade-grow-out",skipHotkey:"enter",
resetHotkey:"backspace",contextAware:!0}};this.init=function(){var a=this;p.trigger("contentRegion.init:before",this);this.config=k.extend({},this.config,q.configure(m.id));this.config.scrolling&&this.config.scrolling.selector&&"string"===typeof this.config.scrolling.selector&&this.config.scrolling.selector.length&&(this.config.contentScrollingContainerSelector=this.config.scrolling.selector);d(this.render.bind(this));this.prevEnabled=this.nextEnabled=!0;this.animationCompletedPages=[];p.on("navigationButtons.state:changed",
function(c){a.nextEnabled=c.next.enabled;a.prevEnabled=c.previous.enabled});p.on("navigationButtons.loaded",function(c){a.config.disabledMessages=c.config.disabledMessages});p.trigger("contentRegion.init:after",this)};this.render=function(){p.trigger("contentRegion.render:before",this);this.$pageBody=d(this.config.pageBodySelector);this.$skipToContentLink=d(this.config.skipToContentLinkSelector);k.has.calc()||this.normalizeContentHeight();this.handleContainerScaling();this.handleSwipeNavigation();
this.handleScrolling();this.handleAria();this.$skipToContentLink.on("click",this.handleSkipToContentClick);p.on("navigation.completePageLoad:after",this.setupContentAnimation.bind(this));p.on("navigation.removeContent:after",this.removeContentAnimation.bind(this));p.on("content.unload:after",this.markBusy.bind(this));p.on("content.loaded:before",this.markUnbusy.bind(this));p.on("animateContent:complete",this.handleAnimateContentComplete.bind(this));p.trigger("contentRegion.render:after",this)};this.normalizeContentHeight=
function(){var a=d("#PageMain"),c=d("#PageHeader"),e=d("#PageOuterWrap"),f=d("#PageFooter"),l=h.debounce(function(){e.height(a.height()-c.height()-f.height())},200);l();d(window).on("resize",l);return this};this.handleContainerScaling=function(){/^true$/i.test(this.config.scaling.enabled)&&(this.scaler=new a({selector:this.config.scaling.selector,width:this.config.scaling.width,height:this.config.scaling.height,noscrollSelector:this.config.scaling.noscrollSelector}))};this.handleScrolling=function(){var a=
d(this.config.contentScrollingContainerSelector);this.$pageBody.on("scrollToElement",function(c,e){a.animate({scrollTop:a[0].scrollTop+d(e).offset().top-100},500)})};this.setupContentAnimation=function(a,l,d){/^true$/i.test(this.config.animateContent.enabled)&&this.isMainContainer(d)&&!e.hasRequiredActivitiesLeft()&&!c.hasIncompleteQuestions()&&this.nextEnabled&&(this.animationController=new f({selector:this.config.animateContent.selector,auto:this.config.animateContent.auto,autoDelay:this.config.animateContent.autoDelay,
inTime:this.config.animateContent.inTime,outTime:this.config.animateContent.outTime,inAnimation:this.config.animateContent.inAnimation,outAnimation:this.config.animateContent.outAnimation,skipHotkey:this.config.animateContent.skipHotkey,resetHotkey:this.config.animateContent.resetHotkey}),this.isContentAnimationCompleted(l)&&this.animationController.skip())};this.removeContentAnimation=function(){/^true$/i.test(this.config.animateContent.enabled)&&this.animationController&&(this.animationController.destroy(),
this.animationController=null)};this.handleSwipeNavigation=function(){var a=this,c,e,f=!1;if(this.config.enableSwipeNavigation){var l=k.getLanguageDirection();if(this.config.adaptToLanguageDirection&&"rtl"===l){var d="previous";var h="next"}else d="next",h="previous";var u=this.$pageBody[0];window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();this.$pageBody.swipe({thresholdX:u.clientWidth/
this.config.swipeCoefficient,touchstart:function(e){c=a.getTouchPointFromEvent(e);u.style.transition="initial"},touchmove:function(l){a.config.enableSwipeContentDrag&&!f&&(f=!0,e=a.getTouchPointFromEvent(l),window.requestAnimFrame(function(){if(f){var a="translateX("+(-(c.x-e.x)+"px)");u.style["-webkit-transform"]=a;u.style["-moz-transform"]=a;u.style.transform=a;f=!1}}))},touchend:function(){a.config.enableSwipeContentDrag&&(u.style.transition="all 150ms ease-out",window.requestAnimFrame(function(){u.style["-webkit-transform"]=
"translateX(0px)";u.style["-moz-transform"]="translateX(0px)";u.style.transform="translateX(0px)"}),setTimeout(function(){u.style.transform="none"},200))},swipeLeft:function(){a.navigateFromSwipe(d)},swipeRight:function(){a.navigateFromSwipe(h)}})}};this.navigateFromSwipe=function(a){"next"===a&&!this.nextEnabled||"previous"===a&&!this.prevEnabled?l.notify(this.config.disabledMessages[a]):p.triggerCheckEvent("navigation.enabled:check",a).then(function(){"next"===a?n.requestNext():n.requestPrevious()})};
this.isContentAnimationCompleted=function(a){if(this.config.animateContent.contextAware)return p.trigger("content.isContentAnimationCompleted:before"),0<=this.animationCompletedPages.indexOf(a)};this.handleAnimateContentComplete=function(a){this.config.animateContent.contextAware&&!this.$pageBody[0]!==a[0]&&(p.trigger("content.handleAnimateContentComplete:before"),a=t.getCurrentActivity("id"),this.isContentAnimationCompleted(a)||this.markContentAnimationCompleted(a),p.trigger("content.handleAnimateContentComplete:after"))};
this.markContentAnimationCompleted=function(a){this.config.animateContent.contextAware&&(p.trigger("content.markContentAnimationCompleted:before"),this.animationCompletedPages.push(a),p.trigger("content.markContentAnimationCompleted:after"))};this.handleAria=function(){this.$pageBody[0].ariaLive=this.config.ariaLive};this.markBusy=function(){this.$pageBody[0].ariaBusy=!0};this.markUnbusy=function(){this.$pageBody[0].ariaBusy=!1};this.handleSkipToContentClick=function(a){var c=d(this.getAttribute("href"));
a.preventDefault();a.stopPropagation();c.attr("tabindex")||c.attr("tabindex",-1);d(this.getAttribute("href")).focus()};this.isMainContainer=k.isContentContainer.bind(k);this.getTouchPointFromEvent=k.getTouchPointFromEvent.bind(k)};p.trigger("contentRegion.loaded",!0,u);return u});
define("skin/regions/innerFooter/innerFooter",["module","app/utilities/XyTools","skin/regions/region/region","app/events"],function(m,d,h,n){h=new h;h.config=d.extend(h.config,{name:"innerFooter",id:m.id,displayName:"Inner Footer",regionSelector:".InnerFooter",role:"contentinfo",regionButtonSelector:"",clickHandlerNS:"InnerFooter"});n.trigger("innerFooter.loaded",!0,h);return h});
define("skin/regions/sidebarRight/sidebarRight",["module","app/utilities/XyTools","skin/regions/region/region","app/events"],function(m,d,h,n){h=new h;h.config=d.extend(h.config,{name:"sidebarRight",id:m.id,displayName:"Sidebar Right",regionSelector:".SidebarRight",role:"complementary",regionButtonSelector:"",componentLinkDisplay:{text:!1,icon:!0},clickHandlerNS:"SidebarRightRegionLink",zIndex:""});n.trigger("sidebarRight.loaded",!0,h);return h});
define("skin/components/navigationButtons/navigationButtons","module jquery app/events skin/components/component/component app/utilities/XyTools app/navigation app/hotkeys notification lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a){var f={name:"navigationButtons",id:m.id,displayName:"Navigation Buttons",enabled:!0,startVisible:!0,linkSelector:".NavigationButtonsLink",linkAction:"none",clickHandlerNS:"NavigationButton",zIndex:100,buttonDisabledClass:"Disabled",buttonEnabledClass:"Enabled",buttonInvisibleClass:"Invisible",
buttonVisibleClass:"Visible",initAfter:"setupNavButtons",previousButtonSelector:"#NavigationButtonPrevious",nextButtonSelector:"#NavigationButtonNext",previousHotkey:"ALT+Left",nextHotkey:"ALT+Right",showDisabledMessages:!0,disabledMessages:{next:a.t("components.navigationButtons.nextDisabledMessage")||"The next page is not available at this time. Use the table of contents to navigate to a different page.",previous:a.t("components.navigationButtons.backDisabledMessage")||"The previous page is not available at this time. Use the table of contents to navigate to a different page."}};
m=function(a){n.call(this,f,a)};m.prototype=Object.create(n.prototype);m.constructor=m;m.config=f;m.prototype.setupNavButtons=function(){var a=this,c=this.updateButtonsState.bind(this),e=this.registerRequiredActivity.bind(this),f=this.unregisterRequiredActivity.bind(this),k=this,n=a.config.previousHotkey.split("+"),m=a.config.nextHotkey.split("+"),q=n.concat(m);"rtl"===d("body").attr("dir")&&(-1!==n.indexOf("Left")&&(a.config.previousHotkey=a.config.previousHotkey.replace("Left","Right")),-1!==m.indexOf("Right")&&
(a.config.nextHotkey=a.config.nextHotkey.replace("Right","Left")));this.$el.attr("tabindex",-1);this.$previousButton=this.$el.find(this.config.previousButtonSelector);this.$nextButton=this.$el.find(this.config.nextButtonSelector);this.$nextButton.enabled=!1;this.$previousButton.enabled=!1;this.statusCollection={};this.$previousButton.length&&t.register(this.config.previousHotkey,function(){this.$previousButton.trigger("click")},{handlerContext:this,tooltipTarget:this.config.previousButtonSelector});
this.$nextButton.length&&t.register(this.config.nextHotkey,function(){this.$nextButton.trigger("click")},{handlerContext:this,tooltipTarget:this.config.nextButtonSelector});d("body").on("keyup keydown",function(a){(-1!==q.indexOf("ALT")&&a.altKey||-1!==q.indexOf("CTRL")&&a.ctrlKey)&&a.preventDefault()});this.$nextButton.add(this.$previousButton).on("click",function(){a.extendedContentLinkClick(d(this))});h.on("navigationButtons.state:changed",c);h.on("content.unload:before",function(){k.statusCollection=
{}});h.on("completionApi.hasRequiredActivities",e);h.on("questionApi.hasRequiredQuestions",e);h.on("completionApi.allPageActivitiesComplete",f);h.on("questionApi.allQuestionsAnswered",f)};m.prototype.extendedContentLinkClick=function(a){var c=this,e=a[0].getAttribute("data-navigation-direction").toLowerCase();a=Object.keys(this.statusCollection).filter(function(a){return/player/i.test(a)});h.trigger("navigationButtons.extendedContentLinkClick:before",this);if(0<a.length&&(a=this.statusCollection[a[0]],
!a[e].enabled)){this.config.showDisabledMessages&&k.notify(this.config.disabledMessages[e]);h.trigger("navigationButtons.extendedContentLinkClick:after",this);return}h.triggerCheckEvent("navigation.enabled:check",e).then(function(){switch(e){case "previous":c.$previousButton.enabled&&q.requestPrevious();break;case "next":c.$nextButton.enabled&&q.requestNext()}});h.trigger("navigationButtons.extendedContentLinkClick:after",this)};m.prototype.updateButtonsState=function(a){var c=!0,e=!0,f=!0,l=!0,k=
this.statusCollection;a&&(k[a.origin]=a);Object.keys(k).forEach(function(a){c&=k[a].next.enabled;e&=k[a].previous.enabled;f&=k[a].next.visible;l&=k[a].previous.visible});this.$nextButton=this.$nextButton||d(this.config.nextButtonSelector);this.$previousButton=this.$previousButton||d(this.config.previousButtonSelector);a=c?this.config.buttonEnabledClass:this.config.buttonDisabledClass;var h=e?this.config.buttonEnabledClass:this.config.buttonDisabledClass;var n=f?this.config.buttonVisibleClass:this.config.buttonInvisibleClass;
var m=l?this.config.buttonVisibleClass:this.config.buttonInvisibleClass;this.$nextButton.removeClass(this.config.buttonDisabledClass+" "+this.config.buttonEnabledClass+" "+this.config.buttonVisibleClass+" "+this.config.buttonInvisibleClass+" ").addClass(a+" "+n);this.$nextButton.enabled=c;this.$previousButton.removeClass(this.config.buttonDisabledClass+" "+this.config.buttonEnabledClass+" "+this.config.buttonVisibleClass+" "+this.config.buttonInvisibleClass+" ").addClass(h+" "+m);this.$previousButton.enabled=
e};m.prototype.registerRequiredActivity=function(a){this.updateButtonsState(a.getButtonsState())};m.prototype.unregisterRequiredActivity=function(a){delete this.statusCollection[a.getButtonsState().origin];this.updateButtonsState(null)};h.trigger("navigationButtons.loaded",!0,m);return m});
define("skin/components/courseProgress/courseProgress","module jquery underscore app/configuration app/events app/courseApi skin/components/component/component app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a){var f={name:"courseProgress",id:m.id,displayName:"Course Progress",enabled:!0,startVisible:!0,linkSelector:".CourseProgressLink",linkAction:"none",compactMode:!1,compactModeDelimeter:a.t("components.courseProgress.delimeter"),lineMode:!1,showPagesCount:20,containerSelector:".CourseProgress",
listClass:"CourseProgressList",listItemClass:"CourseProgressListItem",rangeClass:"CourseProgressRange",lengthClass:"CourseProgressLength",currentItemClass:"CourseProgressCurrent",delimeterClass:"CourseProgressDelimeter",lineClass:"CourseProgressLine",item:{visibleClass:"Visible",hiddenClass:"Hidden",enabledClass:"Enabled",disabledClass:"Disabled",activeClass:"Active",progressClass:"Progress",completedClass:"Completed",incompletedClass:"Incompleted",satisfiedClass:"Satisfied",notSatisfiedClass:"NotSatisfied"},
initAfter:"checkScorm",renderAfter:"renderAfter"};m=function(a){t.call(this,f,a)};m.prototype=Object.create(t.prototype);m.constructor=m;m.config=f;m.prototype.renderAfter=function(){this.$el.attr("tabindex",-1)};m.prototype.checkScorm=function(){"undefined"!==typeof SCORM_TYPE&&"non-scorm-player"!==SCORM_TYPE&&(this.$container=this.$el.parent().find(this.config.containerSelector),p.on("content.loaded",this.generateProgress.bind(this)),p.on("player.start",this.generateProgress.bind(this)))};m.prototype.generateProgress=
function(){var a=q.getMenuItems();a=a.filter(function(a){return a&&null!=a.href&&""!==a.href&&!a.inaccessible});this.config.compactMode?this.generateCompactProgress(a,this.$container):this.config.lineMode?this.generateLineProgress(a,this.$container):this.generateExpandedProgress(a,this.$container)};m.prototype.generateCompactProgress=function(a,c){var e=h.find(a,function(a){return!0===a.active});e=h.indexOf(a,e)+1;a=a.length;e=d('<span class="'+this.config.currentItemClass+'">'+e+"</span>");var f=
d('<span class="'+this.config.delimeterClass+'">'+this.config.compactModeDelimeter+"</span>");a=d('<span class="'+this.config.lengthClass+'">'+a+"</span>");c.html(e.add(f).add(a))};m.prototype.generateLineProgress=function(a,c){var e=h.find(a,function(a){return!0===a.active});a=100*(h.indexOf(a,e)+1)/a.length;e=Math.ceil(a);c.attr("data-progress",e+"%");var f=c.find("."+this.config.lineClass);f.length?(f.width(a+"%"),f.attr("data-progress",e+"%")):c.html(d('<div class="'+this.config.lineClass+'">').width(a+
"%").attr("data-progress",e+"%"))};m.prototype.generateExpandedProgress=function(a,c){a=this.getRange(a);a=this.createList(a);var e=d('<span class="'+this.config.rangeClass+'">'+(this.startIndex+1)+" - "+this.endIndex+"</span>");var f=d('<span class="'+this.config.lengthClass+'">/'+this.length+"</span>");c.html(e.add(a).add(f))};m.prototype.getRange=function(a){var c=this.config.showPagesCount,e=a.length,f=0,l=0;f=h.find(a,function(a){return!0===a.active});f=(h.indexOf(a,f)/c|0)*c;l=f+c;l=l>e?e:l;
this.startIndex=f;this.endIndex=l;this.length=e;return a.slice(f,l)};m.prototype.createList=function(a){var c=d('<ul class="'+this.config.listClass+'">');h.each(a,function(a){var e=d('<li class="'+this.config.listItemClass+'" />');e=this.handleItemState(e,a);c.append(e)},this);return c};m.prototype.handleItemState=function(a,c){var e=this.config.item;a.attr("title",c.Title);c.visible?a.addClass(e.visibleClass).removeClass(e.hiddenClass):a.addClass(e.hiddenClass).removeClass(e.visibleClass);c.enabled?
a.addClass(e.enabledClass).removeClass(e.disabledClass):a.addClass(e.disabledClass).removeClass(e.enabledClass);c.progress?a.addClass(e.progressClass):a.removeClass(e.progressClass);c.active?a.addClass(e.activeClass):a.removeClass(e.activeClass);"unknown"!==c.satisfied&&(c.satisfied?a.addClass(e.satisfiedClass).removeClass(e.notSatisfiedClass):a.removeClass(e.satisfiedClass).addClass(e.notSatisfiedClass));"unknown"!==c.completed&&(c.completed?a.addClass(e.completedClass).removeClass(e.incompletedClass):
a.addClass(e.incompletedClass).removeClass(e.completedClass));return a};p.trigger("courseProgress.loaded",!0,m);return m});
define("app/sessionData",["module","app/courseApi","app/configuration","app/events","app/utilities/XyTools"],function(m,d,h,n,p){var q={};var t=function(){};t.prototype.init=function(){n.trigger("sessionData.init:before",this);this.config=p.extend(q,h.configure(m.id));n.trigger("sessionData.init:after",this)};t.prototype.getStatus=function(k){return d.processScorecard(!0,d.getParentActivity(d.findScorecard(),"id"))};t.prototype.getRecentStatus=function(){n.trigger("communication.saveQuestionsToPlayer");
return this.getStatus()};t.prototype.getRecentQuestionsStatus=function(){function d(a){var f=a.pages.reduce(function(a,e){return a.concat(e.questions)},[]);return f.concat.apply(f,a.containers.map(d))}var a=this.getRecentStatus();return d(a)};t=new t;n.trigger("sessionData.loaded",!0,t);return t});
define("app/submitAll","module jquery app/configuration app/events app/utilities/XyTools app/courseApi app/sessionData app/navigation notification lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a,f){p=function(){this.config={infoMessage:f.t("components.submitAllButton.info")||"Please review your responses prior to submission. Once you have submitted your responses you will not be able to change them.",confirmMessage:f.t("components.submitAllButton.confirm")||"Do you really want to submit all your answers?",
acceptanceCheckMessage:f.t("components.submitAllButton.acceptanceCheck")||"I understand that any unanswered questions will also be submitted",submitAllButtonTitle:f.t("components.submitAllButton.title")||"Submit All",cancelButtonTitle:f.t("elements.notification.cancel")||"Cancel",confirmDialogOKButtonSelector:".ConfirmOkButton",confirmDialogCheckboxSelector:"input[type=checkbox]",confirmDialogLabelSelector:"label",statusContainerSelector:".SectionStatusContainer",sectionStatusSelector:".SectionStatus",
questionSelector:".QuestionItem",sectionStatusPlaceholderId:"sectionStatusPlaceholder",oneByOneContextualAwareness:!0};this.config.infoTemplate='<div class="SubmitAllConfirmationDialog"><p><b>'+this.config.infoMessage+'</b></p><div id="'+this.config.sectionStatusPlaceholderId+'"></div></div>';this.config.confirmTemplate='<div class="SubmitAllConfirmationDialog"><p><b>'+this.config.confirmMessage+'</b></p><label><input type="checkbox" /> '+this.config.acceptanceCheckMessage+"</label></div>";this.courseExit=
!1;this.sectionStatus=null};p.prototype.init=function(){var a=this;this.config=d.extend(this.config,h.configure(m.id));n.on("navigation.enabled:check",function(c,f,d){var e=c[0];c=c[1];var k=q.getBookmarkType();if(!l.isAssessment()||l.isStatusSaved())f();else if(/Resume/.test(k)&&"previous"===e)f();else if(/Resume/.test(k)||q.hasAttemptedQuestions())if(q.isScorecard())f();else{if(!c)"next"===e?c=q.isScorecard(q.getFollowingPageId())?q.getFollowingPageId():q.getNextPage():"previous"===e&&(c=q.getPreviousPage());
else if(/Resume/.test(k)&&(!q.isAssessment(c)||!q.isScorecard(c))&&(a.isSubmitAll()||a.hasUnansweredQuestions())){f();return}if(q.isAssessment(c)&&q.isScorecard(c)||c&&!q.isAssessment(c)){var h=q.findScorecard();if(h===c&&!a.isSubmitAll()&&q.hasSubassessments())f();else{var u=(u=a.questionApi.getPageData(q.getCurrentActivity("guid")).assessmentroot)?u.guid:null;a.isSubmitAll()||a.hasUnansweredQuestions()?a.promptUser(function(){n.trigger("submitAll.submit:before",!1,l,u);q.saveSubmitAllStatus(h);
n.trigger("submitAll.submit:after",!1,l,u);f()},d):(a.isSubmitAll()||a.hasUnansweredQuestions()||(n.trigger("submitAll.submit:before",!1,l,u),q.saveSubmitAllStatus(h),n.trigger("submitAll.submit:after",!1,l,u)),f())}}else f()}else f()});n.on("course.unload:before",function(){var c=a.questionApi.getPageData(q.getCurrentActivity("guid")).assessmentroot;c=c?c.guid:null;if(l.isAssessment()&&!l.isStatusSaved()){var f=q.getBookmarkType();(/Retake/.test(f)||/Review/.test(f))&&q.hasAttemptedQuestions()&&
(l.courseExit=!0,n.trigger("submitAll.submit:before",!1,l,c),q.saveSubmitAllStatus(q.findScorecard()),n.trigger("submitAll.submit:after",!1,l,c))}});n.on("sectionStatusInstance:created",function(c){a.sectionStatus=c});n.on("questionApi.loaded",function(c){a.questionApi=c})};p.prototype.promptUser=function(c,e){function f(){var a=d.config.buttons.length;d.close();e.apply(d);0<a&&d.config.buttons[a-1].click.apply(d);n.off("sectionStatus.navigate:before",f)}var l=this;n.trigger("sectionStatus.show:before",
l.sectionStatus);"undefined"===typeof c&&(c=this.submit);"function"!==typeof e&&(e=function(){});var d=a.confirm(this.config.infoTemplate,{buttons:[{text:l.config.submitAllButtonTitle,buttonClass:a.confirmConfig.buttonOkClass,click:l.confirmUser.bind(l,c,e)},{text:l.config.cancelButtonTitle,buttonClass:a.confirmConfig.buttonCancelClass,click:e}],open:function(){if(l.sectionStatus){var a=l.sectionStatus.$content.clone(!0).removeClass("Hidden");this.content.find("#"+l.config.sectionStatusPlaceholderId).append(a);
this.resize();n.on("sectionStatus.navigate:before",f)}},close:f});n.trigger("sectionStatus.show:after",l.sectionStatus)};p.prototype.confirmUser=function(c,e){var f=this;a.confirm(this.config.confirmTemplate,c,e,{open:function(){var a=this.popup.find(f.config.confirmDialogOKButtonSelector);var c=this.content.find(f.config.confirmDialogCheckboxSelector);f.hasUnansweredQuestions()?c[0].disabled||(a.addClass("Disabled")[0].disabled=!0,c.on("change",function(){this.checked&&(this.disabled=!0);a.removeClass("Disabled")[0].disabled=
!1})):this.content.find(f.config.confirmDialogLabelSelector).hide()}})};p.prototype.isAssessment=function(){return this.config.oneByOneContextualAwareness||0<this.questionApi.getTimeLimit()?q.isAssessment():q.isSubmitAllMode()};p.prototype.isSubmitAll=function(a){return q.isSubmitAllMode(a)};p.prototype.isStatusSaved=function(){return q.isSubmitAllStatusSaved()};p.prototype.submit=function(a,e){if(l.isSubmitAll()||l.config.oneByOneContextualAwareness||l.questionApi.getTimeLimit())"string"!==typeof a&&
(a=q.findScorecard()),"string"!==typeof e&&(e=(e=l.questionApi.getCurrentPageData().assessmentroot)?e.guid:""),n.trigger("submitAll.submit:before",!1,l,e),q.saveSubmitAllStatus(a),n.trigger("submitAll.submit:after",!1,l,e),k.requestExitContainer(a)};p.prototype.isLeavingAssessment=function(a,e){var c=q.getBookmarkType();if(!q.isAssessment()||/Resume/.test(c)&&"previous"===a)return!1;e||("next"===a?e=q.getNextPage():"previous"===a&&(e=q.getPreviousPage()));return q.isAssessment(e)&&q.isScorecard(e)?
!0:q.isAssessment(e)&&q.isScorecard(e)||e&&!q.isAssessment(e)};p.prototype.hasUnansweredQuestions=function(){return t.getRecentQuestionsStatus().some(function(a){return"Skipped"===a.status||"Not Attempted"===a.status})};p.prototype.hasContextAwareness=function(){return this.isSubmitAll()?!1:this.config.oneByOneContextualAwareness||0<this.questionApi.getTimeLimit()};var l=new p;n.trigger("submitAll.loaded",!0,l);return l});
define("skin/components/submitAllButton/submitAllButton","module app/navigation app/events app/courseApi app/submitAll skin/components/component/component app/utilities/XyTools notification lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a){var f={name:"submitAllButton",id:m.id,displayName:"Submit All",type:"active",enabled:!1,startVisible:!1,linkSelector:".SubmitAllButtonLink",linkAction:"submitAll",zIndex:100,initAfter:"initAfter"};m=function(a){q.call(this,f,a)};m.prototype=Object.create(q.prototype);
m.constructor=m;m.config=f;m.prototype.initAfter=function(){"undefined"===typeof SCORM_TYPE||"non-scorm-player"===SCORM_TYPE?this.hideLink():(this.enable(),h.on("content.loaded",this.update.bind(this)))};m.prototype.submitAll=function(){p.promptUser()};m.prototype.update=function(){p.isSubmitAll()&&!p.isStatusSaved()&&n.hasQuestions()?this.showLink():this.hideLink()};h.trigger("submitAllButton.loaded",!0,m);return m});
define("app/courseExit","module app/configuration app/events app/utilities/XyTools lang/lang app/courseApi app/submitAll notification".split(" "),function(m,d,h,n,p,q,t,k){var a;p=function(){this.config={confirmDialogCheckboxSelector:"input[type=checkbox]",confirmDialogOKButtonSelector:".ConfirmOkButton",confirmDialogLabelSelector:"label"}};p.prototype.init=function(){h.trigger("courseExit.init:before",this);this.config=n.extend(this.config,d.configure(m.id));""!==window.PLAYER_TYPE&&(window.onbeforeunload=
this.captureExit.bind(this));window.onunload=this.announceExit;a=window.Xyleme.environment.IS_DEPLOY;h.trigger("courseExit.init:after",this)};p.prototype.captureExit=function(f){h.trigger("courseExit.captureExit:before",this);var l=q.getExitMessage(t.config.oneByOneContextualAwareness);f||(f=window.event||{});if(a&&l&&!this.wasNotified)return this.wasNotified=!0,setTimeout(function(){this.wasNotified=!1}.bind(this),1),f.returnValue=l,h.trigger("courseExit.captureExit:after",this),l;h.trigger("courseExit.captureExit:after",
this)};p.prototype.announceExit=function(){h.trigger("course.unload")};p.prototype.exitNow=function(){h.trigger("courseExit.exitNow:before",this);a?q.getExitConfirmation(this.closeWindow,t.config.oneByOneContextualAwareness):("Server-side"!==window.PLAYER_TYPE&&"CSPModern"!==window.PLAYER_TYPE&&top.close(),h.trigger("courseExit.exitNow:after",this))};p.prototype.closeWindow=function(){window.onbeforeunload="";window.onunload="";h.trigger("course.unload");if("Server-side"!==window.PLAYER_TYPE&&"CSPModern"!==
window.PLAYER_TYPE&&(!a||window.opener||top.opener))try{top.close()}catch(f){}};p=new p;h.trigger("courseExit.loaded",!0,p);return p});
define("skin/components/exitButton/exitButton","module app/navigation app/events app/courseExit skin/components/component/component app/utilities/XyTools lang/lang app/hotkeys".split(" "),function(m,d,h,n,p,q,t,k){var a={name:"exitButton",id:m.id,displayName:"Exit",type:"active",enabled:!0,hideLinksIfEmpty:!1,linkSelector:".ExitButtonLink",linkAction:"exit",zIndex:100,startVisible:!0,hotkeyCombination:"ALT+X"};m=function(f){p.call(this,a,f)};m.prototype=Object.create(p.prototype);m.constructor=m;
m.config=a;m.prototype.exit=function(){n.exitNow()};h.trigger("exitButton.loaded",!0,m);return m});
define("skin/regions/footer/footer","module app/utilities/XyTools skin/regions/region/region skin/components/navigationButtons/navigationButtons skin/components/courseProgress/courseProgress skin/components/submitAllButton/submitAllButton skin/components/exitButton/exitButton app/events".split(" "),function(m,d,h,n,p,q,t,k){h=new h;h.config=d.extend(h.config,{name:"footer",id:m.id,displayName:"Footer",regionSelector:"#PageFooter",role:"contentinfo",regionButtonSelector:"",componentLinkDisplay:{text:!0,
icon:!0},clickHandlerNS:"FooterRegionLink"});k.trigger("footer.loaded",!0,h);return h});
define("skin/regions/regions","module jquery app/configuration app/events app/utilities/XyTools skin/regions/header/header skin/regions/sidebarLeft/sidebarLeft skin/regions/innerHeader/innerHeader skin/regions/menu/menu skin/regions/content/content skin/regions/innerFooter/innerFooter skin/regions/sidebarRight/sidebarRight skin/regions/footer/footer".split(" "),function(m,d,h,n,p,q,t,k,a,f,l,c,e){var u=new function(){this.config={};this.modules=[q,t,k,a,f,l,c,e];this.init=function(){var a=this;this.config=
p.extend(this.config,h.configure(m.id));d(function(){a.initRegions()})};this.initRegions=function(){p.logGroup("Skin Regions");n.trigger("regions.init:before",this);this.modules.forEach(function(a){"function"===typeof a.init&&a.init()});n.trigger("regions.init:after",this);p.logGroupEnd()}};n.trigger("regions.loaded",!0,u);return u});
define("skin/components/calculator/calculator","module jquery skin/components/component/component app/events popup app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t){var k={name:"calculator",id:m.id,displayName:"Calculator",linkSelector:".CalculatorLink",linkAction:"openPopup",contentSelector:".CalculatorContent",expressionSpan:".CalculatorExpression",expressionLineSelector:".CalculatorExpressionLine",expressionLineClass:"CalculatorExpressionLine",inputSelector:".CalculatorInput",
enabled:!0,hideLinksIfEmpty:!1,startVisible:!0,zIndex:100,height:"auto",minHeight:"300px",maxHeight:"auto",width:"250px",title:t.t("components.calculator.title")||"Calculator",modal:!1,trapFocus:!1,draggable:!0,closeOnEscape:!0,hotkeyCombination:"ALT+C",popupModuleName:"calculatorPopup",renderAfter:"renderAfter"};m=function(a){h.call(this,k,a)};m.prototype=Object.create(h.prototype);m.constructor=m;m.config=k;m.prototype.renderAfter=function(){this.state={};"show"===this.config.linkAction&&this.openInMenu()};
m.prototype.openInMenu=function(){this.bindButtonEvents();n.on("calculator.show:before",this.renderHistory.bind(this))};m.prototype.openPopup=function(){var a=this;a.hideContent();a.popup&&(a.popup.destroy(),a.popup=null);a.renderHistory();a.popup=new p({width:a.config.width,height:a.config.height,minHeight:a.$content.height()+a.$content.find(a.config.expressionSpan).height()+"px",content:a.$content.clone(!0).removeClass("Hidden"),title:a.config.title,modal:a.config.modal,trapFocus:a.config.trapFocus,
draggable:a.config.draggable,closeOnEscape:a.config.closeOnEscape,close:function(){a.saveExpression()},moduleName:a.config.popupModuleName});a.popup.open();a.bindButtonEvents();return!1};m.prototype.bindButtonEvents=function(){function a(a,e){function c(){return q.evaluateExpression(""+f.state.num1+f.state.lastFn+f.state.num2)}function k(a){A.html(a);l.val(a);isNaN(a)||m(a)||(f.state.num2=a)}function h(a){A=d("<span>"+a+"</span>");p.append(A)}function n(){var a=d('<span class="'+f.config.expressionLineClass+
'" style="display: none;"><span></span></span>');p.before(a);A=p.children("span").eq(0);p=a}function m(a){return void 0===a||""===a}var t=l.val(),p=f.popup?f.popup.content.find(f.config.expressionLineSelector).eq(0):f.$content.find(f.config.expressionLineSelector).eq(0),A=p.children("span").last();t.length-1||!t.match(/\*|\/|\+|-/)||(k(""),t="");if("undefined"!==a)JSON.stringify(f.state)===JSON.stringify({})&&(l.val(""),t="",p.show()),"."===f.state.lastFn&&(f.state.num2=f.state.num2||"0",-1===f.state.num2.indexOf(".")&&
(a="."+a,f.state.preLastFn&&(f.state.lastFn=f.state.preLastFn))),k(t+a);else if("undefined"!==e){switch(e){case "del":t=t.slice(0,-1);"."===t.slice(-1)&&(t=t.slice(0,-1));k(t);break;case "c":l.val("");p.empty();h("");f.state={};l.attr("placeholder","0");break;case "+/-":if(0===t.length)break;t="-"===t.charAt(0)?t.slice(1):"-"+t;k(t);break;case "+":case "-":case "/":case "*":JSON.stringify(f.state)===JSON.stringify({})?""!==l.val()&&(f.state.num1=l.val(),p.show(),h(f.state.num1),h(e),h(""),k("")):
m(f.state.num2)?m(f.state.num1)||(a=p.children("span"),m(f.state.num2)&&0<=["+","-","*","/"].indexOf(d(a[a.length-2]).text())&&(d(a[a.length-1]).remove(),d(a[a.length-2]).remove()),h(e),h("")):(m(f.state.num1)?f.state.num1=f.state.num2:f.state.num1=c(),f.state.num2=void 0,p.show(),h(e),h(""),k(""),l.attr("placeholder",e));break;case "=":m(f.state.num2)||m(f.state.num1)||(h("="),t=c(),h(t),n(),l.val(t),f.state={},l.attr("placeholder","0"))}"="!==e&&"c"!==e&&"+/-"!==e&&"del"!==e&&(f.state.preLastFn=
f.state.lastFn,f.state.lastFn=e)}}var f=this,l=d(f.config.inputSelector);n.trigger("Calculator.bindEvents:before",this);d(f.config.contentSelector).off("click").on("click","button",function(c){var e=d(this);c=e.data("digit")+"";e=e.data("sign");a(c,e)});d(f.config.contentSelector).off("keyup").on("keyup",function(c){var e="k"+c.keyCode,f={k48:"0",k49:"1",k50:"2",k51:"3",k52:"4",k53:"5",k54:"6",k55:"7",k56:"8",k57:"9",k96:"0",k97:"1",k98:"2",k99:"3",k100:"4",k101:"5",k102:"6",k103:"7",k104:"8",k105:"9"}[e]||
"undefined";e={k107:"+",k187:"+",k109:"-",k189:"-",k106:"*",k110:".",k111:"/",k191:"/",k13:"=",k8:"del"}[e]||"undefined";c.shiftKey&&"8"===f&&(f="undefined",e="*");a(f,e)});n.trigger("Calculator.bindEvents:after",this);return this};m.prototype.saveExpression=function(){this.history=d(this.popup.content).find(this.config.expressionSpan).html()};m.prototype.renderHistory=function(){var a=this.history?this.history:'<span class="'+this.config.expressionLineClass+'"><span></span></span>';this.$content.find(this.config.expressionSpan).html(a);
this.$content.find(this.config.inputSelector).val("").focus()};n.trigger("Calculator.loaded",!0,m);return m});
define("skin/components/resources/resources","module skin/components/component/component skin/regions/menu/menu popup app/events app/utilities/XyTools".split(" "),function(m,d,h,n,p,q){var t={name:"resources",id:m.id,displayName:"Resources",linkSelector:".CourseResourcesLink",openInPopup:!1,contentSelector:".CourseResourcesContent",startVisible:!1,supplementSelector:".Supplement",resourcesSelector:".Resources",mediaSelector:"video, audio",item:".Resource",itemContent:".SupplementItem",itemLink:".ResourcesItem",
itemActiveClass:"Active",itemOpenClass:"Open",itemClosedClass:"Closed",singleClickResources:["InternalLink","ExternalLink","EmbeddedPrintObject"],draggable:!0,closeOnEscape:!0,renderAfter:"renderAfter"};m=function(k){d.call(this,t,k)};m.prototype=Object.create(d.prototype);m.constructor=m;m.config=t;m.prototype.renderAfter=function(){var d=this;d.$currentItem="";d.renderItems();d.handleContent();d.$content.html().length&&d.restore();p.on(this.config.name+".openItem",function(a,f){d.openItemByGuid(a,
f)});this.config.openInPopup||setTimeout(function(){p.trigger("content.loaded",d.$content);p.trigger("media.pause",this.$content)},0)};m.prototype.initPopup=function(){var d=this;p.trigger(this.config.name+".initPopup:before",this);d.popup instanceof n&&(d.popup.destroy(),d.popup=null);d.popup=new n({width:d.config.width,height:d.config.height,content:d.$currentItem,title:d.config.title,modal:d.config.modal,draggable:d.config.draggable,closeOnEscape:d.config.closeOnEscape,moduleName:this.config.name+
"Popup",open:function(){p.trigger("content.loaded",this.content);this.content.find(d.config.mediaSelector).trigger("media.resize")},close:function(){d.$content.find("."+d.config.itemActiveClass).removeClass(d.config.itemActiveClass)},hasAttachedContent:!0});d.popup.open();p.trigger(this.config.name+".initPopup:after",this);return this};m.prototype.openItemByGuid=function(d,a){d=this.$content.find(this.config.itemContent+'[data-guid="'+d+'"]');p.trigger(this.config.name+".openItemByGuid:before",this);
h.show();this.show();this.openItem(d,a);d.find(this.config.mediaSelector).trigger("media.resize");p.trigger(this.config.name+".openItemByGuid:after",this)};m.prototype.openItem=function(d,a){var f=this.$content.find(this.config.itemContent),l=d.parents(this.config.item),c=l.find(this.config.itemLink),e=this.$content.find(this.config.item),k=d.find(".mejs-audio");p.trigger(this.config.name+".openItem:before",this);if(0>this.config.singleClickResources.indexOf(l.data("resourceType"))){e.removeClass(this.config.itemActiveClass).find(this.config.itemLink).attr("aria-expanded",
!1);l.addClass(this.config.itemActiveClass);c.attr("aria-expanded",!0);if(!this.config.openInPopup&&!a)f.removeClass(this.config.itemOpenClass).addClass(this.config.itemClosedClass),d.removeClass(this.config.itemClosedClass).addClass(this.config.itemOpenClass),d.find(this.config.mediaSelector).trigger("media.resize"),p.trigger("media.resumeAutoplay",d);else if(this.config.openInPopup||a)this.$currentItem=d.clone(!0),this.initPopup();0<k.length&&p.trigger("component.active",this.$content)}else d.children("a").eq(0)[0].click();
p.trigger("elements.resize",d,this.$content);p.trigger(this.config.name+".openItem:after",this)};m.prototype.closeItem=function(d,a){var f=d.parents(this.config.item),l=f.find(this.config.itemLink);p.trigger(this.config.name+".closeItem:before",this);this.config.openInPopup||a?(this.config.openInPopup||a)&&this.popup&&this.popup.close():(p.trigger("media.pause",d),d.removeClass(this.config.itemOpenClass).addClass(this.config.itemClosedClass),l.attr("aria-expanded",!1));f.removeClass(this.config.itemActiveClass);
p.trigger(this.config.name+".closeItem:after",this)};m.prototype.close=function(){this.popup&&this.popup.close();this.hideAllButLinks()};m.prototype.renderItems=function(){var d=this,a=d.$content.find(d.config.item);p.trigger(this.config.name+".renderItems:before",this);a.each(function(a){var f=$(this),c=f.find(d.config.itemLink).eq(0);""===c.text()&&c.text("Item "+(a+1));0<=d.config.singleClickResources.indexOf(f.data("resourceType"))&&c.attr({title:f.find(d.config.itemContent).children().eq(0).attr("title"),
"aria-controls":"","aria-expanded":""});c.on("click",function(a){var c=$(this),e=c.closest(d.config.item);c=c.nextAll(d.config.itemContent);a.preventDefault();e.hasClass(d.config.itemActiveClass)?d.closeItem(c):d.openItem(c)})});p.trigger(this.config.name+".renderItems:after",this)};m.prototype.handleContent=function(){var d=this;this.$content.on("click keypress",this.config.supplementSelector,function(a){/^key/.test(a.type)&&32!==a.keyCode&&13!==a.keyCode||(a.preventDefault(),$(a.currentTarget).attr("aria-expanded",
function(a,l){return"true"!==l}).next(d.config.resourcesSelector).toggleClass(d.config.itemClosedClass))})};p.trigger("resources.loaded",!0,m);return m});
define("skin/components/courseResources/courseResources","module skin/components/component/component skin/components/resources/resources skin/regions/menu/menu popup app/events app/utilities/XyTools".split(" "),function(m,d,h,n,p,q,t){var k={name:"courseResources",id:m.id,displayName:"Course Resources",linkSelector:".CourseResourcesLink",contentSelector:".CourseResourcesContent",startVisible:!1,hotkeyCombination:"CTRL+ALT+C"};m=function(a){k=t.extend(h.config,k);d.call(this,k,a)};m.prototype=Object.create(h.prototype);
m.constructor=m;m.config=k;q.trigger("courseResources.loaded",!0,m);m.prototype.renderAfter=function(){h.prototype.renderAfter.call(this);var a=this;a.$scrollableParent=t.getScrollableParent($(a.config.contentSelector)[0]);$(a.config.contentSelector).on("scrollCourseResourcesToElement",function(f,l){a.$scrollableParent.animate({scrollTop:l.offsetTop},500)})};return m});
define("skin/components/pageResources/pageResources","module skin/components/component/component skin/components/resources/resources skin/regions/menu/menu popup app/events app/utilities/XyTools".split(" "),function(m,d,h,n,p,q,t){var k={name:"pageResources",id:m.id,displayName:"Page Resources",linkSelector:".PageResourcesLink",contentSelector:".PageResourcesContent",startVisible:!1,initAfter:"initAfter",containerSelector:".PageResourcesContainer",openInPopup:!0,hotkeyCombination:"CTRL+ALT+R"};m=
function(a){k=t.extend(h.config,k);d.call(this,k,a)};m.prototype=Object.create(h.prototype);m.constructor=m;m.config=k;m.prototype.initAfter=function(){q.on("content.loaded:before",this.checkExistance.bind(this));q.trigger("pageResourcesComponent.initialized",!0,this)};m.prototype.checkExistance=function(a){var f=a.find(this.config.containerSelector);f.length||(f=a.filter(this.config.containerSelector));f.detach();f.length?(this.enable(),this.showLink(),this.renderContent(f)):(this.$content.html(""),
this.remove())};m.prototype.renderContent=function(a){var f=this;this.$content.empty().append(a.show());this.$resources=this.$content.find(this.config.supplementItemLinkSelector);this.config.openInPopup||setTimeout(function(){q.trigger("content.loaded",f.$content)},0);this.renderItems()};q.trigger("pageResources.loaded",!0,m);return m});
define("skin/components/glossary/glossary","module jquery underscore skin/components/component/component app/events lang/lang popup app/utilities/XyTools".split(" "),function(m,d,h,n,p,q,t,k){var a={name:"glossary",id:m.id,displayName:"Glossary",enabled:!1,startVisible:!1,linkSelector:".GlossaryLink",contentSelector:".GlossaryContent",glossarySelector:".Glossary",definitionSelector:".Definition",titleSelector:".Title",indexSelector:".Index",audioSelector:"audio",item:".GlossaryItem",itemContent:".Definition",
itemLnk:".GlossaryItemTerm",itemOpenClass:"Open",itemClosedClass:"Closed",popupModuleName:"glossaryPopup",horizontalIndex:!1,useFullAlphabet:!1,collapseSections:!1,openTermInPopup:!1,showPopupTitle:!1,alphabet:q.t("components.glossary.alphabet")||"A B C D E F G H I J K L M O N P Q R S T U V W X Y Z",alphabetShowAll:q.t("components.glossary.alphabetShowAll")||"All",popupWrapperClass:"glossaryPopup",clickHandlerNS:"XylemeGlossaryLink",hotkeyCombination:"ALT+G",renderAfter:"renderAfter"};m=function(f){n.call(this,
a,f)};m.prototype=Object.create(n.prototype);m.constructor=m;m.config=a;m.prototype.renderAfter=function(){var a=this;a.$alphaIndex=a.$content.find(a.config.indexSelector);a.$bottomContainer=a.$content.parents(".Bottom");a.$contents=a.$content.find(".Contents:first");a.$glossary=a.$content.find(a.config.glossarySelector);a.renderAlphabet();a.renderItems();0<a.$contents.html().length&&a.restore();d(a.config.contentSelector).on("scrollGlossaryToElement",function(f,c){a.scrollContent(d(c))});p.on("glossary.openItem",
function(f,c,e,d,k){"undefined"==k&&(k=!0);a.openItemByGuid(f,c,k,e,d)});setTimeout(function(){p.trigger("content.loaded",a.$content);p.trigger("media.pause",this.$content)},0)};m.prototype.renderAlphabet=function(){var a=this,l=a.config.alphabet.split(" "),c=parseFloat(a.$contents.parents(".GlossaryContainer").css("padding-top"));a.$scrollableParent=k.getScrollableParent(a.$contents[0].parentNode);a.$scrollableParent.off(".glossary").on("scroll.glossary",function(e){d(this).height()-c>a.$alphaIndex.innerHeight()&&
this.scrollHeight-c>a.$alphaIndex.innerHeight()+this.scrollTop?(a.$alphaIndex.css("margin-top",this.scrollTop+"px"),a.config.horizontalIndex&&a.$contents.css("margin-top",-this.scrollTop+"px")):a.config.horizontalIndex||a.$alphaIndex.css("margin-top",0)});p.on("menu.resize:after",function(c){c.$areas.$bottom.height()<a.$alphaIndex.innerHeight()&&!a.config.horizontalIndex&&a.$alphaIndex.css("margin-top",0);a.$scrollableParent.trigger("scroll")});p.trigger("glossary.renderAlphabet:before",this);a.$els=
a.$content.find(".Letter");a.$els.each(function(c,f){var e=d(f);c=d('<a href="#"></a>');c.text(e.text()).attr({"aria-keyshortcuts":"Enter",tabindex:0});c.on("click",function(c){c.preventDefault();a.scrollContent(e)});a.$alphaIndex.append(c)});a.config.horizontalIndex&&a.$glossary.addClass("Horizontal");a.config.useFullAlphabet&&(l.forEach(function(c,f){f=a.$alphaIndex.find("a:contains("+c+")");0==f.length?f=d('<a href="#"></a>').text(c).addClass("Disabled").attr("aria-disabled",!0):f.detach();a.$alphaIndex.append(f)}),
a.$alphaIndex.on("click","a",function(a){a.preventDefault();d(this).is(".Disabled")||d(this).addClass("Active").attr("aria-active",!0).siblings().removeClass("Active").attr("aria-active",!1)}));a.config.collapseSections&&(l=d('<a href="#">'+a.config.alphabetShowAll+"</a>").addClass("Reset").addClass("Active").attr("aria-active",!0),a.$alphaIndex.append(l),l.on("click",function(c){c.preventDefault();a.$content.find(".Contents > *").show()}));a.$alphaIndex.find("a").after(document.createTextNode(" "));
p.trigger("glossary.renderAlphabet:after",this);return a.$alphaIndex};m.prototype.scrollContent=function(a,l){var c=a.next();p.trigger("glossary.scrollContent:before",this);l="undefined"===typeof l?!0:l;this.config.collapseSections?(a.siblings().hide(),a.show(),c.show(),l&&a[0].focus()):this.$bottomContainer.animate({scrollTop:a[0].offsetTop},500,function(){l&&a[0].focus()});p.trigger("glossary.scrollContent:after",this)};m.prototype.openItemByGuid=function(a,l,c,e,d){var f=this.$content.find(this.config.item+
'[data-guid="'+a+'"]').find(this.config.itemContent);p.trigger("glossary.openItemByGuid:before",this);l&&!c&&this.show();this.openItem(f,void 0,c,e,d,a);p.trigger("glossary.openItemByGuid:after",this)};m.prototype.close=function(){this.popup&&(this.popup.destroy(),this.popup=null);this.hideAllButLinks()};m.prototype.openItem=function(a,l,c,e,k,h){var f=this.$content.find(this.config.itemContent);var u=a.find(this.config.audioSelector);if(this.config.openTermInPopup||c){this.popup&&(this.popup.destroy(),
this.popup=null);"undefined"===typeof l&&(l=a.siblings(this.config.itemLnk).first().html());c=a.parent();if("undefined"!==typeof l){var n=l.replace(/<br>/g,"\n").replace(/(<([^>]+)>)/ig,"");var m=d("<div>").append(a.clone(!0,!0).children()).wrap('<div guid="'+c.attr("guid")+'">').parent().prepend('<div class="Term"><h1 class="Title">'+l+"</h1></div><br />")}else"undefined"!==typeof e&&"undefined"!==typeof k&&(n=e.replace(/<br>/g,"\n").replace(/(<([^>]+)>)/ig,""),m=d('<div guid="'+h+'"></div>').append(k.clone(!0,
!0).children()).wrap('<div guid="'+c.attr("guid")+'">').parent().prepend('<div class="Term"><h1 class="Title">'+e+"</h1></div><br />"));a=this.config.showPopupTitle?n:"";this.popup=new t({title:a,content:m,popupWrapperClass:this.config.popupWrapperClass,moduleName:this.config.popupModuleName,role:"dialog"});this.popup.open()}else p.trigger("glossary.openItem:before",this),f.removeClass(this.config.itemOpenClass).addClass(this.config.itemClosedClass).attr("aria-hidden",!0).closest(this.config.item).attr({"aria-expanded":!1,
"aria-active":!1}),a.removeClass(this.config.itemClosedClass).addClass(this.config.itemOpenClass).attr("aria-hidden",!1).closest(this.config.item).attr({"aria-expanded":!0,"aria-active":!0}),a[0].focus(),p.trigger("elements.resize",a,this.$content),p.trigger("media.resumeAutoplay",a),p.trigger("glossary.openItem:after",this),this.scrollContent(a,!1);0<u.length&&u.trigger("media.resize")};m.prototype.closeItem=function(a){p.trigger("glossary.closeItem:before",this);p.trigger("media.pause",a);a.removeClass(this.config.itemOpenClass).addClass(this.config.itemClosedClass).attr("aria-hidden",
!0).closest(this.config.item).attr({"aria-expanded":!1,"aria-active":!1});p.trigger("glossary.closeItem:after",this)};m.prototype.renderItems=function(){var a=this;this.$itemLinks=a.$content.find(a.config.itemLnk);p.trigger("glossary.renderItems:before",this);var l=function(c,e){e=d(e);c=e.closest(a.config.item);e=e.nextAll(a.config.itemContent);e.hasClass(a.config.itemClosedClass)?(c.attr({"aria-expanded":!0,"aria-active":!0}),a.openItem(e)):(c.attr({"aria-expanded":!1,"aria-active":!1}),a.closeItem(e))};
this.$itemLinks.each(function(){a.config.openTermInPopup&&$this.attr("aria-haspopup","dialog");d(this).on("click",function(a){a.preventDefault();l(a,this)});d(this).closest(a.config.item).attr({"aria-keyshortcuts":"Enter","aria-expanded":!1,"aria-active":!1,"aria-haspopup":"dialog"})});p.trigger("glossary.renderItems:after",this)};m.prototype.focusContentFirstItem=function(){p.trigger(this.config.name+".focusFirstItem:before",this);this.$itemLinks&&this.$itemLinks.length&&this.$itemLinks.eq(0)[0].focus();
p.trigger(this.config.name+".focusFirstItem:after",this)};p.trigger("glossary.loaded",!0,m);return m});
define("skin/components/mute/mute",["module","jquery","app/events","skin/components/component/component","lang/lang"],function(m,d,h,n,p){var q=!1;var t={name:"mute",id:m.id,displayName:"Mute",type:"active",enabled:!0,startVisible:!0,linkSelector:".MuteLink",linkAction:"toggleMute",muteTitle:p.t("components.mute.mute")||"Mute",unmuteTitle:p.t("components.mute.unmute")||"Unmute",mutedClass:"Muted",unmutedClass:"Unmuted",iconHiddenClass:"IconHidden",mutedIcon:"#mutetoggle",unmutedIcon:"#unmutetoggle",
hotkeyCombination:"ALT+U",renderAfter:"renderAfter"};m=function(d){n.call(this,t,d)};m.prototype=Object.create(n.prototype);m.constructor=m;m.config=t;m.prototype.renderAfter=function(){var d=this;this.$el.addClass(this.config.unmutedClass);this.$icon.find(this.config.mutedIcon).addClass(this.config.iconHiddenClass);h.on("content.loaded",function(){d.updateStatus()})};m.prototype.toggleMute=function(){h.trigger("mute.toggleMute:before",this);q?this.unmuteMedia():this.muteMedia();q=!q;this.toggleDisplay(q);
h.trigger("mute.toggleMute:after",this)};m.prototype.muteMedia=function(){h.trigger("mute.muteMedia:before",this);h.trigger("media.mute",!1,!0,!0);h.trigger("mute.muteMedia:after",this)};m.prototype.unmuteMedia=function(){h.trigger("mute.unmuteMedia:before",this);h.trigger("media.mute",!1,!1,!0);h.trigger("mute.unmuteMedia:after",this)};m.prototype.updateStatus=function(){q&&this.muteMedia()};m.prototype.toggleDisplay=function(d){if(d){d=this.config.unmuteTitle;var a=this.config.mutedClass;var f=
this.config.mutedIcon}else d=this.config.muteTitle,a=this.config.unmutedClass,f=this.config.unmutedIcon;this.$title.text(d);this.$icon.find(this.config.mutedIcon+", "+this.config.unmutedIcon).addClass(this.config.iconHiddenClass);this.$icon.find(f).removeClass(this.config.iconHiddenClass);this.$el.attr("title",d+" "+this.config.hotkeyCombination).removeClass(this.config.mutedClass+" "+this.config.unmutedClass).addClass(a)};h.trigger("mute.loaded",!0,m);return m});
define("app/utilities/helper/helperCore",["underscore","backbone","app/utilities/XyTools","app/events"],function(m,d,h,n){var p=function(){this._decorate();this.initialize.apply(this,arguments)};p.extend=d.Model.extend;m.extend(p.prototype,{initialize:function(){},propagateEvents:!1,publish:function(d){var m;if(this.displayName)var k=this.displayName;else this.config&&this.config.displayName?k=this.config.displayName:this.constructor.displayName&&(k=this.constructor.displayName);var a=k?k+"."+d:d;
k=[].slice.call(arguments,0);var f=k.slice(1);if((m=f.pop())&&"object"===h.type(m)&&m.hasOwnProperty("ctx"))var l=m.ctx;else l=this,"undefined"!==h.type(m)&&f.push(m);n.trigger.apply(n,[a,l].concat(f));if(!this.propagateEvents)return this;this.constructor&&this.constructor.__super__&&this.constructor.__super__.propagateEvents&&this.publish.apply(this.constructor.__super__,k.concat([{ctx:l}]));return this},_getFromSuper:function(d,n){function k(a,f){if(a&&a.constructor&&a.constructor.__super__){var l=
n?a.constructor:a.constructor.__super__;return h.extend(k(a.constructor.__super__,f),l[f])}return{}}return k(this,d)},inherit:function(d,n){if(!d||"string"!==h.type(d))return this;var k=!0===n?this.constructor[d]:this[d];this[d]=h.extend(this._getFromSuper(d,n),k);return this},decorate:!0,_decoratorSkip:"delegateEvents inherit publish constructor decoratorSkipFilter decoratorBefore decoratorAfter".split(" "),_decoratorSkipFilter:function(d){return!/^_/.test(d)},_decorate:function(){if(!1===this.decorate)return this;
this._getInheritableMethods().forEach(function(d){var n=function(){};var k="function"===h.type(this.decoratorBefore)?this.decoratorBefore:n;var a="function"===h.type(this.decoratorAfter)?this.decoratorAfter:n;var f=this[d];this[d]=function(){this.publish(d+":before");k.apply(this,[d].concat(arguments));var l=f.apply(this,arguments);a.apply(this,[d].concat(arguments));this.publish(d+":after");return"undefined"!==typeof l?l:this}.bind(this)},this)},_getDecoratorSkipFilter:function(){var d=this.decoratorSkipFilter;
"function"!==h.type(d)&&(d=function(){return!0});return function(){return this._decoratorSkipFilter.apply(this,arguments)&&d.apply(this,arguments)}.bind(this)},_getDecoratorSkipMethods:function(){var d=[],h;for(h=this.constructor.prototype;h.constructor&&h.constructor.__super__;)d=m.union(d,h.decoratorSkip||[]),h=h.constructor.__super__;return d},_getInheritableMethods:function(){var d=[],h;var k=this._getDecoratorSkipFilter();var a=this._getDecoratorSkipMethods();a=m.union(a,this._decoratorSkip);
for(h=this.constructor.prototype;h.constructor&&h.constructor.__super__;)d.push.apply(d,Object.keys(h).filter(function(f){if("function"===typeof this[f]&&!m.contains(a,f))return k(f,this[f])},this)),h=h.constructor.__super__;return d.filter(function(a,l){return d.indexOf(a)===l})}});n.trigger("helperCore.loaded",!0,p);return p});
define("es6!app/utilities/pageThumbnailGenerator","module app/events app/configuration app/utilities/helper/helperCore app/utilities/XyTools fileCache jquery underscore app/utilities/promiseA".split(" "),function(m,d,h,n,p,q,t,k,a){var f=[],l={};m=n.extend({initialize:function(){this.inherit("config",!0);this.config.contentSelector=this.config.contentContainerSelector||this.config.contentSelector;this._handleLazyLoad=this._handleLazyLoad.bind(this);d.on("ajax.load:success",this._handleLazyLoad);this.wrapTemplate=
'<div class="'+this.config.outerWrapperClass+'"><div class="'+this.config.innerWrapperClass+'" /></div>'},generate:function(c,e){return new a(function(l){var d={},h=[],u,n=function(a,c){if(c.then)return c.then(function(c){return n(a,c)});c=this._handleLazyLoad(c,"success",{cleanUrl:a});return c[a].length?(d[a]=c[a],c[a]):null}.bind(this),m=function(){this._registerCallback(k.intersection(c,f),e)}.bind(this);c=Array.isArray(c)?c:[""+c];f=f.concat(c);if(this.config.useFileCache){var t=0;for(u=c.length;t<
u;t+=1){var p=c[t],D=q[p];D&&(p=n(p,D))&&h.push(p)}}a.all(h).then(function(){m();l(d)})}.bind(this))},_registerCallback:function(a,e){l[e]=l[e]||{};l[e].callback=e;l[e].urls=Array.isArray(l[e].urls)?l[e].urls.concat(a):a},_deregisterCallback:function(a,e){},_handleLazyLoad:function(a,e,d){var c=this,k;if(-1<f.indexOf(d.cleanUrl)||-1<f.indexOf(d.url)){var h=p.getJqueryObject(a);if(this.config.contentSelector&&(a=h.find(this.config.contentSelector),h=a.length?a:h.filter(this.config.contentSelector),
!h.length)){p.warn("Page thumbnails could not gather content for the following pending URL and selector:\nURL: "+d.cleanUrl+"\nselector: "+this.config.contentSelector);return}this.config.stubSelectors.forEach(function(a,e){h.find(a).each(function(){var a=t(this);var f=a.width()||c.config.defaultStubWidth;var l=a.height()||c.config.defaultStubHeight;f=t("<div />").addClass(c.config.stubClass).attr("data-placeholder-source",c.config.stubSelectors[e].replace(/\s/g,"")).css({width:f,height:l});a.before(f)}).remove()});
e=h.wrap(this.wrapTemplate).closest("."+this.config.outerWrapperClass);e=t(e[0].outerHTML.replace(/id="([\w-]+)"([\w\s-="]+)class="([\w\s-]+)"/g,'class="$3 $1"$2').replace(/class="([\w\s-]+)"([\w\s-="]+)id="([\w-]+)"/g,'class="$1 $3"$2').replace(/id="([\w-]+)"/g,'class="$1"'));a={};a[d.cleanUrl]=e;a[d.url]=e;for(k in l)if(-1<l[k].urls.indexOf(d.cleanUrl)||-1<l[k].urls.indexOf(d.url))l[k].callback(a),this._deregisterCallback(l[k],d.cleanUrl),this._deregisterCallback(l[k],d.url);d.url?f.splice(f.indexOf(d.url),
1):d.cleanUrl&&f.splice(f.indexOf(d.cleanUrl),1);return a}},cancel:function(){f=[];l={}}},{config:p.extend({useFileCache:!0,contentSelector:"#PageMain",stubSelectors:".Question;.FlashObject object;.FlashXML object;.Movie video;.Movie iframe;.Movie embed;.Movie object;.ImageMap .ImageMapOverlay;.ScoreCard;.WebComponent;.HtmlPage;.Slideshow;.ThreeSixty".split(";"),stubClass:"ThumbnailStub",defaultStubWidth:"100%",defaultStubHeight:"300px",outerWrapperClass:"PageThumbnailOuter",innerWrapperClass:"PageThumbnailInner"},
h.configure(m.id))});d.trigger("pageThumbnailGenerator.loaded",!0,m);return m});
define("skin/components/navigationTree/navigationTree","module jquery skin/components/component/component app/navigation app/courseApi app/events app/utilities/XyTools es6!app/utilities/pageThumbnailGenerator".split(" "),function(m,d,h,n,p,q,t,k){var a;var f={name:"navigationTree",id:m.id,displayName:"Navigation",contentSelector:".NavigationTreeContent",linkSelector:".NavigationTreeLink",treeSelector:".NavigationTree",contentItemsSelector:".NavigationNode",contentLinksSelector:".NavigationTreeItem",
wrapperClass:"NavigationTreeWrapper",clickHandlerNS:"XylemeNavigationTreeLink",startVisible:!0,collapseContainer:!1,manualExpansion:!1,showNumbering:!1,horizontalOrientation:!1,horizontalOrientationClass:"HorizontalTree",showLabels:!0,showLabelsClass:"ShowLabels",labelSelector:".NavgationTreeItemLabel",showContainerLabels:!0,showContainerLabelsClass:"ShowContainerLabels",showStatuses:!0,showStatusesClass:"ShowStatuses",showIndentationMargin:!0,showIndentationMarginClass:"ShowIndentationMargin",showIndentationGuides:!1,
showIndentationGuidesClass:"ShowIndentationGuides",autonumberClass:"AutoNumbered",expandIconSelector:".NavigationExpansionIcon",treeItem:{visibleClass:"Open",hiddenClass:"Closed",visiblyHiddenClass:"Invisible",expandedClass:"Expanded",collapsedClass:"Collapsed",enabledClass:"Enabled",disabledClass:"Disabled",activeClass:"Active",progressClass:"Progress",completedClass:"Completed",incompletedClass:"Incompleted",satisfiedClass:"Satisfied",notSatisfiedClass:"NotSatisfied",containerClass:"Container",
collapsedContainerClass:"Collapsable"},thumbnails:{showThumbnails:!1,showThumbnailsClass:"ShowThumbnails",largeThumbnailsClass:"LargeThumbnails",forceLargeThumbnails:!1,showStatuses:!0,showStatusesClass:"ShowThumbnailStatuses",selector:".NavigationThumbnail"},hotkeyCombination:"ALT+N",eachItem:function(){},initAfter:"setupEvents",renderAfter:"renderAfter"};m=function(a){h.call(this,f,a)};m.prototype=Object.create(h.prototype);m.constructor=m;m.config=f;m.prototype.setupEvents=function(){var a=this;
if("undefined"!==typeof SCORM_TYPE)q.on("content.loaded",function(){a.rerender()});this.updateThumbnails=this.updateThumbnails.bind(this);return this};m.prototype.renderAfter=function(){var a=this,c;this.hrefNodeMap={};this.$tree=this.$content.find(this.config.treeSelector);this.$treeMarker=this.$tree.parent();if(!this.$tree.length)return t.error("Navigation Tree could not be initialized with the provided tree selector"),!1;this.config.showLabels?this.$tree.addClass(this.config.showLabelsClass):this.$tree.removeClass(this.config.showLabelsClass);
this.config.showContainerLabels?this.$tree.addClass(this.config.showContainerLabelsClass):this.$tree.removeClass(this.config.showContainerLabelsClass);this.config.showStatuses?this.$tree.addClass(this.config.showStatusesClass):this.$tree.removeClass(this.config.showStatusesClass);this.config.showIndentationMargin?this.$tree.addClass(this.config.showIndentationMarginClass):this.$tree.removeClass(this.config.showIndentationMarginClass);this.config.showIndentationGuides?this.$tree.addClass(this.config.showIndentationGuidesClass):
this.$tree.removeClass(this.config.showIndentationGuidesClass);this.config.horizontalOrientation?this.$tree.addClass(this.config.horizontalOrientationClass):this.$tree.removeClass(this.config.horizontalOrientationClass);this.$links=this.$tree.find(this.config.contentLinksSelector);var e=0;for(c=this.$links.length;e<c;e+=1){var f=this.$links.eq(e);var k=f[0].getAttribute("data-target");k&&(this.hrefNodeMap[k]||(this.hrefNodeMap[k]=[]),this.hrefNodeMap[k].push(f))}this.handleAutonumbering();this.handleThumbnails();
this.$content.on("click tap keypress",this.config.contentItemsSelector,function(c){/^key/.test(c.type)&&13!==c.which||(c.preventDefault(),c.stopPropagation(),a.extendedContentLinkClick(d(this)))});this.$content.on("click tap keypress",this.config.expandIconSelector,function(c){/^key/.test(c.type)&&13!==c.which||(c.preventDefault(),c.stopPropagation(),a.toggleContainer(d(this)))})};m.prototype.rerender=function(){q.trigger("navigationTree.render:before");var a=p.getMenuItems();this.prepareTree();this.processItems(a);
this.$treeMarker.append(this.$tree);q.trigger("navigationTree.render:after")};m.prototype.extendedContentLinkClick=function(a){var c=t.getJqueryObject(a),e=c.attr("id")||c.find(this.config.contentLinksSelector).attr("id")||"";c.closest(this.config.contentItemsSelector).hasClass(this.config.disabledClass)||(e=e.replace(/-/g,"."),a=p.comesAfterCurrent(e)?"next":"previous",q.triggerCheckEvent("navigation.enabled:check",a,e).then(function(){q.trigger("navigationTree.extendedContentLinkClick:before",this,
c);n.requestChoose(e);q.trigger("navigationTree.extendedContentLinkClick:after",this,c)}))};m.prototype.toggleContainer=function(a){a=t.getJqueryObject(a);var c=a.closest(this.config.contentItemsSelector);q.trigger("navigationTree.toggleContainer:before",this,a);c.hasClass(this.config.treeItem.expandedClass)?c.removeClass(this.config.treeItem.expandedClass).addClass(this.config.treeItem.collapsedClass):c.addClass(this.config.treeItem.expandedClass).removeClass(this.config.treeItem.collapsedClass);
q.trigger("navigationTree.toggleContainer:before",this,a)};m.prototype.handleAutonumbering=function(){this.config.showNumbering&&this.$tree&&this.$tree.addClass(this.config.autonumberClass)};m.prototype.handleThumbnails=function(){if(!this.config.thumbnails.showThumbnails)return this.$tree.removeClass(this.config.thumbnails.showThumbnailsClass),!1;if(!this.$tree.length)return t.error("Navigation Tree Thumbnails could not be initialized with the provided tree selector"),!1;a=new k;var f=this.config.thumbnails.forceLargeThumbnails||
!this.config.showLabels&&!this.config.showNumbering;this.config.thumbnails.showThumbnails?(this.$tree.addClass(this.config.thumbnails.showThumbnailsClass),f?this.$tree.addClass(this.config.thumbnails.largeThumbnailsClass):this.$tree.removeClass(this.config.thumbnails.largeThumbnailsClass)):this.$tree.removeClass(this.config.thumbnails.showThumbnailsClass);this.config.thumbnails.showStatuses?this.$tree.addClass(this.config.thumbnails.showStatusesClass):this.$tree.removeClass(this.config.thumbnails.showStatusesClass);
f=a.generate(Object.keys(this.hrefNodeMap),this.updateThumbnails);f.then?f.then(function(a){this.updateThumbnails(a)}.bind(this)):this.updateThumbnails(f)};m.prototype.updateThumbnails=function(a){var c,e=this;for(c in a)this.hrefNodeMap[c].forEach(function(f){f.find(e.config.thumbnails.selector).html(a[c].html())})};m.prototype.prepareTree=function(){this.$tree.detach();this.$tree.find(this.config.contentItemsSelector).removeClass(this.config.treeItem.visibleClass).addClass(this.config.treeItem.hiddenClass);
return this};m.prototype.processItems=function(a){a.forEach(function(c){var e=c.id.replace(".nested","").replace(/\./g,"-"),f=this.$tree.find("#"+e).closest(this.config.contentItemsSelector);f=this.handleItemState(f,c);if(!c.isLeaf&&p.wasRandomizationApplied(c.id)){for(;0===f.length&&null!=e;)e=p.getParentActivity(c.id,"id"),null!=e&&(e=e.replace(".nested","").replace(/\./g,"-"),f=this.$tree.find("#"+e).closest(this.config.contentItemsSelector));this.reorderItems(a,f)}this.config.eachItem.apply(this,
f)},this);return this};m.prototype.reorderItems=function(a,c){function e(c){c=d(c).find(f.config.contentLinksSelector).attr("id");for(var e=0,l=a.length;e<l;e++)if(a[e].id.replace(/\./g,"-")===c)return a[e]}var f=this,l=c.find(this.config.contentItemsSelector).first();c=l.parent();l=l.siblings().add(l).filter(this.config.contentItemsSelector).detach();l.sort(function(c,f){return a.indexOf(e(c))-a.indexOf(e(f))});l.appendTo(c);return this};m.prototype.handleItemState=function(a,c){var e=this.config.treeItem;
c.visible?a.addClass(e.visibleClass).removeClass(e.hiddenClass):a.addClass(e.hiddenClass).removeClass(e.visibleClass);c.enabled?a.addClass(e.enabledClass).removeClass(e.disabledClass):a.addClass(e.disabledClass).removeClass(e.enabledClass);c.progress?a.addClass(e.progressClass):a.removeClass(e.progressClass);c.active?(a.addClass(e.activeClass),a.removeClass(e.collapsedClass),a.parents().removeClass(e.collapsedClass),this.config.manualExpansion&&(a.addClass(e.expandedClass),a.removeClass(e.collapsedClass),
a.parents().addClass(e.expandedClass+" "+e.activeClass))):(a.removeClass(e.activeClass),this.config.collapseContainer&&(a.removeClass(e.expandedClass),a.addClass(e.collapsedClass)));c.isLeaf||(this.config.collapseContainer?a.addClass(e.collapsedContainerClass).removeClass(e.expandedClass).addClass(e.collapsedClass):!this.config.collapseContainer&&this.config.manualExpansion&&a.addClass(e.collapsedContainerClass).removeClass(e.collapsedClass).addClass(e.expandedClass),this.config.manualExpansion&&
!c.allChildrenHidden&&a.children(this.config.contentLinksSelector).eq(0).children(this.config.expandIconSelector).eq(0).removeClassSVG(this.config.treeItem.visiblyHiddenClass),a.addClass(e.containerClass));a.removeClass(e.satisfiedClass+" "+e.notSatisfiedClass);"unknown"!==c.satisfied&&(c.satisfied?a.addClass(e.satisfiedClass):a.addClass(e.notSatisfiedClass));a.removeClass(e.completedClass+" "+e.incompletedClass);"unknown"!==c.completed&&(c.completed?a.addClass(e.completedClass):a.addClass(e.incompletedClass));
return a};m.prototype.focusContentFirstItem=function(){q.trigger(this.config.name+".focusFirstItem:before",this);this.$links&&this.$links.length&&this.$links.eq(0)[0].focus();q.trigger(this.config.name+".focusFirstItem:after",this)};q.trigger("navigationTree.loaded",!0,m);return m});
define("app/completionApi","module app/configuration app/events app/utilities/XyTools notification lang/lang".split(" "),function(m,d,h,n,p,q){var t=window.Xyleme.environment.ReviewSession;var k=function(){this.config={incompleteActivityNavigation:{next:!1,previous:!0},incompleteNavigationControlsEnabled:{next:!1,previous:!0},showIncompleteGatePrompt:!0,showIncompleteConfirmation:!0,message:q.t("components.completionApi.alert")||"Please complete all activities before proceeding"};this.currentPage=
"";this._unloadRequirementsOnNavigation=!1;this.activities={}};k.prototype.init=function(){var a=this;h.trigger("completionApi.init:before",this);this.config=n.extend(this.config,d.configure(m.id));h.on("content.url:changed",function(f){a.currentPage=f.replace(".html","")});h.on("navigation.enabled:check",this.navigationCheckHandler);h.on("content.unload:before",this._checkUnloadRequirements);h.trigger("completionApi.init:after",this)};k.prototype.registerRequiredActivity=function(a,l){h.trigger("completionApi.registerRequiredActivity:before",
this);if(!a||t)return!1;l||(l=this.config.message);this.activities[this.currentPage]&&Object.keys(this.activities[this.currentPage]).length||this.config.incompleteNavigationControlsEnabled.next&&this.config.incompleteNavigationControlsEnabled.previous||h.trigger("completionApi.hasRequiredActivities",this);this.activities[this.currentPage]=this.activities[this.currentPage]||{};this.activities[this.currentPage][""+a]=l;h.trigger("completionApi.registerRequiredActivity:after",this)};k.prototype.unregisterRequiredActivity=
function(f){h.trigger("completionApi.unregisterRequiredActivity:before",this);if(!f||!this.activities[this.currentPage])return!1;delete this.activities[this.currentPage][""+f];this.activities[this.currentPage]&&Object.keys(this.activities[this.currentPage]).length||h.trigger("completionApi.allPageActivitiesComplete",a);h.trigger("completionApi.unregisterRequiredActivity:after",this)};k.prototype._checkUnloadRequirements=function(){a._unloadRequirementsOnNavigation&&delete a.activities[a.currentPage]};
k.prototype.checkRequiredActivities=function(){h.trigger("completionApi.checkRequiredActivities:before",a);if(a.hasRequiredActivitiesLeft())var f=!1;else h.trigger("completionApi.allPageActivitiesComplete",a),f=!0;h.trigger("completionApi.checkRequiredActivities:after",a);return f};k.prototype.hasRequiredActivitiesLeft=function(){return a.activities[a.currentPage]&&0<Object.keys(a.activities[a.currentPage]).length};k.prototype.navigationCheckHandler=function(f,l,c){f=f[0];h.trigger("completionApi.navigationCheckHandler:before",
a);a.checkRequiredActivities()||t?(a._unloadRequirementsOnNavigation=!1,h.trigger("completionApi.allPageActivitiesComplete",a),l()):(a.config.incompleteActivityNavigation[f]?a.config.showIncompleteConfirmation?p.confirm(a.activities[a.currentPage][Object.keys(a.activities[a.currentPage])[0]],c,function(){a._unloadRequirementsOnNavigation=!0;l()}):(a._unloadRequirementsOnNavigation=!0,l()):a.config.showIncompleteGatePrompt&&(Object.keys(a.activities[a.currentPage]).forEach(function(c){p.notify(a.activities[a.currentPage][c])}),
c()),h.trigger("completionApi.navigationCheckHandler:after",a))};k.prototype.getButtonsState=function(){return{origin:"CompletionApi",next:{visible:!0,enabled:!1!==this.hasRequiredActivitiesLeft()&&this.config.incompleteNavigationControlsEnabled.next},previous:{visible:!0,enabled:!1!==this.hasRequiredActivitiesLeft()&&this.config.incompleteNavigationControlsEnabled.previous}}};var a=new k;h.trigger("completionApi.loaded",!0,a);return a});
define("app/player/communication","module questionData app/player/dataHandler app/courseApi app/configuration app/events app/utilities/XyTools app/submitAll app/completionApi".split(" "),function(m,d,h,n,p,q,t,k,a){var f=function(){this.config={autoPageCompletion:!0}};var l=function(){this.reportId=this.id="";this.type="other";this.optionsOrder=this.attemptLimit=this.response=this.result=this.answer="";this.flag=!1;this.weight=1;this.hadAnswer=!1;this.keys={ATTEMPT_LIMIT:"a",OPTION_ORDER:"o",FLAG:"f",
QUESTION_STEM:"q"}};l.prototype.parseData=function(a){a=JSON.parse(a);"undefined"!==typeof a[this.keys.ATTEMPT_LIMIT]&&(this.attemptLimit=a[this.keys.ATTEMPT_LIMIT]);a[this.keys.OPTION_ORDER]&&(this.optionsOrder=a[this.keys.OPTION_ORDER]);a[this.keys.FLAG]&&(this.flag=a[this.keys.FLAG])};l.prototype.saveData=function(){var a={};""!==this.attemptLimit&&(a[this.keys.ATTEMPT_LIMIT]=this.attemptLimit);this.optionsOrder&&(a[this.keys.OPTION_ORDER]=this.optionsOrder);this.flag&&(a[this.keys.FLAG]=1);this.questionStem&&
(a[this.keys.QUESTION_STEM]=this.questionStem);return JSON.stringify(a)};f.prototype.init=function(){this.config=t.extend(this.config,p.configure(m.id));this.dataSet={questions:[],other:{},moreData:!1,completed:!1,clean:function(){this.questions=[];this.other={};this.completed=this.moreData=!1}};"undefined"!==typeof API_1484_11&&(this.api=API_1484_11);this.initialized=!1;this.api||t.log("Failed to find SCORM API.");q.on("navigation.removeContent:before",this.saveAllData.bind(this));q.on("communication.saveQuestionData",
this.saveQuestionData.bind(this));q.on("communication.saveQuestionsToPlayer",this.saveQuestionsToPlayer.bind(this));q.on("content.url:changed",this.loadAllData.bind(this));q.on("completionApi.allPageActivitiesComplete",function(){c.dataSet.completed=!0});q.on("player.unload:before",this.courseUnload.bind(this));q.trigger("communication.init:after",this)};f.prototype.saveQuestionsToPlayer=function(){var e,f=!1,l=0,d=0;d=!1;var m=k.isSubmitAll(),t=k.isStatusSaved();q.trigger("player.data:save",this);
l=this.api.GetValue("cmi.interactions._count");""===l&&(l=0);this.dataSet.questions.forEach(function(a,c){c>=l&&this.api.SetValue("cmi.interactions."+c+".id",this.currentGuid+"-"+a.id);this.api.SetValue("cmi.interactions."+c+".type",a.type);this.api.SetValue("cmi.interactions."+c+".learner_response",a.response);this.api.SetValue("cmi.interactions."+c+".description",a.saveData());a.result&&this.api.SetValue("cmi.interactions."+c+".result",a.result);a.timestamp&&this.api.SetValue("cmi.interactions."+
c+".timestamp",a.timestamp);a.latency&&this.api.SetValue("cmi.interactions."+c+".latency",a.latency);a.weight&&this.api.SetValue("cmi.interactions."+c+".weighting",a.weight);if(a.correctResponses)for(e=0;e<a.correctResponses.length;e++)this.api.SetValue("cmi.interactions."+c+".correct_responses."+e+".pattern",a.correctResponses[e]);h.addInteraction(a)},this);d=this.dataSet.questions.length;if(this.dataSet.moreData){var p=d;for(H in this.dataSet.other)this.api.SetValue("cmi.interactions."+p+".id",
c.currentGuid+"-"+p),this.api.SetValue("cmi.interactions."+p+".type","other"),this.api.SetValue("cmi.interactions."+p+".description",H+"="+this.dataSet.other[H]),p++}var H=this.getTotalScore();""===H&&k.isAssessment()&&n.hasQuestions()&&(m||k.hasContextAwareness())&&(H=0);""!==H&&this.api.SetValue("cmi.score.scaled",H);f=!0;if(m)for(p=0;p<d;p++)""===this.dataSet.questions[p].response&&(f=!1);else for(p=0;p<d;p++)if(""===this.dataSet.questions[p].result||0<this.dataSet.questions[p].attemptLimit&&"incorrect"===
this.dataSet.questions[p].result)f=!1;t&&(f=!0);0===d&&this.api.SetValue("cmi.success_status","passed");c.dataSet.completed=a.checkRequiredActivities();return d=this.dataSet.completed&&f};f.prototype.saveQuestionData=function(a){var c=k.isSubmitAll(),e=k.isStatusSaved();if(this.initialized){var f=this.saveQuestionsToPlayer();this.config.autoPageCompletion||f?this.api.SetValue("cmi.completion_status","completed"):this.api.SetValue("cmi.completion_status","incomplete");if(a||f&&(!c||e))this.api.SetValue("cmi.exit",
"suspend"),this.api.Terminate(""),this.initialized=!1}};f.prototype.saveAllData=function(){this.initialized&&(this.saveQuestionData(!0),this.dataSet.clean())};f.prototype.courseUnload=function(){this.initialized&&!k.isSubmitAll()&&/Retake/.test(n.getBookmarkType())&&!this.api.GetValue("cmi.score.scaled")&&this.api.SetValue("cmi.score.scaled",0)};f.prototype.loadAllData=function(a){var c,e=k.isSubmitAll()&&!k.isStatusSaved();if(null==this.api)this.initialized=!1;else if(!this.initialized){a=a.replace(".html",
"");/lcmsXmlGuid/i.test(a)&&(a=a.match(/lcmsXmlGuid\/([^/]*)/i)[1]);this.currentGuid=a;var f=d.files[a].questions;this.api.Initialize("");this.initialized=!0;this.dataSet.clean();var h=this.api.GetValue("cmi.interactions._count");""===h&&(h=0);var m=f.length;var t=n.getPrecedingLinkedPagesCount(a)+1;var p=(p=n.processScorecard())&&p.attempts?p.attempts:"";for(c=0;c<m;c++){var A=new l;A.id=c;c<h&&(A.result=this.api.GetValue("cmi.interactions."+c+".result"),A.response=this.api.GetValue("cmi.interactions."+
c+".learner_response"),A.parseData(this.api.GetValue("cmi.interactions."+c+".description")),A.hadAnswer=!e&&(0<A.attemptLimit&&"correct"===A.result||0==A.attemptLimit));A.weight=d.questions[f[c].question].weight||1;A.internalType=d.questions[f[c].question].type;A.reportId=a;1<t&&(A.reportId+="_"+t);A.reportId+="_"+f[c].question;""!==p&&(A.reportId+="_"+p);this.dataSet.questions.push(A)}if(m<h){for(c=m;c<h;c++)m=this.api.GetValue("cmi.interactions."+c+".description"),A=m.split("=")[0],m=m.substring(m.indexOf("=")+
1),this.dataSet.other[A]=m;this.dataSet.moreData=!0}}q.trigger("player.data:load",a,this)};f.prototype.loadPageData=function(a){var e,f;if(!a)throw"Guid should be passed";a=a.replace(".html","");/lcmsXmlGuid/i.test(a)&&(a=a.match(/lcmsXmlGuid\/([^/]*)/i)[1]);if(c.initialized){var k=d.files[a].questions;if((e=n.getInteractionsData(a))&&e.length){c.dataSet.clean();var h=e.length;var m=k.length;for(f=0;f<m;f++){var t=new l;t.id=f;f<h&&(t.result=e[f].result,t.response=e[f].response,t.parseData(e[f].description));
t.weight=d.questions[k[f].question].weight;t.internalType=d.questions[k[f].question].type;t.isScorecard=!0;c.dataSet.questions.push(t)}if(m<h){for(f=m;f<h;f++)k=e[f].Id,m=e[f].Description,c.dataSet.other[k]=m;c.dataSet.moreData=!0}q.trigger("player.data:load",a,c);q.on("popup.close",c.clearScorecardData)}}};f.prototype.setAnswer=function(a,c){return this.dataSet.questions[a]?(this.dataSet.questions[a].response=c,!0):!1};f.prototype.getAnswer=function(a){return this.dataSet.questions[a]&&this.dataSet.questions[a].response?
this.dataSet.questions[a].response:!1};f.prototype.addCorrectResponse=function(a,c){return(a=this.dataSet.questions[a])?(a.correctResponses||(a.correctResponses=[]),a.correctResponses.push(c),!0):!1};f.prototype.setResult=function(a,c){return this.dataSet.questions[a]?(this.dataSet.questions[a].result=c,!0):!1};f.prototype.getResult=function(a){return this.dataSet.questions[a]?this.dataSet.questions[a].result:!1};f.prototype.setType=function(a,c){return this.dataSet.questions[a]?(this.dataSet.questions[a].type=
c,!0):!1};f.prototype.setAttemptLimit=function(a,c){return this.dataSet.questions[a]?(this.dataSet.questions[a].attemptLimit=c,!0):!1};f.prototype.getAttemptLimit=function(a){return this.dataSet.questions[a]?this.dataSet.questions[a].attemptLimit:!1};f.prototype.setFlag=function(a,c){return this.dataSet.questions[a]?(this.dataSet.questions[a].flag=c,!0):!1};f.prototype.getFlag=function(a){return this.dataSet.questions[a]?this.dataSet.questions[a].flag:!1};f.prototype.setOptionsOrder=function(a,c){return this.dataSet.questions[a]?
(this.dataSet.questions[a].optionsOrder=c,!0):!1};f.prototype.getOptionsOrder=function(a){return this.dataSet.questions[a]&&this.dataSet.questions[a].optionsOrder?this.dataSet.questions[a].optionsOrder.split?this.dataSet.questions[a].optionsOrder.split(","):this.dataSet.questions[a].optionsOrder:!1};f.prototype.setQuestionStem=function(a,c){return this.dataSet.questions[a]?(this.dataSet.questions[a].questionStem=c,!0):!1};f.prototype.setWeight=function(a,c){return this.dataSet.questions[a]?(this.dataSet.questions[a].weight=
c,!0):!1};f.prototype.setTimestamp=function(a,c){return this.dataSet.questions[a]?(this.dataSet.questions[a].timestamp=c,!0):!1};f.prototype.setLatency=function(a,c){return this.dataSet.questions[a]?(this.dataSet.questions[a].latency=c,!0):!1};f.prototype.setData=function(a,c){if(null!=c&&""!==c)return this.dataSet.other[a]=c,this.dataSet.moreData=!0;"undefined"!==typeof this.dataSet.other[a]&&delete this.dataSet.other[a];return!1};f.prototype.getData=function(a){return this.dataSet.other[a]};f.prototype.getTotalScore=
function(){var a,c=0,f=0,l=!1,d=this.dataSet.questions.length;for(a=0;a<d;a++){var k=parseFloat(this.dataSet.questions[a].weight);f+=k;l|=!!this.dataSet.questions[a].result;"correct"===this.dataSet.questions[a].result&&(c+=k)}return"number"===typeof f&&0!==f&&l?c/f:""};f.prototype.isScorecard=function(a){return this.dataSet.questions[a]&&this.dataSet.questions[a].isScorecard?this.dataSet.questions[a].isScorecard:!1};f.prototype.clearScorecardData=function(){c.dataSet.clean();q.off("popup.close",c.clearScorecardData)};
f.prototype.setObjectiveSuccess=function(a,c){var e="failed";if(!0===c||"true"===c||"passed"===c)e="passed";var f=this.api.GetValue("cmi.objectives._count");for(c=0;c<f;c++)if(this.api.GetValue("cmi.objectives."+c+".id")===a)return this.api.SetValue("cmi.objectives."+c+".success_status",e),!0;this.api.SetValue("cmi.objectives."+f+".id",a);this.api.SetValue("cmi.objectives."+f+".success_status",e);return!0};f.prototype.getObjectiveSuccess=function(a){var c;var e=this.api.GetValue("cmi.objectives._count");
for(c=0;c<e;c++)if(this.api.GetValue("cmi.objectives."+c+".id")===a)return a=this.api.GetValue("cmi.objectives."+c+".success_status"),"passed"===a;return null};f.prototype.setObjectiveScore=function(a,c){var e;var f=this.api.GetValue("cmi.objectives._count");for(e=0;e<f;e++)if(this.api.GetValue("cmi.objectives."+e+".id")===a)return this.api.SetValue("cmi.objectives."+e+".score.scaled",c),!0;this.api.SetValue("cmi.objectives."+f+".id",a);this.api.SetValue("cmi.objectives."+f+".score.scaled",c);return!0};
var c=new f;q.trigger("player.communication:loaded",!0,c);return c});
define("skin/components/notebook/notebook","module jquery skin/components/component/component app/events app/utilities/XyTools popup app/player/communication lang/lang".split(" "),function(m,d,h,n,p,q,t,k){var a;var f={name:"notebook",id:m.id,displayName:"Notebook",linkSelector:".NotebookLink",contentSelector:".NotebookContent",popupContentSelector:".NotebookPopupContentContainer",textareaSelector:".NotebookText",buttonSelector:".NotebookSaveButton",popupModuleName:"notebookPopup",dataId:"notebook",
linkAction:"openPopup",hideLinksIfEmpty:!1,enabled:!0,startVisible:!0,title:k.t("components.notebook.title")||"Notebook",height:"auto",width:"auto",minWidth:"30%",modal:!0,trapFocus:!0,draggable:!0,closeOnEscape:!0,hotkeyCombination:"CTRL+ALT+N",renderAfter:"renderAfter"};m=function(a){h.call(this,f,a)};m.prototype=Object.create(h.prototype);m.constructor=m;m.config=f;m.prototype.renderAfter=function(){this.$textarea=this.$content.find(this.config.textareaSelector);this.hideContent();this.initPopup()};
m.prototype.initPopup=function(){this.popup=new q({width:this.config.width,height:this.config.height,minWidth:this.config.minWidth,content:this.$content,title:this.config.title,modal:this.config.modal,trapFocus:this.config.trapFocus,draggable:this.config.draggable,closeOnEscape:this.config.closeOnEscape,animateClose:!1,moduleName:this.config.popupModuleName});n.on("courseExit.exitNow:before",this.setNotebookData.bind(this));n.on("courseExit.captureExit:before",this.setNotebookData.bind(this));n.on("player.data:load",
this.getNotebookData.bind(this))};m.prototype.openPopup=function(){this.showContent();this.popup.open();return this};m.prototype.getNotebookData=function(){if(a)return this;var f=t.getData(this.config.dataId);f&&""===this.$textarea.val()&&(this.$textarea.val(f),a=!0);return this};m.prototype.hideContent=function(){this.popup&&this.popup.close();h.prototype.hideContent.call(this);return this};m.prototype.setNotebookData=function(){var a=this.$textarea.val();a&&t.setData(this.config.dataId,a);return this};
n.trigger("Notebook.loaded",!0,m);return m});
define("skin/components/print/print",["module","jquery","app/events","skin/components/component/component","lang/lang"],function(m,d,h,n,p){var q={name:"print",id:m.id,displayName:"Print",type:"active",enabled:!0,startVisible:!0,linkSelector:".PrintLink",linkAction:"printPage",regionsToHide:["header","footer","menu"],hotkeyCombination:"ALT+P",renderAfter:"renderAfter"};m=function(d){n.call(this,q,d)};m.prototype=Object.create(n.prototype);m.constructor=m;m.config=q;m.prototype.renderAfter=function(){function d(a){a&&
k.hideableRegions.push(a)}var k=this,a;this.hideableRegions=[];this.config.regionsToHide.forEach(function(a,l){h.on(a+".initialized",d)});window.addEventListener("beforeprint",function(){var f;a=[];var l=0;for(f=k.hideableRegions.length;l<f;l+=1)k.hideableRegions[l].$wrapper&&"none"!==k.hideableRegions[l].$wrapper.css("display")&&"hidden"!==k.hideableRegions[l].$wrapper.css("visibility")&&(k.hideableRegions[l].remove(),a.push(k.hideableRegions[l]))});window.addEventListener("afterprint",function(){a.forEach(function(a){a.restore()});
a=null})};m.prototype.printPage=function(){var d,k=[];h.trigger("print.printPage:before",this);var a=0;for(d=this.hideableRegions.length;a<d;a+=1)this.hideableRegions[a].$wrapper&&"none"!==this.hideableRegions[a].$wrapper.css("display")&&"hidden"!==this.hideableRegions[a].$wrapper.css("visibility")&&(this.hideableRegions[a].remove(),k.push(this.hideableRegions[a]));window.focus();window.print();k.forEach(function(a){a.restore()});h.trigger("print.printPage:after",this)};h.trigger("print.loaded",!0,
m);return m});
define("skin/components/sectionStatus/sectionStatus","module jquery app/navigation app/events app/courseApi skin/components/component/component lang/lang notification".split(" "),function(m,d,h,n,p,q,t,k){var a={name:"sectionStatus",id:m.id,displayName:"Section Status",type:"active",enabled:!0,hideLinksIfEmpty:!1,contentId:"sectionStatusContent",linkSelector:".SectionStatusLink",contentSelector:".SectionStatusContent",questionsContainerSelector:".QuestionsContainer",questionsSelector:".QuestionList",questionSelector:".QuestionItem",
titleSelector:".QuestionTitle",statusSelector:".QuestionStatus",flagSelector:".QuestionFlag",titleClass:"",attemptedClass:"Attempted",notattemptedClass:"NotAttempted",skippedClass:"Skipped",disabledClass:"Disabled",flaggedClass:"Flagged",notFlaggedClass:"NotFlagged",hotkeyCombination:"ALT+S",initAfter:"initAfter",renderAfter:"renderAfter"};m=function(f){q.call(this,a,f)};m.prototype=Object.create(q.prototype);m.constructor=m;m.config=a;m.prototype.initAfter=function(){var a=this.updateQuestionStatus.bind(this),
l=this.updateQuestionFlag.bind(this),c=this.updateStatus.bind(this);"undefined"===typeof window.SCORM_TYPE||"non-scorm-player"===window.SCORM_TYPE?this.remove():(n.on("content.loaded",c),n.on("sectionStatus.updateNeeded",c),n.on("questionModel.change:flagged",l),n.on("questionModel.change:answers",a),n.on("questionModel.submit:after",a),this.questionStatusMap={},n.trigger("sectionStatusInstance:created",!0,this))};m.prototype.renderAfter=function(){this.$content.attr("id",this.config.contentId);this.$questions=
this.$content.find(this.config.questionsSelector);this.$question=this.$questions.find(this.config.questionSelector).detach();this.$questions.on("click",this.config.questionSelector,this.questionClickHandler)};m.prototype.questionClickHandler=function(){var a=d(this),l=a.data("page-guid"),c=a.data("page-id"),e=a.data("navigable"),u=p.comesAfterCurrent(c)?"next":"previous";if(/^true$/i.test(e)&&p.isPageAvailable(c))n.triggerCheckEvent("navigation.enabled:check",u,c,l).then(function(){n.trigger("sectionStatus.navigate:before",
a);h.requestChoose(c);n.trigger("sectionStatus.navigate:after",a)});else return k.notify(t.t("general.navigation.notAvailable")||"That page is not available"),!1};m.prototype.updateStatus=function(a){a[0]==d(this.config.contentContainerSelector)[0]&&(this.currentPageGuid=p.getCurrentActivity("guid"),p.isAssessment()&&null!=p.findScorecard()?(this.enable(),this.showLink(),a=p.processScorecard(!0,p.getParentActivity(p.findScorecard(),"id")),this.$questions.empty(),this.questionStatusMap={},this.menuItems=
p.getMenuItems(),this.renderQuestionList(a)):this.config.enabled&&this.remove())};m.prototype.renderQuestionList=function(a){a.pages.forEach(function(a){a.questions.forEach(function(c){var e=this.renderQuestion(c,a);this.$questions.append(e);this.questionStatusMap[c.guid]=c.status},this)},this);a.containers.forEach(this.renderQuestionList,this)};m.prototype.renderQuestion=function(a,l){var c=d(this.$question[0].outerHTML),e=c.find(this.config.titleSelector),f=c.find(this.config.statusSelector),k=
c.find(this.config.flagSelector),h=t.t("components.sectionStatus.status."+a.status.toLowerCase().replace(" ",""))||a.status,n=this.menuItems.filter(function(a){return a.id===l.id})[0];e.addClass(this.config.titleClass).text(l.title);e=a.status.replace(/\s/g,"").toLowerCase()+"Class";f.addClass(this.config[e]).text(h);k.addClass(a.flag?this.config.flaggedClass:this.config.notFlaggedClass);c.data("page-guid",l.guid);c.data("page-id",l.id);null!=n&&n.visible&&n.enabled?(c.data("navigable",!0),c.removeClass(this.config.disabledClass)):
(c.data("navigable",!1),c.addClass(this.config.disabledClass),c.attr("title",t.t("general.navigation.notAvailable")));return c};m.prototype.updateQuestionFlag=function(a){var f=a.get("pageIndex");a=a.get("flagged");if(f=this.getQuestionNode(this.currentPageGuid,f))return f.find(this.config.flagSelector).removeClass(this.config.flaggedClass+" "+this.config.notFlaggedClass).addClass(a?this.config.flaggedClass:this.config.notFlaggedClass),this};m.prototype.updateQuestionStatus=function(a){var f=a.get("pageIndex");
f=this.getQuestionNode(this.currentPageGuid,f);if(!f)return this;if(a.isAttempted()||a.get("isSubmitAll")&&a.hasAnswers()){var c=t.t("components.sectionStatus.status.attempted")||"Attempted";var e="attemptedClass";this.questionStatusMap[a.get("xy:guid")]="Attempted"}f.find(this.config.statusSelector).addClass(this.config[e]).text(c);return this};m.prototype.getQuestionNode=function(a,l){var c=this.$questions.find(this.config.questionSelector).filter(function(){return d(this).data("page-guid")===a});
return c.length&&c[l]?c.eq(l):!1};n.trigger("sectionStatus.loaded",!0,m);return m});
define("skin/components/staticPage/staticPage",["module","skin/components/component/component","popup","app/utilities/XyTools","app/events"],function(m,d,h,n,p){var q={name:"staticPage",id:m.id,displayName:"Static Page",type:"active",linkSelector:".StaticPageLink",contentSelector:".StaticPageContent",innerContentSelector:".StaticPageContainer",enabled:!0,hideLinksIfEmpty:!1,startVisible:!0,pageName:"static page name",showInContentArea:!0,pageUrl:"",useIframe:!1,hotkeyCombination:"CTRL+ALT+H",popup:{popupWrapperClass:"StaticPageWrapper",
popupContentClass:"StaticPageContent",title:"",modal:!0,width:"70%",height:"70%",popupModuleName:"staticPagePopup"},renderAfter:"renderAfter"};m=function(n){d.call(this,q,n);this.popup=new h(this.config.popup)};m.prototype=Object.create(d.prototype);m.constructor=m;m.config=q;m.prototype.renderAfter=function(){if(!this.config.showInContentArea||this.config.useIframe)this.config.linkAction="openStaticPage";this.$innerContent=n.getJqueryObject(this.config.innerContentSelector);this.$innerContent.html()||
(this.disable(),this.remove());this.$title.text(this.config.pageName);this.loadContent()};m.prototype.loadContent=function(){var d=this;d.$innerContent.html().trim().length?d.config.showInContentArea||d.popup.option("content",d.$innerContent.html()):this.config.pageUrl&&(this.config.useIframe?d.popup.option("content",'<iframe src="'+d.config.pageUrl+'" />'):n.ajax.load({url:d.config.pageUrl,success:function(k){d.config.showInContentArea?d.$innerContent.html(k):d.popup.option("content",k)}}))};m.prototype.openStaticPage=
function(){this.popup.open()};p.trigger("staticPage.loaded",!0,m);return m});
define("skin/components/breadcrumb/breadcrumb","module jquery skin/components/component/component app/events app/navigation app/courseApi popup app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a){var f={name:"breadcrumb",id:m.id,displayName:"Breadcrumb",linkSelector:".BreadcrumbLink",contentSelector:"#PageBreadcrumb",enabled:!0,startVisible:!1,delimiterClass:"Delimiter",delimiter:">",itemClass:"Item",itemSelector:".Item",linkAction:"clickBreadcrumb",title:a.t("components.breadcrumb.title")||
"Breadcrumb"};m=function(a){h.call(this,f,a)};m.prototype=Object.create(h.prototype);m.constructor=m;m.config=f;m.prototype.init=function(){h.prototype.init.call(this);var a=this.updateBreadcrumb.bind(this);n.on("content.loaded",a)};m.prototype.clickBreadcrumb=function(a){var c=d(a.target).data("id");c&&n.triggerCheckEvent("navigation.enabled:check","previous",c).then(function(){p.requestChoose(c)})};m.prototype.updateBreadcrumb=function(a){var c=d(this.config.contentSelector),e=this;if(!k.isContentContainer(a))return!1;
c.empty();var f=q.getMenuItems();a=d.grep(f,function(a,c){var e=a.active&&a.visible;e&&0<c&&0==f[c-1].id.indexOf("FolderOf")&&(e&=f[c-1].id!="FolderOf"+a.id);return e});a.forEach(function(a){d("<a>").addClass(e.config.itemClass).attr("href","javascript:void(0);").text(a.title).data("id",a.id).appendTo(c)});d("<span>").addClass(this.config.delimiterClass).html(this.config.delimiter).insertBefore(c.find(this.config.itemSelector+":not(:first)"));this.config.enabled&&a.length&&this.restore()};n.trigger("breadcrumb.loaded",
!0,m);return m});
define("skin/components/visualCue/visualCue","jquery module app/events app/courseApi app/completionApi app/player/communication skin/components/component/component app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a){var f={name:"visualCue",displayName:"Visual Cue",id:d.id,linkSelector:".VisualCue",visibleClass:"Visible",hiddenClass:"Hidden",renderForPC:!1,renderForDevices:!0,mustBeCompleted:!1,mustBeCompletedMessage:a.t("visualCue.mustBeCompletedMessage")||"Please read the entire page.",renderAfter:"renderAfter",
contentScrollingContainerSelector:"#PageBodyWrapper",pageWrapInnerSelector:"#PageBody",heightTolerance:"20",excludeMustBeCompletedSelector:null,spinnerSelector:".VisualCueLinkSpinner",enableMediaFallbackTimer:!0,mediaFallbackTimerDelay:1E4};d=function(a){t.call(this,f,a)};d.prototype=Object.create(t.prototype);d.constructor=d;d.config=f;d.allPageMediaTimer;d.prototype.renderAfter=function(){var a=this,c=!1,e=m(this.config.contentScrollingContainerSelector);var f=m(this.config.spinnerSelector).length;
var d=function(){a.pageContentLoaded||h.trigger("allPageMedia.loaded",!0)};h.trigger("visualCue.render:before",this);this.enabled=this.isEnabled();this.$indicator=m(this.config.linkSelector);f||this.$indicator.after('<div class="VisualCueLinkSpinner"><div class="VisualCueSpinner"></div></div>');this.$spinnerIndicator=m(this.config.spinnerSelector);var n=this.setupScrollCheck.bind(this);var t=_.debounce(this.allPageMediaLoad.bind(this),300);f=_.debounce(a.scrollPageContent.bind(this),300);var q=_.debounce(a.calculateHeightContainer.bind(this),
150);var p=this.removeVisualCueBeforeLoadContent.bind(this);c||(m(window).on("resize",f),c=!0);e.on("scroll.cue",q);h.on("navigation.completePageLoad:after",n);h.on("menu.open:after",f);h.on("menu.hide:after",f);h.on("allPageMedia.loaded",t);h.on("navigation.removeContent:after",p);if(this.config.enableMediaFallbackTimer)h.on("content.loaded",function(c){k.isContentContainer(c)&&(a.allPageMediaTimer=setTimeout(d,a.config.mediaFallbackTimerDelay))});h.trigger("visualCue.render:after",this)};d.prototype.setupScrollCheck=
function(a){var c=n.getCurrentActivity("guid");this.pageContentLoaded=this.pageCompleted=!1;this.enabled&&("function"===k.type(q.setData)&&(a=q.getData("vc"),this.pageCompleted=null!=a),k.isAllPageMediaLoaded()?this.pageContentLoaded=!0:(this.hide(),this.showSpinner()),this.pageCompleted?(this.hide(),this.hideSpinner()):(this.config.mustBeCompleted&&p.registerRequiredActivity(c,this.config.mustBeCompletedMessage),this.scrollPageContent()))};d.prototype.allPageMediaLoad=function(){var a=n.getCurrentActivity("guid");
this.enabled&&null!=a&&(clearTimeout(this.allPageMediaTimer),this.pageCompleted||this.pageContentLoaded||(this.pageContentLoaded=!0,this.show(),this.hideSpinner(),this.scrollPageContent(),this.calculateHeightContainer()))};d.prototype.scrollPageContent=function(){var a=m(this.config.contentScrollingContainerSelector),c=n.getCurrentActivity("guid"),e=m(this.config.pageWrapInnerSelector),f=this.calculateHeightContainerForScroll(a,e);this.enabled&&null!=c&&this.pageContentLoaded&&!e.is(":empty")&&!e.find(".Spinner")[0]&&
(this.config.excludeMustBeCompletedSelector&&0<a.find(this.config.excludeMustBeCompletedSelector).length?(this.markAsCompleted(a,c),this.hide(),this.hideSpinner()):a.height()<f?this.pageCompleted?(this.hide(),this.hideSpinner()):this.show():(this.markAsCompleted(a,c),this.hide(),this.hideSpinner()))};d.prototype.calculateHeightContainer=function(){var a=m(this.config.contentScrollingContainerSelector),c=m(this.config.pageWrapInnerSelector),e=this.calculateHeightContainerForScroll(a,c),f=n.getCurrentActivity("guid");
this.pageContentLoaded&&!c.is(":empty")&&!c.find(".Spinner")[0]&&Number(Math.ceil(a.scrollTop()))+Number(Math.ceil(a.innerHeight()))>=e&&(this.markAsCompleted(a,f),this.hide(),this.hideSpinner())};d.prototype.calculateHeightContainerForScroll=function(a,c){a=a[0].scrollHeight-this.config.heightTolerance;this.config.pageWrapInnerSelector&&0<c.length&&(a=a-parseInt(c.css("margin-bottom"))-parseInt(c.css("padding-bottom")));return a};d.prototype.markAsCompleted=function(a,c){this.config.mustBeCompleted&&
p.unregisterRequiredActivity(c);"function"===k.type(q.setData)&&q.setData("vc",1);this.pageCompleted=!0};d.prototype.show=function(){this.$indicator.addClass(this.config.visibleClass).removeClass(this.config.hiddenClass)};d.prototype.hide=function(){this.$indicator.addClass(this.config.hiddenClass).removeClass(this.config.visibleClass)};d.prototype.showSpinner=function(){this.$spinnerIndicator.addClass(this.config.visibleClass)};d.prototype.hideSpinner=function(){this.$spinnerIndicator.removeClass(this.config.visibleClass)};
d.prototype.removeVisualCueBeforeLoadContent=function(){this.hide();this.hideSpinner();clearTimeout(this.allPageMediaTimer)};d.prototype.isEnabled=function(){return this.config.renderForPC&&this.config.renderForDevices?!0:this.config.renderForPC?!k.detect.device:this.config.renderForDevices?"undefined"===typeof k.detect.device?!1:k.detect.device:!1};h.trigger("visualCue.loaded",!0,d);return d});
define("skin/components/timer/timer",["module","skin/components/component/component","app/events"],function(m,d,h){function n(d){return 10>d?"0"+d:d}var p={name:"timer",id:m.id,displayName:"Timer",type:"active",enabled:!0,startVisible:!1,linkSelector:".TimerLink",linkAction:"none",zIndex:100,initAfter:"initAfter",containerSelector:".TimerContainer",progressSelector:".TimerProgress",progressBarSelector:".TimerProgressBar",progressValueSelector:".TimerProgressValue",remainingTimeSelector:".TimerRemainingTime",
remainingTimeLabelSelector:".TimerRemainingTimeLabel",remainingTimeValueSelector:".TimerRemainingTimeValue",breakpoints:{State1:[100,11],State2:[10,6],State3:[5,0]}};m=function(h){d.call(this,p,h)};m.prototype=Object.create(d.prototype);m.constructor=m;m.config=p;m.activeGuid=null;m.prototype.initAfter=function(){var d=this.startTimer.bind(this),n=this.stopTimer.bind(this);this.getUIElements();h.on("timer.notify:started",d);h.on("timer.notify:returnToAssessment",d);h.on("timer.notify:stopped",n);
h.on("timer.notify:outOfAssessment",n)};m.prototype.startTimer=function(d){d&&d.isActive&&(this.stopTimer(),this.show(),this.startUpdating(d),this.update(d),this.activeGuid=d.guid)};m.prototype.stopTimer=function(d){d&&d.guid!==this.activeGuid||(this.stopUpdating(),this.resetProgressBar(),this.resetRemainingTime(),this.hide(),this.activeGuid=null)};m.prototype.getUIElements=function(){this.$container=this.$el.find(this.config.containerSelector);this.$progress=this.$el.find(this.config.progressSelector);
this.$progressBar=this.$el.find(this.config.progressBarSelector);this.$progressValue=this.$el.find(this.config.progressValueSelector);this.$remainingTime=this.$el.find(this.config.remainingTimeSelector);this.$remainingTimeLabel=this.$el.find(this.config.remainingTimeLabelSelector);this.$remainingTimeValue=this.$el.find(this.config.remainingTimeValueSelector)};m.prototype.update=function(d){var h=d.getTimeLimit();d=d.getTimeLeft();this.updateProgressBar(h,d);this.updateRemainingTime(h,d)};m.prototype.startUpdating=
function(d){this.interval=setInterval(this.update.bind(this),1E3,d)};m.prototype.stopUpdating=function(){this.interval&&clearInterval(this.interval)};m.prototype.updateProgressBar=function(d,h){this.updateProgressBarValue(h/d*100)};m.prototype.updateProgressBarValue=function(d){var h;Object.keys(this.config.breakpoints).forEach(function(k){var a=this.config.breakpoints[k];d<=a[0]&&d>=a[1]&&(h=k)},this);h&&!this.$progress.hasClass(h)&&this.$progress.removeClass(Object.keys(this.config.breakpoints).join(" ")).addClass(h);
this.$progressValue.width(100-d.toFixed(2)+"%")};m.prototype.updateRemainingTime=function(d,h){var k=h/60|0;d=k/60|0;h=[d,k-60*d,h%60].map(n).join(":");this.$remainingTimeValue.text(h)};m.prototype.resetProgressBar=function(){this.$progressValue.width("0%")};m.prototype.resetRemainingTime=function(){this.$remainingTimeValue.text("")};h.trigger("timer.loaded",!0,m);return m});
define("skin/components/bibliography/bibliography","module jquery underscore skin/components/component/component app/events lang/lang app/utilities/XyTools".split(" "),function(m,d,h,n,p,q,t){var k={name:"bibliography",id:m.id,displayName:"Bibliography",enabled:!1,startVisible:!1,linkSelector:".BibliographyLink",contentSelector:".BibliographyContent",citationListSelector:".BibliographyCitationList",citationSelector:".Citation",bibliographySelector:".BibliographyContainer",typeHeadingSelector:".BibliographyCitationTypeHeader",
typeContainerSelector:".BibliographyCitationTypeContainer",typeContainerActiveClass:"Active",typeSubListSelector:"BibliographyCitationSubList",typeCounterSelector:".BibliographyCitationTypeCounter",showTypeCounter:!0,showSingleTypeHeader:!1,itemHighlightClass:"HighlightCitation",hotkeyCombination:"ALT+B",initAfter:"initAfter",renderAfter:"renderAfter"};m=function(a){n.call(this,k,a)};m.prototype=Object.create(n.prototype);m.constructor=m;m.config=k;m.prototype.initAfter=function(){p.on("citation.openCitation",
this.highlightCitation.bind(this))};m.prototype.renderAfter=function(){var a=this.toggleCitationType.bind(this);this.$citationList=d(this.config.citationListSelector);this.$citations=this.$content.find(this.config.citationSelector);this.$categorizedCitations=d(this.config.typeContainerSelector);this.$citations.length&&(this.$citationHeaders=d(this.config.typeHeadingSelector),this.$citationTypeCounters=d(this.config.typeCounterSelector),1===this.$citationHeaders.length&&/^false$/i.test(this.config.showSingleTypeHeader)&&
(this.$citationHeaders.hide(),this.$categorizedCitations.eq(0).addClass(this.config.typeContainerActiveClass)),this.config.showTypeCounter||this.$citationTypeCounters.hide(),this.$citationHeaders.on("click",function(f){a(f,d(this))}),this.$citationHeaders.attr("aria-keyshortcuts","Enter"),this.$citationHeaders.on("keyup",function(f){13==f.keyCode&&a(f,d(this))}),this.$citations.removeClass(this.config.itemHighlightClass),0<this.$citations.html().length&&this.restore(),this.$scrollableParent=t.getScrollableParent(d(this.config.contentSelector)[0]))};
m.prototype.highlightCitation=function(a,f){var l=this,c=d("body");this.$citations.removeClass(this.config.itemHighlightClass);var e=this.$citations.filter('[data-citation-id="'+a+'"]');a=e.closest(this.config.typeContainerSelector);a.children(this.config.typeHeadingSelector);this.$categorizedCitations.removeClass(this.config.typeContainerActiveClass);a.addClass(this.config.typeContainerActiveClass);this.show();f?this.$scrollableParent.animate({scrollTop:f.offsetTop},500):e[0].scrollIntoView(!1);
e.addClass(this.config.itemHighlightClass);c.on("click.bibliographyRemoveHighlight",function(){l.$citations.removeClass(l.config.itemHighlightClass);c.off("click.bibliographyRemoveHighlight")})};m.prototype.toggleCitationType=function(a,f){a=f.closest(this.config.typeContainerSelector);f=a.hasClass(this.config.typeContainerActiveClass);this.$categorizedCitations.removeClass(this.config.typeContainerActiveClass).attr("aria-expanded",!1);f||(a.addClass(this.config.typeContainerActiveClass).attr("aria-expanded",
!0),a.find(this.config.citationSelector+":first-child")[0].focus())};m.prototype.focusContentFirstItem=function(){p.trigger(this.config.name+".focusFirstItem:before",this);this.$categorizedCitations&&this.$categorizedCitations.length&&h.defer(function(){this.$categorizedCitations.eq(0).addClass(this.config.typeContainerActiveClass).attr("aria-expanded",!0)}.bind(this));p.trigger(this.config.name+".focusFirstItem:after",this)};p.trigger("bibliography.loaded",!0,m);return m});
define("skin/components/components","module jquery app/configuration app/events app/utilities/XyTools skin/components/calculator/calculator skin/components/courseProgress/courseProgress skin/components/courseResources/courseResources skin/components/pageResources/pageResources skin/components/exitButton/exitButton skin/components/glossary/glossary skin/components/mute/mute skin/components/narration/narration skin/components/navigationButtons/navigationButtons skin/components/navigationTree/navigationTree skin/components/notebook/notebook skin/components/print/print skin/components/sectionStatus/sectionStatus skin/components/staticPage/staticPage skin/components/submitAllButton/submitAllButton skin/components/breadcrumb/breadcrumb skin/components/visualCue/visualCue skin/components/timer/timer skin/components/bibliography/bibliography".split(" "),
function(m,d,h,n,p,q,t,k,a,f,l,c,e,u,z,B,G,x,I,H,A,D,C,F){var E=new function(){this.config={componentSelector:".ComponentLink"};this.modules=[q,t,k,a,f,l,c,e,u,z,B,G,x,I,H,A,D,C,F];this.init=function(){p.logGroup("Skin Components");n.trigger("components.init:before",this);this.config=p.extend(this.config,h.configure(m.id));this.components=[];this.createComponents().initComponents().renderComponents();n.trigger("components.init:after",this);p.logGroupEnd()};this.createComponents=function(){var a=this,
c=d("body").find(this.config.componentSelector);this.modules.forEach(function(e){c.filter(e.config.linkSelector).each(function(){a.components.push(new e(d(this)))})});return this};this.initComponents=function(){this.components.forEach(function(a){"function"===typeof a.init&&a.init()});return this};this.renderComponents=function(){this.components.forEach(function(a){"function"===typeof a.render&&a.render()});return this}};n.trigger("components.loaded",!0,E);return E});
define("skin/skin","module skin/regions/regions skin/components/components jquery app/configuration app/events app/utilities/XyTools".split(" "),function(m,d,h,n,p,q,t){var k=new function(){this.config={modules:[h,d]};this.init=function(){var a;t.logGroupCollapsed("Skin");q.trigger("skin.init:before",this);this.config=n.extend(this.config,p.configure(m.id));var f=0;for(a=this.config.modules.length;f<a;f+=1)"function"===typeof this.config.modules[f].init&&this.config.modules[f].init();q.trigger("skin.init:after",
this);t.logGroupEnd()}};q.trigger("skin.loaded",!0,k);return k});
define("app/utilities/helper/helperView",["underscore","backbone","app/utilities/helper/helperCore","app/utilities/XyTools","app/events"],function(m,d,h,n,p){var q=/#\{([\w]+)\}/g;var t=/@ui.([\w]+)/g;var k=d.View.extend({delegateEvents:function(){this._helper_initialized||(this.inherit("config",!0),this._getUIElements(),this._convertEvents(),this._decorate(),this._delegateModelBindings());d.View.prototype.delegateEvents.call(this);this._helper_initialized=!0},_convertEvents:function(){var a;this.inherit("events");
if(!this.events||!this.config)return this;var f=n.extend(this.events);for(a in f){var d=a.match(t)?this._interpolateString(a,this._uiBindings,t):this._interpolateString(a);d!==a&&(f[d]=this.events[a],delete f[a])}this.events=f;return this},_delegateModelBindings:function(){var a,f;if(!this.model)return this;this.inherit("modelBindings");var d=this.modelBindings;if(!d)return this;for(a in d)if(f=d[a])if("string"===n.type(f)&&f.split(" ").forEach(function(c){this.model.on(a,this[c],this)},this),"function"===
n.type(f))this.model.on(a,f,this)},_getUIElements:function(){var a;this.inherit("ui");this._uiBindings=n.copy(this.ui);if(!this.ui||!Object.keys(this.ui).length)return this;for(a in this._uiBindings)if("string"===n.type(this._uiBindings[a])){var f=this._interpolateString(this._uiBindings[a]);this._uiBindings[a]=f;this.ui[a]=f.match(q)?this.$():this.$(f)}this.ui.el=this.$el;return this},_interpolateString:function(a,f,d){f=f||this.config;d=d||q;return a.replace(d,function(a,e){return f[e]||a})}});
"publish _getFromSuper inherit _decoratorSkip _decoratorSkipFilter _decorate _getDecoratorSkipFilter _getDecoratorSkipMethods _getInheritableMethods".split(" ").forEach(function(a){k.prototype[a]=h.prototype[a]});p.trigger("helperView.loaded",!0,k);return k});
define("elements/element/element","module underscore app/utilities/helper/helperView app/completionApi app/player/communication app/utilities/XyTools app/events app/configuration".split(" "),function(m,d,h,n,p,q,t,k){m=h.extend({initialize:function(a){a||(a={});this.config=this.constructor.config;this.$scope=a.scope;this.index=a.index||0;this.id=""+this.constructor.displayName+this.index;this.mustBeCompleted=!1;this.completed=[]},handleCompletion:function(){this.mustBeCompleted&&!this.checkCompletion()&&
this.registerAsRequired();if(this.mustBeCompleted||this.config.persistCompletion){t.on("player.data:save",this.saveData);var a=this.getData();this.setCompleted(a);this.markCompleted()}},saveData:function(){"function"===q.type(p.setData)&&p.setData(this.id,this.completed.join("|"))},getData:function(){var a=[];"function"===q.type(p.getData)&&(a=p.getData(this.id),a=null!=a?a.split("|"):[]);return a},checkCompletion:function(){return!1},setCompleted:function(a){a=q.toArray(a).map(function(a){return+a});
this.completed=d.uniq(this.completed.concat(a));this.checkCompletion();return this},markCompleted:function(){},registerAsRequired:function(){n.registerRequiredActivity(this.id,this.config.mustBeCompletedMessage)},unregisterAsRequired:function(){n.unregisterRequiredActivity(this.id)},isInScope:function(a){a=q.getJqueryObject(a);return!(!this.$el.closest(a).length&&this.$el[0]!==a[0])},remove:function(){t.off("player.data:save",this.saveData);this.undelegateEvents();this.stopListening();this.$el.off();
this.$el.remove()}},{displayName:"element",config:q.extend({selector:"",persistCompletion:!1,mustBeCompletedMessage:""},k.configure(m.id))});t.trigger("element.loaded",!0,m);return m});
define("elements/autonumber/autonumber","module elements/element/element app/utilities/XyTools app/configuration app/events popup".split(" "),function(m,d,h,n,p,q){m=d.extend({events:{click:"togglePopup"},render:function(){var d=this,k=this.$el.data("width"),a=this.$el.data("height");this.guid=this.$el.data("popup-content-guid");this.link=this.$el.data("popup-link");this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new q({contentUrl:this.link,popupWrapperClass:this.config.popupWrapperClass,
popupContentClass:this.config.popupContentClass,title:this.config.title,modal:this.config.modal,draggable:this.config.draggable,autoOpen:this.config.autoOpen,closeOnEscape:this.config.closeOnEscape,height:a?a+"px":this.config.height,width:k?k+"px":this.config.width,ajaxComplete:function(){p.trigger("content.loaded",!1,d.popup.$content)},close:function(){}})},togglePopup:function(){this.popup.toggle()},remove:function(){this.popup.destroy();this.popup=null;this.constructor.__super__.remove.call(this)}},
{displayName:"autonumber",config:h.extend({selector:".Autonumber",popupWrapperClass:"AutonumberPopup",popupContentClass:"AutonumberPopupContent",title:"",modal:!0,draggable:!0,closeOnEscape:!0,height:"70%",width:"70%",maxHeight:"90%",minHeight:"",maxWidth:"90%",minWidth:"",popupRole:"dialog",tabindex:0},n.configure(m.id))});p.trigger("autonumber.loaded",!0,m);return m});
define("elements/tooltip/tooltip",["module","popup","app/utilities/XyTools","app/configuration","app/events"],function(m,d,h,n,p){function q(k){k=h.extend({},t,k);k.popupWrapperClass=k.popupWrapperClass+" "+k.owner+"-Tooltip";return new d(k)}var t=h.extend({popupWrapperClass:"TooltipWrapper",popupContentClass:"TooltipContent",moduleName:"tooltip",modal:!1,modalBlur:!1,trapFocus:!1,draggable:!1,autoOpen:!1,closeButton:!1,closeOnEscape:!0,closeOnContentRemove:!0,closeOnOverlayClick:!0,detachOnClose:!0,
animateClose:!0,openAnimationDuration:200,closeAnimationDuration:100,height:"auto",width:"auto",owner:"Generic"},n.configure(m.id));p.trigger("tooltip.loaded",!0,q);return q});
define("elements/citation/citation","module jquery elements/element/element app/events app/utilities/XyTools app/configuration lang/lang elements/tooltip/tooltip app/utilities/detect".split(" "),function(m,d,h,n,p,q,t,k,a){t={selector:".Citation",popupContentSelector:".CitationContent",title:t.t("elements.citation.title")||"",showPopupOnHover:!0,announceOnClick:!0,maxWidth:"500px",appendTo:null,tabindex:0};m=h.extend({events:{click:"announceClick"},render:function(){var f=this;this.config.showPopupOnHover&&
(this.$el.attr({"data-popup-content-id":this.$el.data("sourceId"),tabindex:this.config.tabindex}),d("body").on("mouseenter.citation mouseleave.citation",'[data-popup-content-id="'+this.$el.data("sourceId")+'"]',function(d){a.touchDevice||(d.preventDefault(),f.togglePopup(d))}),this.popup=new k({content:d("#"+this.$el.data("sourceId")).html(),maxWidth:this.config.maxWidth,appendTo:this.config.appendTo||this.config.contentContainerSelector,owner:"Citation",moduleName:"citation",trapFocus:!1,returnFocusItem:this.$el}))},
announceClick:function(a){this.config.announceOnClick&&(a.preventDefault(),a.stopPropagation(),n.trigger("citation.openCitation",this.$el.data("citationId")))},togglePopup:function(a){this.popup.isOpen()||this.popup.option("position",[a.clientY+10,a.clientX+10]);this.popup.toggle()},remove:function(){d("body").off(".citation");this.popup&&this.popup.destroy();this.popup=null;this.constructor.__super__.remove.call(this)}},{displayName:"citation",config:p.extend(t,q.configure(m.id))});n.trigger("citation.loaded",
!0,m);return m});
define("elements/tabs/tabs","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events app/completionApi app/player/communication lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a,f){h={selector:".TabsComponent",navigationSelector:".TabsNavigation",navigationLinkSelector:".TabsNavigationItem",panelWrapperSelector:".TabsPanels",panelSelector:".TabsPanel",hiddenLoadingClass:"HiddenLoading",activeLinkClass:"TabsActiveLink",hiddenPanelClass:"TabsHiddenPanel",invisiblePanelClass:"TabsInvisiblePanel",
completedClass:"Completed",toggleClass:"Toggle",markCompletedTabs:!0,persistCompletion:!0,mustBeCompletedMessage:f.t("elements.tabs.mustBeCompletedMessage")||"Please view all tabs before proceeding."};m=n.extend({ui:{links:"#{navigationLinkSelector}",panels:"#{panelSelector}"},events:{"click @ui.links":"handleLink","keyup @ui.links":"handleLinkKey"},initialize:function(a){this.constructor.__super__.initialize.call(this,a);this.orientation=this.$el.attr("data-orientation");this.mustBeCompleted=/^true$/i.test(this.$el.attr("data-must-be-completed"))},
render:function(){this.tabActive=d([]);this.handleCompletion();this.initializeMedia();this.$el.find(this.config.panelWrapperSelector).removeClass(this.config.hiddenLoadingClass);this.changePanel(this.ui.links.eq(0),!0)},initializeMedia:function(){t.trigger("media.pause",this.$el);return this},handleLink:function(a){var c=d(a.currentTarget);a.preventDefault();this.changePanel(c)},handleLinkKey:function(a){var c=d(a.currentTarget);"keyup"===a.type&&13==a.which?(a.preventDefault(),this.changePanel(c)):
"keyup"!==a.type||"ArrowRight"!==a.key&&"ArrowUp"!==a.key?"keyup"!==a.type||"ArrowLeft"!==a.key&&"ArrowDown"!==a.key||(a.preventDefault(),this.ui.links.eq(this.ui.links.index(c)-1).focus()):(a.preventDefault(),this.ui.links.eq(this.ui.links.index(c)+1).focus())},changePanel:function(a,c){var e=this.ui.links.index(a),f=this.ui.panels.eq(e),d=!this.$el.hasClass(this.config.toggleClass)||f.hasClass(this.config.hiddenPanelClass)||!this.tabActive.length;this.publish("change:before",f,a);this.ui.links.filter("."+
this.config.activeLinkClass).removeClass(this.config.activeLinkClass).attr({"aria-selected":!1,tabindex:"-1"});this.ui.panels.not("."+this.config.hiddenPanelClass).addClass(this.config.hiddenPanelClass).attr({"aria-hidden":!0});t.trigger("media.pause",this.ui.panels);d&&(a.addClass(this.config.activeLinkClass).attr({"aria-selected":!0,tabindex:"0"}),f.removeClass(this.config.hiddenPanelClass).attr({"aria-hidden":!1}),c||f.focus({preventScroll:!0}),t.trigger("media.resumeAutoplay",f));this.tabActive=
a;this.setCompleted(e);this.markCompleted();f.find("img").trigger("figure.resize");this.publish("change:after",f,a);t.trigger("narration.close",f)},markCompleted:function(){this.config.markCompletedTabs&&this.completed.forEach(function(a){this.ui.links.eq(a).addClass(this.config.completedClass)},this)},checkCompletion:function(){if(this.ui.panels.length!==this.completed.length)return!1;this.unregisterAsRequired();p.log(this.id+" completed");return!0}},{displayName:"tabs",config:p.extend(h,q.configure(m.id))});
t.trigger("tabs.loaded",!0,m);return m});
define("elements/carouselTabs/carouselTabs","module underscore elements/element/element app/utilities/XyTools app/configuration app/events lang/lang jquery.extensions".split(" "),function(m,d,h,n,p,q,t){d={selector:".CarouselTabs",panelWrapperSelector:".TabsPanels",completedClass:"Completed",panelSelector:".slick-slide",markCompletedTabs:!0,persistCompletion:!0,mustBeCompletedMessage:t.t("elements.carouselTabs.mustBeCompletedMessage")||"Please view all slides before proceeding.",speed:300,adaptiveHeight:!0,
dots:!0,draggable:!1,infinite:!0};m=h.extend({ui:{panelWrapper:"#{panelWrapperSelector}",panels:null,links:null},initialize:function(d){this.constructor.__super__.initialize.call(this,d);this.panelChanged=this.panelChanged.bind(this);this.focusAndTabHandler=this.focusAndTabHandler.bind(this);this.mustBeCompleted=/^true$/i.test(this.$el.attr("data-must-be-completed"))},render:function(){this.ui.panelWrapper.on("init",function(d,a){this.attachLoadEventToImages(a,this.$el.find("img"))}.bind(this));this.ui.panelWrapper.on("afterChange",
this.panelChanged);this.slick=this.ui.panelWrapper.slick({speed:this.config.speed,dots:this.config.dots,infinite:this.config.infinite,adaptiveHeight:this.config.adaptiveHeight,draggable:this.config.draggable,rtl:"rtl"==n.getLanguageDirection()?!0:!1}).slick("getSlick");this.ui.panels=this.slick.$slides;this.ui.links=this.slick.$dots.children("li");this.tabActive=0;this.ui.panels.on("focusin",this.focusAndTabHandler);this.handleCompletion();this.initializeMedia();this.slick.$slideTrack.find(".slick-cloned audio, .slick-cloned video").attr("tabindex",
"-1");this.panelChanged(this.tabActive)},focusAndTabHandler:function(d){d=d.currentTarget.getAttribute("data-slick-index");this.tabActive!=d&&(this.ui.panelWrapper.slick("slickGoTo",d),this.panelChanged(d),this.slick.$list.scrollLeft(0))},initializeMedia:function(){q.trigger("media.pause",this.$el);return this},panelChanged:function(d,a,f){var l=this.ui.panels.eq(f);"number"===typeof d?f=d:"number"===typeof a&&(f=a);q.trigger("narration.close",l);q.trigger("media.pause",this.ui.panels);q.trigger("media.resumeAutoplay",
l);this.attachLoadEventToImages(this.slick,l.find("img"));this.tabActive=f;this.setCompleted(f);this.markCompleted()},attachLoadEventToImages:function(d,a){a.one("load.carousel",function(a){var f=$(a.target);d.animateHeight();setTimeout(function(){f.trigger("figure.resize")},this.config.speed)}.bind(this))},markCompleted:function(){this.config.markCompletedTabs&&this.completed.forEach(function(d){this.ui.links.eq(d).addClass(this.config.completedClass);this.ui.panels.eq(d).addClass(this.config.completedClass)},
this)},checkCompletion:function(){if(this.ui.panels.length!==this.completed.length)return!1;this.unregisterAsRequired();n.log(this.id+" completed");return!0},remove:function(){this.ui.panelWrapper.slick("unslick");this.ui.panels.find("img").off("load.carousel");this.constructor.__super__.remove.call(this)},navigateTo:function(d,a){this.ui.panelWrapper.slick("slickGoTo",d);this.ui.panelWrapper.one("afterChange",function(){a()})},resize:function(){var d=this;requestAnimationFrame(function(){$("img",
d.ui.panelWrapper).trigger("figure.resize");requestAnimationFrame(function(){var a=$(".slick-slide.slick-active",d.ui.panelWrapper).height();$(".slick-list",d.ui.panelWrapper).height(a)})})}},{displayName:"CarouselTabs",config:n.extend(d,p.configure(m.id))});q.trigger("CarouselTabs.loaded",!0,m);return m});
define("elements/figure/figure","module jquery underscore elements/element/element app/configuration app/events app/utilities/XyTools popup".split(" "),function(m,d,h,n,p,q,t,k){m=n.extend({ui:{image:"#{figureImageSelector}",overlay:"#{overlayObjectsSelector}",popupContent:"#{popupContentSelector}",altImage:"#{figureAltImageSelector}",caption:"#{captionSelector}",fullScreenPreview:"#{fullScreenPreviewSelector}"},events:{"click @ui.altImage":"togglePopup"},render:function(){var a=this;this.ui.overlay=
this.ui.overlay.filter(function(){var f=d(this);return f.parent().hasClass(a.config.altOverlayObjectsClass)?(a.ui.altOverlay=f,!1):!0});this.ui.svg=this.ui.overlay.find("svg");this.ui.overlayText=this.ui.overlay.find(this.config.overlayObjectTextSelector);this.ui.altOverlay&&(this.ui.altSvg=this.ui.altOverlay.find("svg"),this.ui.altOverlayText=this.ui.altOverlay.find(this.config.overlayObjectTextSelector));this.ui.image.on("load.figure",this.imageLoaded);q.on("menu.open:after",this.resize);q.on("menu.hide:after",
this.resize)},imageLoaded:function(){if(this.loaded)return!0;if(0!==this.ui.svg.length||this.ui.altSvg&&0<this.ui.altSvg.length)this.publish("svgsetup"),this.setupArrows();this.handlePopup();this.handleFullScreen();this.handleSVGinIE();this.resize();this.publish("imageloaded");this.loaded=!0;this.resizeBound=this.resize.bind(this);this.ui.image.on("figure.resize",this.resizeBound);this.ui.altImage.on("figure.resize",this.resizeBound);q.trigger("elements.resize")},scaleImageHeight:function(a){var f=
a[0].style[this.config.declaredHeightAttribute].replace("px",""),d=a[0].style[this.config.declaredWidthAttribute].replace("px","");f&&(d&&"auto"!==d||(d=a[0].naturalWidth,a.width(d)),d=a.width()/d,1>=d&&a.height(f*d))},scaleFullScreenPreview:function(){var a=this.ui.fullScreenPreview,f=d("img",a),l=d(this.config.overlayObjectsSelector,this.ui.fullScreenPreview);f.css({width:"",height:""});f.width()>=a.width()?f.css({width:"100%",height:"auto"}):f.height()>=a.height()&&f.css({width:"auto",height:"100%"});
this.setupOverlay(f,l,d("svg",l),d(this.config.overlayObjectTextSelector,l));a=f.offset().top;f=f.offset().left;l.css({top:a,left:f})},handleCaption:function(){this.ui.caption.length&&this.resizeCaption()},resizeCaption:function(){var a=this.ui.altImage.length?this.ui.altImage.width():this.ui.image.width();this.ui.caption.width(a)},setupOverlay:function(a,f,d,c){a[0].naturalWidth;var e=a.height();var l=a.width();a=a.position();this.config.positionSVG&&f.width(l).height(e).show().css({top:a.top+"px",
left:a.left+"px"});this.config.scaleSVG&&(a=d.height(),f=d.width(),a=(e/a).toFixed(4),f=(l/f).toFixed(4),1!==f*a&&(d.width(l).height(e),this.scaleOverlay(d,c,(l/d.attr("width")).toFixed(4),(e/d.attr("height")).toFixed(4))))},scaleOverlay:function(a,f,d,c){this.scaleSVG(a.children(),d,c);this.scaleText(f.children(),d,c)},scaleSVG:function(a,f,l){a.each(function(){d(this).attr("transform","scale("+f+", "+l+")")})},scaleText:function(a,f,l){a.each(function(){d(this).css({transform:"scale("+f+", "+l+
")"})})},setupArrows:function(){d().add(this.ui.svg).add(this.ui.altSvg).find("line").each(function(){var a=d(this).attr("arrow"),f=d(this).attr("id"),l="url(#arrow-left-"+f+")";f="url(#arrow-right-"+f+")";switch(a){case "1":d(this).attr("marker-end",f);break;case "2":d(this).attr("marker-start",l);break;case "3":d(this).attr("marker-end",f).attr("marker-start",l)}})},handlePopup:function(){var a=this;if(this.ui.popupContent.length){var f=this.$el.clone();f.find(this.config.popupContentSelector).removeClass(this.config.popupContentHiddenClass).addClass(this.config.popupContentVisibleClass);
f.find(this.config.figureAltImageSelector).remove();f.find("."+this.config.altOverlayObjectsClass).remove();this.ui.image=f.find(this.config.figureImageSelector);this.ui.overlay=f.find(this.config.overlayObjectsSelector);this.ui.caption=f.find(this.config.captionSelector);this.ui.svg=f.find("svg");this.ui.overlayText=f.find(this.config.overlayObjectTextSelector);this.ui.popupContent.remove();this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new k({modal:!0,
content:f,open:function(){a.setupOverlay(a.ui.image,a.ui.overlay,a.ui.svg,a.ui.overlayText)}})}},togglePopup:function(){this.popup.toggle();this.scaleImageHeight(this.ui.image);0!==this.ui.svg.length&&this.setupOverlay(this.ui.image,this.ui.overlay,this.ui.svg,this.ui.overlayText)},handleFullScreen:function(){if(this.config.fullScreenPreview&&!this.ui.popupContent.length)this.ui.image.on(this.config.fullScreenPreviewEvent,this.showFullScreen)},showFullScreen:function(){var a=d('<div class="'+this.config.fullScreenPreviewClass+
'"><span class="close"></span></div>');d('<img src="'+this.ui.image.attr("src")+'"/>').appendTo(a);this.ui.overlay.clone().appendTo(a);a.appendTo("body").find(".close").on("click",function(){d(this).off("click");a.remove()});this.ui.fullScreenPreview=a;this.scaleFullScreenPreview()},handleSVGinIE:function(){this.boundRescaleSVGImage=h.debounce(this.rescaleSVGImage,15);t.detect.browser.ie&&/\.svg$/.test(this.ui.image[0].href)&&"auto"===this.ui.image[0].style.width&&""===this.ui.image[0].style.maxHeight&&
(setTimeout(this.boundRescaleSVGImage,0),d(window).on("resize",this.boundRescaleSVGImage))},rescaleSVGImage:function(){this.ui.image.width("");var a=this.ui.image.width();this.ui.image.width(a);this.ui.altImage&&this.ui.altImage.length&&(this.ui.altImage.width(""),a=this.ui.altImage.width(),this.ui.altImage.width(a))},resize:function(){this.scaleImageHeight(this.ui.image);this.ui.fullScreenPreview.length&&this.scaleFullScreenPreview();this.ui.altImage.length&&(this.scaleImageHeight(this.ui.altImage),
this.ui.altSvg&&this.ui.altSvg.length&&this.setupOverlay(this.ui.altImage,this.ui.altOverlay,this.ui.altSvg,this.ui.altOverlayText));0!==this.ui.svg.length&&this.setupOverlay(this.ui.image,this.ui.overlay,this.ui.svg,this.ui.overlayText);this.handleCaption()},remove:function(){this.ui.image.off(this.config.fullScreenPreviewEvent);this.ui.image.off("figure.resize",this.resizeBound);q.off("menu.open:after");q.off("menu.hide:after");this.constructor.__super__.remove.call(this)}},{displayName:"figure",
config:t.extend({selector:".Figure",overlayObjectsSelector:".OverlayObjects",overlayObjectTextSelector:".OverlayTextWrapper",altOverlayObjectsClass:"AltImageOverlayObjects",figureImageSelector:".FigureImage",figureAltImageSelector:".FigureAltImage",popupContentSelector:".PopupContentHidden",captionSelector:".Caption",fullScreenPreviewClass:"FigureFullScreenPreview",declaredHeightAttribute:"max-height",declaredWidthAttribute:"width",popupContentHiddenClass:"PopupContentHidden",popupContentVisibleClass:"PopupContentVisible",
popupRole:"dialog",tabindex:0,fullScreenPreview:!0,fullScreenPreviewEvent:"dblclick dbltap",positionSVG:!0,scaleSVG:!0},p.configure(m.id))});q.trigger("figure.loaded",!0,m);return m});
define("elements/scrollTabs/scrollTabs","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events lang/lang elements/figure/figure".split(" "),function(m,d,h,n,p,q,t,k,a){k={selector:".ScrollTabs",contentScrollingContainerSelector:"#PageBodyWrapper",panelSelector:".TabsPanel",progressBarSelector:".ProgressBar",revealToCurrentClass:"RevealToCurrent",hiddenLoadingClass:"HiddenLoading",visiblePanelClass:"VisiblePanel",invisiblePanelClass:"HiddenPanel",completedClass:"Completed",
progressProperty:"height",progressBarUnit:"%",progressBarMultiplier:100,progressBehind:!0,markCompletedTabs:!0,persistCompletion:!0,mustBeCompletedMessage:k.t("elements.tabs.mustBeCompletedMessage")||"Please reveal all tabs before proceeding.",revealLine:200,minimalScroll:100,contentScrollingContainerSelectorForLearningObject:"#PageInnerWrap > .Body"};m=n.extend({ui:{panels:"#{panelSelector}",links:null},initialize:function(a){this.$panelsImages=d(this.ui.panels).find("img");this.constructor.__super__.initialize.call(this,
a);this.orientation=this.$el.attr("data-orientation");this.mustBeCompleted=/^true$/i.test(this.$el.attr("data-must-be-completed"));this.$scrollingSelector=d(this.config.contentScrollingContainerSelector);this.$scrollingSelector.length||(this.$scrollingSelector=d(this.config.contentScrollingContainerSelectorForLearningObject));this.panelsLength=this.ui.panels.length;this.$scrollingSelector.on("scroll.scrollTabs",h.throttle(this.handleScroll.bind(this),100).bind(this));t.on("navigation.removeContent:after",
this.remove);this.progress=0;this.tabActive=null;this.tabsData=[];for(a=0;a<=this.panelsLength;a++)this.tabsData[a]={};this.tabsData[0].natural=0;this.tabsData[0].mapped=0;this.tabsData[0].share=0;this.handleScrollEnabled="busy";this.$panelsImages.one("load.scrollTabs",this.prepareTabsData.bind(this)).one("error.scrollTabs",function(){p.warn("ScrollTabs image failed to load")})},render:function(){var a=function(a){this.resize(a)}.bind(this);this.handleCompletion();this.initializeMedia();this.divSizeTracker=
new ResizeObserver(function(f){f.forEach(function(c){h.debounce(a(c.target),200)})});this.ui.panels.each(function(a,c){this.divSizeTracker.observe(document.getElementById(c.id))}.bind(this));this.$el.filter(this.config.selector).removeClass(this.config.hiddenLoadingClass);this.handleScrollEnabled="free";this.resize();setTimeout(function(){t.trigger("elements.resize")},200)},initializeMedia:function(){t.trigger("media.pause",this.$el);return this},handleScroll:function(){var a=this.config.revealLine,
d=Math.floor(this.ui.panels.eq(0).offset().top-this.$scrollingSelector.offset().top-1),c=null;if("free"==this.handleScrollEnabled){for(var e=0;e<this.panelsLength;e++)c=d+this.tabsData[e].mapped<=a&&a<d+this.tabsData[e+1].mapped?e:c;c!==this.tabActive&&this.changePanel(c)}},changePanel:function(a){var f=this.ui.panels.eq(a),c;this.handleScrollEnabled="busy";if(this.$el.hasClass(this.config.revealToCurrentClass)&&this.$scrollingSelector.get(0).scrollHeight>this.$scrollingSelector.get(0).offsetHeight)for(c=
0;c<this.ui.panels.length;c++){var e=this.ui.panels.eq(c);null!=a&&c<=a&&e.filter("."+this.config.invisiblePanelClass).length?e.removeClass(this.config.invisiblePanelClass).addClass(this.config.visiblePanelClass).attr("aria-hidden",!1):(c>a&&null!=a||null==a)&&e.filter("."+this.config.visiblePanelClass).length&&e.removeClass(this.config.visiblePanelClass).addClass(this.config.invisiblePanelClass).attr("aria-hidden",!0)}else if(!this.$el.hasClass(this.config.revealToCurrentClass)&&this.$scrollingSelector.get(0).scrollHeight>
this.$scrollingSelector.get(0).offsetHeight){for(c=0;c<this.ui.panels.length;c++)e=this.ui.panels.eq(c),e.filter("."+this.config.visiblePanelClass).length&&e.removeClass(this.config.visiblePanelClass).addClass(this.config.invisiblePanelClass).attr("aria-hidden",!0);null!=a&&f.removeClass(this.config.invisiblePanelClass).addClass(this.config.visiblePanelClass).attr("aria-hidden",!1)}else for(c=0;c<this.ui.panels.length;c++)this.ui.panels.eq(c).removeClass(this.config.invisiblePanelClass).addClass(this.config.visiblePanelClass).attr("aria-hidden",
!1);t.trigger("media.pause",d(this.ui.panels));t.trigger("media.resumeAutoplay",d(this.ui.panels).filter("."+this.config.visiblePanelClass).eq(-1));null!=a&&(f=this.tabsData[a].share*this.config.progressBarMultiplier,this.progress=f>this.progress?f:this.progress,this.$el.parent().find(this.config.progressBarSelector).css(this.config.progressProperty,this.progress+this.config.progressBarUnit));this.tabActive=a;for(c=0;c<a;c++)e=this.ui.panels.eq(c),e.hasClass(this.config.completedClass)||this.setCompleted(c);
this.setCompleted(a);this.markCompleted();this.handleScrollEnabled="free"},prepareTabsData:function(){var a=this.ui.panels.length,d=[],c;if("busy"==this.handleScrollEnabled)this.handleScrollEnabled="pending";else{do{this.handleScrollEnabled="busy";if(!this.$scrollingSelector.height())return;var e=this.$scrollingSelector.get(0).clientHeight-this.$scrollingSelector.get(0).scrollHeight-this.$scrollingSelector.offset().top;var k=this.config.revealLine;var h=this.config.minimalScroll;var n=this.ui.panels.eq(0).offset().top+
this.$scrollingSelector.scrollTop()+e;for(c=0;c<a;c++){var m=this.ui.panels.eq(c);m=m.outerHeight();var t=q?q:this.ui.panels.eq(c).offset().top+this.$scrollingSelector.scrollTop()+e;var q=c<a-1?this.ui.panels.eq(c+1).offset().top+this.$scrollingSelector.scrollTop()+e:t+m;this.tabsData[c+1].natural=q-n;k>=q?d[c]=q:k>=t&&k<q&&k-h*(a-c-1)<t?(d[c-1]=k-h*(a-c-1),d[c]=d[c-1]+h):d[c]=k>=t&&k<q&&k-h*(a-c-1)>=t?k-h*(a-c-2):d[c-1]+h}for(c=1;c<=a;c++)this.tabsData[c].mapped=Math.floor(d[c-1]-n),this.$el.hasClass(this.config.revealToCurrentClass)?
(this.config.progressBehind&&(this.tabsData[c].share=c<a-1?this.tabsData[c].natural/this.tabsData[a].natural:1),c===a&&(this.tabsData[a].mapped=Infinity)):this.tabsData[c].share=c<a?this.tabsData[c+1].natural/this.tabsData[a].natural:1}while("pending"==this.handleScrollEnabled);this.handleScrollEnabled="free";this.$scrollingSelector.scroll()}},resize:function(f){var l=this.ui.panels.length,c=null,e;for(e=0;e<l;e++)c=this.ui.panels.eq(e).filter("."+this.config.completedClass).length?e:c;this.prepareTabsData();
if(c=null!=this.tabActive&&this.tabActive>c?this.tabActive:c)this.progress=this.tabsData[c].share*this.config.progressBarMultiplier,this.$el.parent().find(this.config.progressBarSelector).css(this.config.progressProperty,this.progress+this.config.progressBarUnit);this.$scrollingSelector.scroll();if(this.$scrollingSelector.get(0)&&this.$scrollingSelector.get(0).scrollHeight<=this.$scrollingSelector.get(0).offsetHeight)for(e=0;e<this.panelsLength;e++)this.changePanel(e);"undefined"!==f&&setTimeout(function(){d(f).find(a.config.figureImageSelector).each(function(){d(this).trigger("figure.resize")})},
100)},markCompleted:function(){this.config.markCompletedTabs&&this.completed.forEach(function(a){this.ui.panels.eq(a).addClass(this.config.completedClass)},this)},checkCompletion:function(){if(this.ui.panels.length!==this.completed.length)return!1;this.unregisterAsRequired();p.log(this.id+" completed");return!0},remove:function(){this.$panelsImages.off("load.scrollTabs").off("error.scrollTabs");this.divSizeTracker.disconnect();this.$scrollingSelector.off("scroll.scrollTabs");this.constructor.__super__.remove.call(this)}},
{displayName:"scrollTabs",config:p.extend(k,q.configure(m.id))});t.trigger("scrollTabs.loaded",!0,m);return m});
define("elements/xref/xref","module elements/element/element app/utilities/XyTools app/configuration app/events popup".split(" "),function(m,d,h,n,p,q){m=d.extend({events:{click:"togglePopup"},render:function(){var d=this,k=this.$el.data("width"),a=this.$el.data("height");this.guid=this.$el.data("popup-content-guid");this.link=this.$el.data("popup-link");this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new q({moduleName:this.constructor.displayName,contentUrl:this.link,
popupWrapperClass:this.config.popupWrapperClass,popupContentClass:this.config.popupContentClass,title:this.config.title,modal:this.config.modal,draggable:this.config.draggable,autoOpen:this.config.autoOpen,closeOnEscape:this.config.closeOnEscape,height:a?a+"px":this.config.height,width:k?k+"px":this.config.width,ajaxComplete:function(){p.trigger("content.loaded",!1,d.popup.content)},close:function(){p.trigger("xref.content.remove",d.popup.content)}})},togglePopup:function(d){d.preventDefault();this.popup.toggle();
this.$el.not(".Visited").addClass(this.config.visitedClass)},remove:function(){this.popup.destroy();this.popup=null;this.constructor.__super__.remove.call(this)}},{displayName:"xref",config:h.extend({selector:".Xref",popupWrapperClass:"XrefPopup",popupContentClass:"XrefPopupContent",visitedClass:"Visited",title:"",modal:!0,draggable:!0,autoOpen:!1,closeOnEscape:!0,height:"70%",width:"70%",maxHeight:"90%",minHeight:"",maxWidth:"90%",minWidth:"",popupRole:"dialog",tabindex:0},n.configure(m.id))});p.trigger("xref.loaded",
!0,m);return m});
define("elements/marginnote/marginnote","module jquery elements/element/element app/utilities/XyTools app/configuration app/events popup".split(" "),function(m,d,h,n,p,q,t){m=h.extend({events:{"click .#{iconClass}":"togglePopup"},render:function(){this.$wrapper=this.getWrapper();this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new t({moduleName:this.constructor.displayName,content:this.$el.find(this.config.marginNoteBodySelector).html()});this.$el.appendTo(this.$wrapper)},
togglePopup:function(){this.popup.toggle()},getWrapper:function(){var d;for(d=0;d<this.config.parentSelector.length;d++){var a=this.$el.closest(this.config.parentSelector[d]);if(a.length)break}var f=a.find("."+this.config.wrapperClass);return f.length?f:this.createWrapper(a,this.config.parentWrapperClass[d])},createWrapper:function(k,a){k.contents().wrapAll('<div class="'+a+'" />');a=d('<div class="'+this.config.wrapperClass+'"/>');k.prepend(a);return a},remove:function(){this.popup.destroy();this.constructor.__super__.remove.call(this)}},
{displayName:"marginNote",config:n.extend({selector:".MarginNote",parentSelector:[".StepUserAction",".ParaBlock"],marginNoteBodySelector:".MarginNoteBody",parentWrapperClass:["StepUserActionContent","ParaBlockContent"],wrapperClass:"MarginNoteWrapper",iconClass:"MarginNoteIcon",popupRole:"dialog",tabindex:0},p.configure(m.id))});q.trigger("marginNote.loaded",!0,m);return m});
define("elements/list/list","module jquery elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(m,d,h,n,p,q){m=h.extend({ui:{listItems:"#{listItemSelector}"},events:{click:"showItem"},render:function(){this.build=this.$el.data("build");this.ui.listItems.addClass(this.config.hiddenClass)},showItem:function(d){if(this.validateEvent(d))switch(this.build){case "AllAtOnce":this.ui.listItems.addClass(this.config.visibleClass);break;case "OneAtTime":this.ui.listItems.not("."+
this.config.visibleClass).first().addClass(this.config.visibleClass);break;case "OneAtTimeEmphasize":this.ui.listItems.filter("."+this.config.visibleClass).last().hasClass(this.config.fadeClass)||!this.ui.listItems.first().is("."+this.config.visibleClass)?this.ui.listItems.not("."+this.config.visibleClass).first().addClass(this.config.visibleClass):this.ui.listItems.filter("."+this.config.visibleClass).last().addClass(this.config.fadeClass)}},validateEvent:function(h){return!d(h.target||h.srcElement).is(this.config.ignoreSelector)}},
{displayName:"list",config:n.extend({selector:'.List[data-build!=""]',scopeSelector:"#PageInnerWrap",listItemsSelector:".ListItems",listItemSelector:".ListItem",ignoreSelector:"a, img, input",hiddenClass:"Hidden",visibleClass:"Visible",fadeClass:"Fade"},p.configure(m.id))});q.trigger("list.loaded",!0,m);return m});
define("elements/inlineTerm/inlineTerm","module jquery elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(m,d,h,n,p,q){m=h.extend({render:function(){var h=this;this.guid=this.$el.data("guid");this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});d("body").on("click.inlineTerm"+this.cid,this.config.selector+'[data-guid="'+this.guid+'"]',function(d){d.preventDefault();h.togglePopup(d)});return this},togglePopup:function(d){d.preventDefault();
d=this.$el.data("term");var k=this.$el.next();window.Xyleme.environment.ReviewSession?q.trigger("glossary.openItem",this.$el.data("guid"),!0,d,k):q.trigger("glossary.openItem",this.$el.data("guid"),!0,d,k,!1)},remove:function(){d("body").off(".inlineTerm"+this.cid)}},{displayName:"inlineTerm",config:n.extend({selector:".InLineTerm",popupRole:"dialog",tabindex:0},p.configure(m.id))});q.trigger("inlineTerm.loaded",!0,m);return m});
define("elements/inlineHotText/inlineHotText","module jquery elements/element/element app/events app/utilities/XyTools app/configuration elements/tooltip/tooltip lang/lang".split(" "),function(m,d,h,n,p,q,t,k){k={selector:".InLineHotText",popupContentSelector:".InLineHotTextContent",popupWrapperClass:"InlineHotTextPopupWrapper",popupContentClass:"InlineHotTextPopupContent",title:k.t("elements.inlineHotText.title")||"",draggable:!0,modal:!1,maxWidth:"500px",closeOnOverlayClick:!0,delayForRollOverClose:500,
popupRole:"dialog",tabindex:0};m=h.extend({render:function(){var a=this;this.guid=this.$el.data("popupContentId");this.content=d("#"+this.guid).children().clone(!0,!0);this.trigger=this.$el.data("trigger");this.width=this.$el.data("width")||this.config.width;this.height=this.$el.data("height")||this.config.height;this.cursorOnHotText=!1;this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new t({height:this.height&&this.height+"px",content:this.content,moduleName:this.constructor.displayName,
triggerType:this.trigger,trapFocus:!1,returnFocusItem:this.$el});this.width||this.config.width?this.popup.option("width",this.width):this.popup.option("maxWidth",this.config.maxWidth);d("body").on("click.inlineHotText"+this.cid,'[data-popup-content-id="'+this.guid+'"]',function(f){f.preventDefault();f.stopPropagation();a.toggle(f)});"roll-over"!==this.trigger||p.detect.device||(d("body").on("mouseleave.inlineHotText"+this.cid,'[data-popup-content-id="'+this.guid+'"]',function(f){f.preventDefault();
f.stopPropagation();a.cursorOnHotText=!1;setTimeout(a.close,a.config.delayForRollOverClose,f)}),d("body").on("mouseenter.inlineHotText"+this.cid,'[data-popup-content-id="'+this.guid+'"]',function(f){f.preventDefault();f.stopPropagation();a.cursorOnHotText=!0;a.open(f)}));this.closePopup=this.closePopup.bind(this);n.on("inlineHotText.closeAll",this.closePopup);return this},toggle:function(a){n.trigger("inlineHotText.closeAll",this);this.popup.isOpen()||this.popup.option("position",[a.clientY+10,a.clientX+
10]);this.popup.toggle()},close:function(a){this.popup.cursorOnPopup||this.cursorOnHotText||this.popup.close()},open:function(a){n.trigger("inlineHotText.closeAll",this);this.popup.isOpen()||(this.popup.option("position",[a.clientY+10,a.clientX+10]),this.popup.open())},closePopup:function(a){a!==this&&this.popup.close()},remove:function(){n.off("inlineHotText.closeAll",this.closePopup);d("body").off(".inlineHotText"+this.cid);this.popup.destroy();this.popup=null;this.constructor.__super__.remove.call(this)}},
{displayName:"inlineHotText",config:p.extend(k,q.configure(m.id))});n.trigger("inlineHotText.loaded",!0,m);return m});
define("elements/footnote/footnote","module jquery elements/element/element app/configuration app/events app/utilities/XyTools".split(" "),function(m,d,h,n,p,q){m=h.extend({events:{click:"markerClick"},render:function(){var d=this.$el.closest(this.config.appendTo||this.$scope);this.ui.appendTo=d;d.children(this.$el.attr("href")).length?this.ui.content=d.children(this.$el.attr("href")):(this.ui.content=this.$el.siblings(this.$el.attr("href")),this.ui.content.detach().appendTo(this.ui.appendTo).show());
this.ui.contentClass=this.ui.content.attr("class");this.ui.appendTo.css("counter-reset","footnote 0 footnoteContent 0")},markerClick:function(d){d.preventDefault();this.ui.content.scrollintoview({duration:this.config.scrollDuration});this.highlight()},highlight:function(){var d=this;this.unhighlight();setTimeout(function(){d.ui.content.addClass(d.config.highlightClass)},this.config.scrollDuration)},unhighlight:function(){this.$scope.find("."+this.ui.contentClass).removeClass(this.config.highlightClass)},
remove:function(){this.ui.appendTo.css("counter-reset","");this.constructor.__super__.remove.call(this)}},{displayName:"footnote",config:q.extend({selector:".FootnoteMarker",highlightClass:"HighlightFootnote",appendTo:"",scrollDuration:200},n.configure(m.id))});p.trigger("footnote.loaded",!0,m);return m});
define("elements/customNote/customNote","module jquery elements/element/element app/configuration app/events app/utilities/XyTools popup".split(" "),function(m,d,h,n,p,q,t){m=h.extend({ui:{icon:"#{iconSelector}",content:"#{contentSelector}"},events:{"click @ui.icon":"togglePopup"},render:function(){this.$el.data("popup")?(this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex}),this.popup=new t({modal:!1,content:this.ui.content})):this.undelegateEvents()},togglePopup:function(){this.popup.toggle()},
remove:function(){this.popup&&(this.popup.destroy(),this.popup=null);this.constructor.__super__.remove.call(this)}},{displayName:"customNote",config:q.extend({selector:".CustomNote",iconSelector:".Icon",contentSelector:".Content",popupRole:"dialog",tabindex:0},n.configure(m.id))});p.trigger("customNote.loaded",!0,m);return m});
define("elements/imagemap/imagemap","module jquery underscore elements/element/element app/configuration app/events app/utilities/XyTools lang/lang jquery.extensions".split(" "),function(m,d,h,n,p,q,t,k){h={selector:".ImageMap",imageSelector:"img",baseImageSelector:"img.ImageMapImage",overlaySelector:".ImageMapOverlay",overlayWrapperSelector:".ImageMapOverlayWrapper",displayAreaSelector:".DisplayArea",overlaySVGSelector:".HotSpotsWrapper",hotSpotSelector:".HotSpot",hotSpotLinkSelector:".ShapeWrapperLink",
hotSpotContentSelector:".HotSpotContent",hotSpotContentPopupSelector:".HotSpotContentPopup",hotSpotVisibleClass:"Visible",hotSpotHiddenClass:"Hidden",hotSpotCompletedClass:"Completed",hotSpotCompletedMarkSelector:".CompletedMark",audioSelector:".Audio",videoSelector:".Movie",embedSelector:".EmbedMovie",textElementsSelectors:".DisplayArea .RichText, .DisplayArea .Caption",popupWrapperSelector:".PopupWrapper",persistCompletedHotSpots:!1,defaultShowHotSpotEvent:"click",defaultShowHotSpotOutlinesEvent:"onload",
hideHotSpotContextSelector:document,mustBeCompletedMessage:k.t("elements.imagemap.mustBeCompletedMessage")||"Please visit all hotspots before proceeding.",responsiveScaling:!0,persistCompletion:!0};m=n.extend({ui:{img:"#{imageSelector}",baseImage:"#{baseImageSelector}",baseImageLoaded:!1,overlay:"#{overlaySelector}",overlayWrapper:"#{overlayWrapperSelector}",contents:"#{overlaySelector} #{hotSpotContentSelector}",svg:"#{overlaySelector} #{overlaySVGSelector}",hotspotLinks:"#{overlaySelector} #{overlaySVGSelector} #{hotSpotLinkSelector}",
hotspots:"#{overlaySelector} #{overlaySVGSelector} #{hotSpotSelector}",displayArea:"#{overlaySelector} #{displayAreaSelector}"},initialize:function(a){this.constructor.__super__.initialize.call(this,a);this.attributes=this.$el.data();this.mustBeCompleted=this.attributes.mustBeCompleted;this.embeds={}},render:function(){this.ui.baseImage.one("load",this.imageLoaded);this.handlePolygon();this.handleCompletion();q.trigger("imageMapEl.render:after",this);return this},markCompleted:function(){this.completed.forEach(function(a){this.ui.hotspots.filter("[data-index="+
a+"]").addClassSVG(this.config.hotSpotCompletedClass)},this)},checkCompletion:function(){var a=!1;this.completed.length===this.ui.hotspots.length&&(this.unregisterAsRequired(),a=!0);return a},imageLoaded:function(){this.considerDisplayAreaOffset();this.positionOverlay();this.scaleImage();this.handleHotSpotOutlines();this.handleHotSpotContents();this.handleScaling();this.show();this.ui.baseImageLoaded=!0},handlePolygon:function(){this.ui.svg.find("text").not(this.config.hotSpotCompletedMarkSelector).each(function(){var a=
d(this).parent()[0],f=d(this).text().split(/\s|\n/).join("").split("#").join(" "),l=d(this).attr("stroke"),c=document.createElementNS("http://www.w3.org/2000/svg","polygon");c.setAttributeNS(null,"points",f);c.setAttributeNS(null,"stroke",l);a.insertBefore(c,a.firstChild);d(this).remove()})},show:function(){this.ui.overlay.css({opacity:1})},considerDisplayAreaOffset:function(){var a=this.getBoundingRect(this.ui.displayArea);var f=this.getBoundingRect(this.ui.img);if(!this.ui.displayArea.length||!this.isDisplayAreaBeyondImage(a,
f))return this;a=this.getTargetOffsets(a,f);f=this.getTargetSize(a.displayArea,a.image);this.ui.displayArea.css({top:a.displayArea.top,left:a.displayArea.left}).data({top:a.displayArea.top,left:a.displayArea.left});this.ui.img.css({top:a.image.top,left:a.image.left}).data({top:a.image.top,left:a.image.left});this.ui.svg.css({top:a.image.top,left:a.image.left,width:a.image.width,height:a.image.height}).data({top:a.image.top,left:a.image.left});this.ui.overlay.css({height:f.height,width:f.width});this.resizeReady=
!0},positionOverlay:function(){var a=this.ui.img[0],f=a.naturalWidth,d=this.ui.img.width();a=a.naturalHeight;var c=this.ui.img.height();this.resizeReady||this.ui.overlay.add(this.ui.svg).height(this.ui.img.height()).width(this.ui.img.width());/^true$/i.test(this.attributes.hotspotsPrescaled)||(d!==f||c!==a?this.scaleHotSpots(d/f,c/a):this.scaleHotSpots(1,1))},scaleHotSpots:function(a,f){this.ui.hotspots.attr("transform","scale("+a+", "+f+")")},showHotSpot:function(a){d(a).removeClassSVG(this.config.hotSpotHiddenClass).addClassSVG(this.config.hotSpotVisibleClass)},
hideHotSpot:function(a){d(a).removeClassSVG(this.config.hotSpotVisibleClass).addClassSVG(this.config.hotSpotHiddenClass)},handleHotSpotOutlines:function(){var a=this,f=this.attributes.showHotspotOutlinesEvent.toLowerCase()||this.config.defaultShowHotSpotOutlinesEvent;t.detect.device&&!f.match(/onload|never/)&&(f="click");f.match(/^onload$/i)?this.showHotSpot(this.ui.hotspots):this.hideHotSpot(this.ui.hotspots);f.match(/^mouseover$/i)&&(this.ui.hotspots.on("mouseover",function(){a.showHotSpot(this)}),
this.ui.hotspots.on("mouseout",function(){a.hideHotSpot(this)}));if(f.match(/^click$/i))this.ui.hotspots.on("click",function(f){f.stopPropagation();a.hideHotSpot(a.ui.hotspots);a.showHotSpot(this);d(document).on("click.hotspotoutline touchstart.hotspotoutline",function(){a.hideHotSpot(a.ui.hotspots);d(document).off("click.hotspotoutline touchstart.hotspotoutline")})})},showHotSpotContent:function(a,f){var l=this,c=d(a).attr("id"),e=d(a).attr("data-index");c=this.ui.contents.filter("#"+c+"-content");
var k=f.originalEvent&&f.originalEvent.changedTouches?f.originalEvent.changedTouches[0]:{};a={y:f.pageY||k.pageY||a.getBoundingClientRect().top,x:f.pageX||k.pageX||a.getBoundingClientRect().left};f=c.find(l.config.embedSelector);this.hideHotSpotContent(this.ui.contents);this.ui.displayArea.length?(this.ui.displayArea.css("visibility","visible"),c.show()):c.has(this.config.hotSpotContentPopupSelector).length?this.showHotSpotPopup(c):this.positionHotSpotContent(c,a);f.each(function(){d(this).html(l.embeds[d(this).attr("data-media-guid")])});
this.setCompleted(e);this.markCompleted();q.trigger("elements.resize",this.$el,this.$scope);q.trigger("imageMapEl.showHotSpotContent:after",this);return this},showHotSpotPopup:function(a){a.has(this.config.hotSpotContentPopupSelector).find("a")[0].click()},positionHotSpotContent:function(a,f){var l=this.ui.img.width()*this.getScalingCoef(),c=this.ui.overlay.offset(),e=d(window).width(),k=d(window).height(),h=f.x-c.left>l/2?"right":"left",n=f.y>k/2?"bottom":"top",m={};m[h]="right"===h?e-f.x:f.x;m[n]=
"bottom"===n?k-f.y:f.y;m["max-width"]="right"===h?f.x-c.left-10:l-f.x+c.left-10;m["max-height"]=.9*(k-m[n]-20)|0;a.removeAttr("style").show().css(m).attr("aria-hidden",!1).find(".mejs-horizontal-volume-slider").show();this.considerVideoInHotSpotContent(a)},considerVideoInHotSpotContent:function(a){var f=a.find(this.config.videoSelector);f.length&&(f=f.css("max-width"))&&a.css("width",f)},hideHotSpotContent:function(a){var f=this,l=a.find(f.config.embedSelector),c=a.find(f.config.videoSelector).add(f.config.audioSelector).add(l);
q.trigger("imageMapEl.hideHotSpotContent:before",this);this.ui.displayArea.length&&this.ui.displayArea.css("visibility","hidden");a.attr("aria-hidden",!0).hide();0<c.length&&l.each(function(){f.embeds[d(this).attr("data-media-guid")]||(f.embeds[d(this).attr("data-media-guid")]=d(this).html());d(this).empty()});q.trigger("imageMapEl.hideHotSpotContent:after",this);return this},handleHotSpotContents:function(){var a=this,f=this.attributes.hotspotEvent.toLowerCase()||this.config.defaultShowHotSpotEvent;
t.detect.device&&(f="click");f.match(/^mouseover$/i)&&(this.ui.hotspots.on("mouseover",function(f){var c=a.ui.contents.filter("#"+d(this).attr("id")+"-content");f.relatedTarget!==c[0]&&a.showHotSpotContent(this,f)}),this.ui.hotspots.on("mouseout",function(f){var c=d(this).attr("id");c=a.ui.contents.filter("#"+c+"-content");(f.toElement||f.relatedTarget)!==c[0]&&a.hideHotSpotContent(a.ui.contents)}),this.ui.contents.on("mouseout",function(f){var c=d(this).attr("id");c=c.substr(0,c.length-8);c=d("#"+
c);f=f.toElement||f.relatedTarget;f===this||f===c[0]||c.find(f).length||d(this).find(f).length||a.hideHotSpotContent(a.ui.contents)}),this.ui.hotspotLinks.on("focus",function(f){a.showHotSpotContent(d(this).parent()[0],f)}),this.ui.hotspotLinks.on("blur",function(){a.hideHotSpotContent(a.ui.contents)}));f.match(/^click$/i)&&(this.ui.hotspots.on("click",function(f){f.stopPropagation();f.preventDefault();a.hideOnNextEvent();a.showHotSpotContent(this,f)}),this.ui.hotspotLinks.on("keypress",function(f){f.preventDefault();
13!=f.keyCode&&32!=f.keyCode||a.showHotSpotContent(d(this).parent()[0],f)}),this.ui.overlayWrapper.on("keydown",function(f){27===f.keyCode&&a.hideHotSpotContent(a.ui.contents)}));this.ui.displayArea.length&&(this.ui.contents.appendTo(this.ui.displayArea),this.ui.contents.css("transform","scale(1)"),this.unscaleHotSpotsTexts())},hideOnNextEvent:function(){function a(c){var e=c&&d(c.target).closest(f.config.hotSpotContentSelector).length;var k=c&&d(c.target).closest(f.config.popupWrapperSelector).length;
var h=c&&"scroll"===c.type&&d(c.target).closest(f.config.selector).length;c=c&&"scroll"===c.type&&f.ui.displayArea.length;e||k||h||c||(f.hideHotSpotContent(f.ui.contents),l.off("click.hostpotcontent",a),d(window).off("resize.hotspotcontent",a),l[0].removeEventListener("scroll",a,!0))}var f=this,l=d(this.config.hideHotSpotContextSelector);a();l.on("click.hostpotcontent",a);l[0].addEventListener("scroll",a,!0);d(window).on("resize.hotspotcontent",a)},getBoundingRect:function(a){var f;if(!a||!a.length)return null;
a=a[0];a.getBoundingClientRect();a.naturalWidth;a={top:a.style.top,bottom:a.style.bottom,left:a.style.left,right:a.style.right,width:a.style.width||a.width,height:a.style.height||a.height};for(f in a)a[f]=parseInt(a[f]||0);return a},isDisplayAreaBeyondImage:function(a,f){a=a||this.getBoundingRect(this.ui.displayArea);f=f||this.getBoundingRect(this.ui.img);return 0>a.left||0>a.top||a.left+a.width>f.width||a.top+a.height>f.height?!0:!1},getTargetOffsets:function(a,f){var d=t.copy(a);f=t.copy(f);0>a.left&&
(d.left=0,f.left=-a.left);0>a.top&&(d.top=0,f.top=-a.top);return{displayArea:d,image:f}},getTargetSize:function(a,f){return{height:Math.max(f.top+f.height,a.top+a.height),width:Math.max(f.left+f.width,a.left+a.width)}},handleScaling:function(){this.config.responsiveScaling&&("rtl"===t.getLanguageDirection()&&t.detect.browser.ie&&this.ui.svg.css("transform-origin","left top"),this.ui.overlayWrapper.css("overflow","hidden"))},scaleImage:function(){var a=this.ui.overlayWrapper[0],f=a.offsetWidth;a=a.scrollWidth;
var l=this.getScalingCoef(),c=this.ui.img.height()*l;a>f?(this.scaleRatio=f/(a+6),this.ui.overlay.children().filter(":not("+this.config.hotSpotContentSelector+")").css("transform","scale("+this.scaleRatio+")"),this.ui.img.add(this.ui.displayArea).add(this.ui.svg).each(function(){d(this).css({top:d(this).data("top")*l,left:d(this).data("left")*l})}),this.ui.overlayWrapper.height(c+20),this.unscaleHotSpotsTexts()):(this.ui.overlay.children().css("transform","scale(1)"),this.ui.img.add(this.ui.displayArea).add(this.ui.svg).each(function(){d(this).css({top:d(this).data("top"),
left:d(this).data("left")})}),this.ui.overlayWrapper.height("auto"))},unscaleHotSpotsTexts:function(){this.scaleRatio&&d(this.config.textElementsSelectors,this.ui.overlay).css({"font-size":1/this.scaleRatio+"em","line-height":"normal"})},getScalingCoef:function(){var a=this.ui.overlayWrapper[0];return this.config.responsiveScaling?a.offsetWidth/a.scrollWidth:1},resize:function(){this.ui.baseImageLoaded&&(this.considerDisplayAreaOffset(),this.positionOverlay(),this.config.responsiveScaling&&this.scaleImage())},
remove:function(){this.ui.hotspots.off("click mouseover mouseout");q.off("player.data:save",this.saveData);this.constructor.__super__.remove.call(this)}},{displayName:"imageMap",config:t.extend(h,p.configure(m.id))});q.trigger("imageMap.loaded",!0,m);return m});
define("elements/htmlPage/htmlPage","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(m,d,h,n,p,q,t){m=n.extend({ui:{title:"#{titleSelector}",htmlPage:"#{htmlPageSelector}"},render:function(){this.config.hideTitle&&this.ui.title.hide();this.resize()},resize:function(){var k=d(this.config.contentContainerSelector).parent(),a=d(this.config.contentContainerSelector),f=d(this.config.selector);k=k.height()-(a.outerHeight(!0)-a.height())-
(f.outerHeight(!0)-f.height());this.ui.htmlPage.height(k)}},{displayName:"htmlPage",config:p.extend({selector:".HtmlPageWrapper",titleSelector:".Title",htmlPageSelector:".HtmlPage",hideTitle:!0},q.configure(m.id))});t.trigger("htmlPage.loaded",!0,m);return m});
define("elements/flashcards/flashcards","module jquery underscore app/utilities/helper/helperView elements/element/element app/configuration app/events app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a){h={selector:".FlashCardsComponent",delimiter:",",flashCardsSelector:".FlashCards",flashCardSelector:".FlashCard",chooseModeCardSelector:".ChooseModeCard",chooseModeButtonsSelector:".ChooseModeButton",navigationSelector:".FlashCardsNavigation",navigationButtonSelector:".FlashCardsNavigationButton",
chooseModeButtonSelector:".ChooseModeNavigationButton",cardFrontSelector:".CardFront",cardBackSelector:".CardBack",cardBackTextSelector:".CardBackText",cardBackInputSelector:".CardBackInput",textMatchesSelector:".TextMatches",textMatchSelector:".TextMatch",patternSelector:".Pattern",richTextSelector:".RichText",testInputSelector:".FlashCardInput",testButtonSelector:".FlashCardSubmitButton",feedbackSelector:".CardBackFeedback",audioSelector:".Audio",audioElementSelector:"audio",figureSelector:".FigureImage",
mustBeCompletedMessage:a.t("elements.flashcards.mustBeCompletedMessage")||"Please visit all flash cards before proceeding.",randomizationOnAttempt:!1};p=p.extend({ui:{navigation:"#{navigationSelector}",chooseModeCard:"#{chooseModeCardSelector}",buttons:"#{chooseModeButtonsSelector}",cards:"#{flashCardSelector}",cardHolder:"#{flashCardsSelector}"},initialize:function(a){this.constructor.__super__.initialize.call(this,a);this.flashCards=[];this.activeCard=this.mode=null;this.activeCardIndex=-1;this.randomizeCards=
/^true$/i.test(this.$el.attr("data-randomize"));this.mustBeCompleted=/^true$/.test(this.$el.attr("data-must-be-completed"));this.enabledModes=this.$el.attr("data-modes");t.on("flashCards.deliverCardByGuid",this.deliverCardByGuid);t.on("flashcards.deliverCardByGuid",this.deliverCardByGuid)},render:function(){this.createCards();this.handleMode();this.initNavigation();this.handleCompletion();this.initializeMedia()},createCards:function(){var a=this;this.randomizeCards&&this.randomize();this.ui.cards.each(function(c,
e){c=new f({el:e,index:c,parent:a});a.flashCards.push(c)})},randomize:function(){this.ui.cards.detach();this.ui.cards.sort(function(){return Math.round(Math.random())-.5});this.ui.cards.appendTo(this.ui.cardHolder)},renderCards:function(){this.flashCards.forEach(function(a){a.render()})},checkCompletion:function(){return this.completed.length===this.flashCards.length?(this.unregisterAsRequired(),!0):!1},initializeMedia:function(){t.trigger("media.pause",this.$el);return this},handleMode:function(){var a=
this;var c=function(c){this.mode=c;this.hideCard(this.ui.chooseModeCard);a.randomizeCards&&/^true$/i.test(a.config.randomizationOnAttempt)&&a.handleAttemptRandomization();this.deliverCard("first");this.showNavigation();this.renderCards();this.ui.buttons.off("click.mode")}.bind(this);"Learn and Practice"===this.enabledModes&&this.ui.buttons.filter('[data-mode="test"]').remove();if("Learn"===this.enabledModes||"Practice"===this.enabledModes)c(this.enabledModes.toLowerCase());else this.ui.buttons.off("click.mode").on("click.mode",
function(){var a=d(this).attr("data-mode");c(a)})},handleAttemptRandomization:function(){var a;this.flashCards.sort(function(){return Math.round(Math.random())-.5});var c=0;for(a=this.flashCards.length;c<a;c+=1)this.flashCards[c].index=c},deliverCardByGuid:function(a){var c;this.mode&&(new RegExp("^"+window.Xyleme.environment.GUID_REGEX.source+"$")).test(a)&&(c=this.flashCards.filter(function(c){return c.el.id===a})[0])&&(this.activeCard&&this.activeCard.index===c.index||this.deliverCard(c.index))},
deliverCard:function(a){this.activeCard&&this.hideCard(this.activeCard.$el,a);switch(a){case "first":this.activeCard=this.flashCards[0];this.activeCardIndex=0;break;case "last":this.activeCard=this.flashCards[this.flashCards.length-1];this.activeCardIndex=this.flashCards.length-1;break;case "next":this.activeCard=this.flashCards[this.activeCardIndex+1];this.activeCardIndex++;break;case "prev":this.activeCard=this.flashCards[this.activeCardIndex-1];this.activeCardIndex--;break;default:this.activeCard=
this.flashCards[a|0],this.activeCardIndex=a|0}"learn"===this.mode&&this.activeCard.markCardCompleted();t.trigger("media.pause",this.$el);this.showCard(this.activeCard);this.handleNavigation(a)},deliverChooseModeCard:function(){this.destroyCards();this.activeCard=null;this.hideCard();this.showCard(this.ui.chooseModeCard);this.handleMode()},hideCard:function(a,c){"undefined"===typeof a?this.flashCards.forEach(function(a){a.$el.hide()}):(/next|last/.test(c)?a.addClass("FallLeft"):a.addClass("FallRight"),
setTimeout(function(){a.hide().removeClass("FallLeft FallRight")},500))},showCard:function(a){a.show&&a.show();a.$el&&a.$el.show&&a.$el.show()},destroyCards:function(){t.trigger("media.pause",this.$el);this.flashCards.forEach(function(a){a.destroy()})},initNavigation:function(){var a=this;this.ui.navigation.find(this.config.navigationButtonSelector).on("click",function(){a.deliverCard(d(this).attr("data-action"))});if("Learn"!==this.enabledModes&&"Practice"!==this.enabledModes)this.ui.navigation.find(this.config.chooseModeButtonSelector).on("click",
function(){a.deliverChooseModeCard()});else this.ui.navigation.find(this.config.chooseModeButtonSelector).remove()},showNavigation:function(){this.ui.navigation.css("visibility","visible")},handleNavigation:function(){var a=function(){this.ui.navigation.find(this.config.navigationButtonSelector).css("visibility","visible")}.bind(this);var c=function(a){this.ui.navigation.find(this.config.navigationButtonSelector+"[data-action="+a+"]").css("visibility","hidden")}.bind(this);a();0===this.activeCardIndex&&
(c("first"),c("prev"));this.activeCardIndex===this.flashCards.length-1&&(c("next"),c("last"))},remove:function(){this.destroyCards();t.off("flashCards.deliverCardByGuid",this.deliverCardByGuid);this.constructor.__super__.remove.call(this)}},{displayName:"flashCards",config:k.extend(h,q.configure(m.id))});var f=n.extend({ui:{frontCard:"#{cardFrontSelector}",backCard:"#{cardBackSelector}",audio:"#{audioSelector}",audioEls:"#{audioElementSelector}",figures:"#{figureSelector}",textMatches:"#{textMatchesSelector}",
input:"#{testInputSelector}",submit:"#{testButtonSelector}",feedback:"#{feedbackSelector}"},initialize:function(a){this.parent=a.parent;this.index=a.index;this.mode=null;this.completed=!1},render:function(){this.mode=this.parent.mode;this.handleAudioAfterSubmit();"learn"===this.mode?0===this.ui.frontCard.find(this.config.cardBackTextSelector).length&&this.ui.frontCard.append(this.ui.backCard.find(this.config.cardBackTextSelector).clone().show()):this.ui.frontCard.find(this.config.cardBackTextSelector).remove();
"practice"===this.mode&&(this.handleFlip(),this.handleContent(this.config.cardBackTextSelector,this.config.cardBackInputSelector));"test"===this.mode&&(this.handleFlip(),this.handleInput(),this.handleAudio(),this.handleContent(this.config.cardBackInputSelector,this.config.cardBackTextSelector),this.restoreFeedback());this.$el.removeClass("Flip")},handleAudioSize:function(){this.ui.audioEls.trigger("media.resize")},handleFigureSizes:function(){this.ui.figures.trigger("figure.resize")},handleAudio:function(){this.handleAudioSize();
this.ui.audio.hide().on("click",function(a){a.stopPropagation()})},show:function(){this.ui.el.show();this.handleAudioSize();this.handleFigureSizes();t.trigger("media.resumeAutoplay",this.ui.frontCard)},destroy:function(){this.ui.frontCard.off("click");this.ui.backCard.off("click");this.ui.input.length&&this.ui.submit.length&&(this.ui.input.off("click keypress"),this.ui.submit.off("click"))},handleFlip:function(){var a=this;this.ui.frontCard.on("click",function(){a.$el.addClass("Flip");t.trigger("media.pause",
this);t.trigger("media.resumeAutoplay",a.ui.backCard);"practice"===a.mode&&a.markCardCompleted()});this.ui.backCard.on("click",function(){a.$el.removeClass("Flip");t.trigger("media.pause",this);t.trigger("media.resumeAutoplay",a.ui.frontCard)})},handleContent:function(a,c){this.ui.frontCard.find(this.config.CardBackTextSelector).remove();this.$el.find(c).hide().end().find(a).css("display","inline-block");this.hideFeedbacks()},markCardCompleted:function(){this.parent.setCompleted(this.index);this.completed=
!0},handleInput:function(){var a=this;this.type=this.ui.textMatches.length?"TextMatch":"RichText";this.answer=this.getAnswer();if("TextMatch"===this.type){var c=this.ui.textMatches.attr("data-field-char-limit");var e=this.ui.textMatches.attr("data-field-char-size");this.ui.input.attr("maxlength",c);this.ui.input.attr("size",e)}this.ui.input.on("click keypress",function(c){c.stopPropagation();13===c.keyCode&&a.handleAnswer()});this.ui.submit.on("click",function(c){c.stopPropagation();a.handleAudioAfterSubmit();
a.handleAnswer()})},getAnswer:function(){var a=this;if("RichText"===this.type)return d.trim(this.$el.find(this.config.cardBackTextSelector+":first").text());if("TextMatch"===this.type){var c={matchAtLeast:this.ui.textMatches.attr("data-match-at-least")|0,textMatches:[]};d.each(this.ui.textMatches.find(this.config.textMatchSelector),function(){var e={matchAtLeast:d(this).attr("data-match-at-least")|0,patterns:[]};d.each(d(this).find(a.config.patternSelector),function(){e.patterns.push(d(this).data())});
c.textMatches.push(e)});return c}},checkAnswer:function(){var a=this.ui.input.val(),c,e;if("RichText"===this.type)return a===this.answer;if("TextMatch"===this.type){a=a.split(this.config.delimiter);var f=0;for(c=a.length;f<c;f++)a[f]=d.trim(a[f]);var k=this.answer;f=k.matched=0;for(c=k.textMatches.length;f<c;f++){var h=k.textMatches[f];var n=h.matched=0;for(e=h.patterns.length;n<e;n++)this.checkPattern(a,h.patterns[n])&&h.matched++;h.matched>=h.matchAtLeast&&k.matched++}return k.matched>=k.matchAtLeast}},
checkPattern:function(a,c){var e=c.pattern,f="",d;/^true$/.test(c.ignoreCase)&&(f+="i");/^true$/.test(c.ignoreExtraWords)||(e="^"+e+"$");var l=0;for(d=a.length;l<d;l++){var k=a[l];/^true$/.test(c.ignoreHyphensAndMinus)&&(k=k.replace(/-/g,""));/^true$/.test(c.ignoreSpaces)&&(k=k.replace(/\s/g,""),e=e.replace(/\s/g,""));if((new RegExp(e,f)).test(k))return!0}return!1},handleAnswer:function(){var a=this.checkAnswer();this.correct=a;this.handleFeedback(a);"test"===this.mode&&this.markCardCompleted()},
restoreFeedback:function(){this.correct===!!this.correct&&this.handleFeedback(this.correct)},handleFeedback:function(a){this.hideFeedbacks();a?this.showCorrectFeedback():this.showIncorrectFeedback()},showCorrectFeedback:function(){this.ui.feedback.find(".CorrectFeedback").show()},showIncorrectFeedback:function(){this.ui.feedback.find(".IncorrectFeedback").show()},handleAudioAfterSubmit:function(){this.ui.audio.show();this.handleAudioSize()},hideFeedbacks:function(){(this.ui.feedback||this.$el.find(this.config.feedbackSelector)).find(".Feedback").hide()}},
{displayName:"flashCardsCard",config:k.extend(h,q.configure(m.id))});t.trigger("flashcards.loaded",!0,p);t.trigger("flashCards.loaded",!0,p);return p});
define("elements/questions/question/behavior","module underscore app/utilities/helper/helperCore app/utilities/XyTools app/events app/configuration".split(" "),function(m,d,h,n,p,q){var t=window.XYLEME_OUTPUT_PROFILE_WAB||{};m=h.extend({initialize:function(d){this.inherit("config",!0);this.forceNoRandomization=this._handleRandomizationOverride();this.keepQuestionMetadata=this._keepQuestionMetadataOverride()||d&&d.keepQuestionMetadata;d=this._removeEmptyProperties(d);this.originalBehavior=d=n.extend(this.config.defaultWAB,
t,d);this.behavior=this._normalizeTypes(d)},_handleRandomizationOverride:function(){return!!window.Xyleme.environment.ReviewSession},_keepQuestionMetadataOverride:function(){return!!window.Xyleme.environment.ReviewSession},_removeEmptyProperties:function(d){for(var a in d)""===d[a]&&delete d[a];return d},_normalizeTypes:function(d){return n.normalizeTypes(d)},getOriginalBehavior:function(){return n.copy(this.originalBehavior)},getBehavior:function(){return n.copy(this.behavior)},getQuestionBehavior:function(){var k=
n.copy(d.pick(this.behavior,this.config.questionProps));k.keepQuestionMetadata=this.keepQuestionMetadata;k.randomizechoices=k.randomizechoices&&this.behavior.mcq_randomizechoices&&!this.forceNoRandomization;k.forceNoRandomization=this.forceNoRandomization;return k}},{config:n.extend({defaultWAB:{allowassessmentexit:"",attemptlimit:"1",dnd_mode:"Assessment",dnd_showsolution:"true",dnd_showtarget:"true",enableflagging:"false",enablemultipleselection:"",enhancedscorecard:{},forwardnavigationonly:"true",
leavecorrectbetweenattempts:"false",mcq_randomizechoices:"true",minpassingthreshold:"",questionnavigationprompt:"true",questionweight:"1.0",randomizechoices:"true",randomizequestions:"false",keepQuestionMetadata:"false",reorderchildren:"true",selectcount:"",showadvice:"true",showfeedback:"true",showhint:"true",submitmode:"OneByOne","xy:guid":""},questionProps:"attemptlimit dnd_mode dnd_showsolution dnd_showtarget enableflagging enablemultipleselection leavecorrectbetweenattempts questionnavigationprompt questionweight randomizechoices keepQuestionMetadata showadvice showfeedback showhint".split(" ")},
q.configure(m.id))});p.trigger("behavior.loaded",!0,m);return m});
define("app/utilities/helper/helperModel",["underscore","backbone","app/utilities/helper/helperCore","app/utilities/XyTools","app/events"],function(m,d,h,n,p){function q(f,d,c){var e={};"string"===n.type(c)&&(e.type=t(c)?c:"any");"array"===n.type(c)&&(e.type=t(c[0])?c[0]:"any",e.default=c[1]);"object"===n.type(c)&&(e=m.extend(e,c));"string"!==n.type(e.type)&&(e.type="any");e.default=e.default||a[e.type].default();f._definitions[d]=e}function t(a){return m.contains("string number boolean array object date any".split(" "),
a)}var k=function(a,d){var c=a||{};d=d||{};this.cid=m.uniqueId(this.cidPrefix);this.attributes={};d.collection&&(this.collection=d.collection);d.parse&&(c=this.parse(c,d)||{});this.inherit("config",!0);this._decorate();this._initProps();c=n.extend(this._getDefaults(),c);this.set(c,d);if(this.validationError)return n.error(Error("Failed to initialize model")),null;this.changed={};this.initialize.apply(this,arguments)};m.extend(k,d.Model);m.extend(k.prototype,d.Model.prototype,d.Events,{decorate:!0,
extraProperties:"allow",_initProps:function(){var a;this.inherit("props");this._definitions={};for(a in this.props)q(this,a,this.props[a])},_getDefaults:function(){var a,d={};for(a in this._definitions)d[a]=this._definitions[a].default;return d},get:function(a){return"string"!==typeof a||-1===a.indexOf(".")?this.attributes[a]:a.split(".").reduce(function(a,c){return"object"!==n.type(a)?a:a[c]},this.attributes)},_validate:function(a,d){if(!1===d.validate||!this.validate)return!0;a=m.extend({},this.attributes,
a);a=this.validationError=this.validate(a,d)||null;if(!a)return!0;this.trigger("invalid",this,a,m.extend(d,{validationError:a}));n.error(a);return!1},validate:function(a,d){d=this.extraProperties;var c;for(c in a){var e=a[c];var f=this._definitions[c];if(!f){if("reject"===d)return new TypeError('No "'+c+'" defined on model and extraProperties are set to "reject"');if("allow"===d)q(this,c,"any"),f=this._definitions[c];else return"undefined"!==n.type(d)?new TypeError('"extraProperties" has invalid value. Valid values are "reject" or "allow"'):
new TypeError('No "extraProperties" set')}if("any"!==f.type&&n.type(e)!==f.type)return new TypeError("Property '"+c+"' must be of type "+f.type+". Tried to set "+e);if(f.values&&!m.contains(f.values,e))return new TypeError("Property '"+c+"' must be one of values: "+f.values.join(", ")+". Tried to set "+e)}}});"publish _getFromSuper inherit _decoratorSkip _decoratorSkipFilter _decorate _getDecoratorSkipFilter _getDecoratorSkipMethods _getInheritableMethods".split(" ").forEach(function(a){k.prototype[a]=
h.prototype[a]});var a={number:{"default":function(){return 0}},string:{"default":function(){return""}},boolean:{"default":function(){return!1}},date:{"default":function(){return new Date}},array:{"default":function(){return[]}},object:{"default":function(){return{}}},any:{default:function(){}}};p.trigger("helperModel.loaded",!0,k);return k});
define("elements/questions/question/model","module underscore app/utilities/helper/helperModel app/events app/utilities/XyTools app/configuration".split(" "),function(m,d,h,n,p,q){m=h.extend({idAttribute:"xy:guid",propagateEvents:!0,extraProperties:"allow",props:{"xy:guid":"string",type:"string",behavior:"object",interactionType:["string","other"],pageIndex:"number",weight:["number",1],result:{type:"string",default:"",values:["","correct","incorrect"]},satisfied:"boolean",remainingAttempts:["number",
-1],timesAttempted:"number",flagged:["boolean",!1],flagEnabled:["boolean",!0],timestamp:"number",latency:"number",enabled:["boolean",!0],answers:"array",correctAnswers:"array",answerOrder:"array",previousAnswers:"array",name:"any",title:"any",questionstem:"any",advice:"any",feedback:"any",hint:"any",instructions:"any",isScorecard:"boolean",isSubmitAll:"boolean",isSubmitAllSaved:"boolean",isAssessment:"boolean"},initialize:function(){var d=!0;if(0===this.get("remainingAttempts")||this.get("satisfied"))d=
!1;this.get("isSubmitAll")&&!this.get("isSubmitAllSaved")&&(d=!0);this.get("isSubmitAllSaved")&&(d=!1);this.set("enabled",d);this.setTimestamp();this.setupFlag();this.setupAttempts();this.outputEvents()},outputEvents:function(){this.on("change",function(){Object.keys(this.changed).forEach(function(d){this.publish("change:"+d,this.changed[d])},this)},this);this.publish("change")},setTimestamp:function(){if(!this.get("timestamp")){var d=new Date;d.setMilliseconds(0);this.set("timestamp",d.getTime())}},
setupFlag:function(){this.set("flagEnabled",this.get("behavior.enableflagging"))},setupAttempts:function(){var d=this.get("behavior.attemptlimit");-1===this.get("remainingAttempts")?this.set("remainingAttempts",d):this.set("timesAttempted",d-this.get("remainingAttempts"))},submit:function(){if(!this.get("isSubmitAll")||!this.get("isSubmitAllSaved"))if(this.hasAnswers()){var d=this.isCorrect();this.set("satisfied",d);this.set("result",d?"correct":"incorrect");this.set("previousAnswers",this.get("answers"));
this.set("timesAttempted",this.get("timesAttempted")+1);this.set("remainingAttempts",Math.max(this.get("remainingAttempts")-1,0));1===this.get("timesAttempted")&&this.set("latency",Date.now()-this.get("timestamp"));n.trigger("questionModel.submit:answered",this);this.get("isSubmitAll")||(this.get("satisfied")||0>=this.get("remainingAttempts")?this.set("enabled",!1):(this.resetAnswers(),this.trigger("submit:showSupplements")))}else this.get("isSubmitAll")||this.get("isSubmitAllSaved")||this.trigger("submit:noanswer")},
resetAnswers:function(){this.get("behavior.leavecorrectbetweenattempts")?this.refreshCorrectAnswers():this.clearAnswers()},setupAnswerOrder:function(){},refreshCorrectAnswers:function(){var h=this.get("answers"),k=this.get("correctAnswers");this.set("answers",d.intersection(h,k))},clearAnswers:function(){var d=this.get("answers");d="Matrix"==this.get("type")?d.map(function(){return[]}):[];this.set("answers",d)},hasAnswers:function(){return!!this.get("answers").length},isAttempted:function(){return this.get("isSubmitAll")&&
!this.get("isSubmitAllSaved")?!0:0<this.get("timesAttempted")},isCorrect:function(){return!1},toggleFlag:function(){this.get("flagEnabled")&&this.get("enabled")&&this.set("flagged",!this.get("flagged"))},destructor:function(){}},{displayName:"questionModel",config:p.extend({},q.configure(m.id))});n.trigger("questionModel.loaded",!0,m);return m});
define("elements/questions/question/view","module jquery underscore backbone app/utilities/helper/helperView app/events app/configuration app/utilities/XyTools notification lang/lang popup".split(" "),function(m,d,h,n,p,q,t,k,a,f,l){n={innerWrapperClass:"QuestionInnerWrap",activeClass:"Active",hiddenButtonClass:"Hidden",disabledClass:"Disabled",enabledClass:"Enabled",visibleClass:"Open",showingClass:"Opening",hiddenClass:"Closed",hidingClass:"Closing",submitButtonClass:"QuestionSubmit",hintSelector:".Hint",
feedbackWrapperSelector:".FeedbackWrapper",positiveFeedbackSelector:".PositiveFeedback",negativeFeedbackSelector:".NegativeFeedback",feedbackContentSelector:".FeedbackContent",supplementOverlayBehavior:"overlay",popupFeedback:!1,popupFeedbackConfig:{modal:!0},supplementsPopupConfig:{modal:!0},supplementOverlayStaticClass:"SupplementOverlayStatic",incorrectNoticeSelector:".IncorrectNotice",flagIconSelector:".QuestionFlagIcon",flagActiveClass:"Flagged",flagDesktopHoverClass:"Desktop",flagDisabledClass:"Disabled",
submitButtonSelector:".QuestionSubmit",adviceSelector:".Advice",attemptCounterSelector:".AttemptCounter",supplementWrapperSelector:".QuestionSupplementOuterWrapper",supplementToggleIconSelector:".QuestionSupplementToggleIcon",attemptsHidingThreshold:-1,singleAttemptTemplate:"({0} "+(f.t("sections.scoreCard.singleAttemptRemaining")||"attempt remaining")+")",multiAttemptsTemplate:"({0} "+(f.t("sections.scoreCard.multipleAttemptsRemaining")||"attempts remaining")+")",answerQuestionNotifitication:f.t("questions.general.notify.answerQuestion")||
"Please attempt to answer the question.",generalCorrectFeedback:f.t("questions.general.correct")||"Correct!",generalIncorrectFeedback:f.t("questions.general.incorrect")||"Incorrect"};m=p.extend({ui:{submit:"#{submitButtonSelector}",flag:"#{flagIconSelector}",attempts:"#{attemptCounterSelector}",hints:"#{hintSelector}",advice:"#{adviceSelector}",feedbackWrapper:"#{feedbackWrapperSelector}",positiveFeedback:"#{positiveFeedbackSelector}",positiveFeedbackContent:"#{positiveFeedbackSelector} > #{feedbackContentSelector}",
negativeFeedback:"#{negativeFeedbackSelector}",negativeFeedbackContent:"#{negativeFeedbackSelector} > #{feedbackContentSelector}",incorrectNotice:"#{incorrectNoticeSelector}",supplements:"#{supplementWrapperSelector}",supplementToggle:"#{supplementToggleIconSelector}"},events:{"click @ui.submit":"handleSubmit","click @ui.flag":"handleFlag","click @ui.supplementToggle":"toggleSupplements"},modelBindings:{"change:flagged":"updateFlag","change:remainingAttempts":"updateAttempts","change:enabled":"updateQuestionState",
"submit:noanswer":"promptToAnswer","submit:showSupplements":"updateSupplements"},propagateEvents:!0,initialize:function(){this.enabled=this.model.get("enabled");this.reviewMode=!1;q.trigger("media.pause",this.ui.supplements)},_render:function(){this.setupFlag();this.setupSubmitButton();this.setupFeedback();this.setupSupplements();this.render();this.updateFlag();this.updateAttempts();this.updateQuestionState();q.trigger("question.render:after",this)},render:function(){},setupFlag:function(){this.model.get("flagEnabled")?
(this.ui.flag.show(),k.detect.device||this.ui.flag.addClass(this.config.flagDesktopHoverClass)):this.ui.flag.remove()},setupSubmitButton:function(){this.model.get("isSubmitAll")&&(this.ui.submit.addClass(this.config.hiddenButtonClass),this.ui.submit[0].disabled=!0)},setupSupplements:function(){switch(this.config.supplementOverlayBehavior){case "static":this.ui.supplements.addClass(this.config.supplementOverlayStaticClass);break;case "popup":this.setupSupplementsPopup()}},setupSupplementsPopup:function(){var a=
d("<div></div>"),e=this.config.supplementsPopupConfig,f=e.popupContentClass,k=e.open||h.noop,n=this;this.ui.advice.detach();this.ui.hints.detach();this.ui.incorrectNotice.detach();this.ui.feedbackWrapper.detach();a.append(this.ui.advice);a.append(this.ui.hints);a.append(this.ui.incorrectNotice);a.append(this.ui.feedbackWrapper);q.trigger("media.pause",a);e.content=a;e.popupContentClass=this.config.innerWrapperClass;e.owner="supplements";e.open=function(){q.trigger("media.pause",this.content);q.trigger("media.resumeAutoplay",
n.ui.activeFeedback);"function"===typeof k&&k()};f&&(e.popupContentClass+=" "+f);this.popup=new l(e);this.popup.supplementsContainer=a;this.popup.supplementsContainer.data("questionGuid",this.$el.data("guid"))},setupFeedback:function(){this.config.popupFeedback&&"popup"!==this.config.supplementOverlayBehavior&&this.setupPopupFeedback();this.ui.positiveFeedbackContent.contents().length||this.ui.positiveFeedbackContent.text(this.config.generalCorrectFeedback);this.ui.negativeFeedbackContent.contents().length||
this.ui.negativeFeedbackContent.text(this.config.generalIncorrectFeedback)},setupPopupFeedback:function(){var a=d("<div></div>"),e=this.config.popupFeedbackConfig,f=e.popupContentClass,k=e.open||h.noop,n=this;this.ui.positiveFeedback.detach();this.ui.negativeFeedback.detach();this.ui.incorrectNotice.detach();a.empty();a.append(this.ui.positiveFeedback);a.append(this.ui.negativeFeedback);a.append(this.ui.incorrectNotice);q.trigger("media.pause",a);e.content=a;e.popupContentClass=this.config.innerWrapperClass;
e.owner="feedback";e.open=function(){q.trigger("media.pause",this.content);q.trigger("media.resumeAutoplay",n.ui.activeFeedback);"function"===typeof k&&k()};f&&(e.popupContentClass+=" "+f);this.popupFeedback=new l(e);this.popupFeedback.feedbackContainer=a},updateQuestionState:function(){(this.enabled=this.model.get("enabled"))?this.enable():this.disable();q.trigger("questionState.updated")},updateAttempts:function(){var a=+this.model.get("remainingAttempts");!a||this.model.get("satisfied")||this.model.get("isSubmitAll")||
this.model.get("isSubmitAllSaved")?this.ui.attempts.hide():this.ui.attempts.show();~this.config.attemptsHidingThreshold&&a>this.config.attemptsHidingThreshold&&this.ui.attempts.hide();this.model.get("isSubmitAll")&&this.model.get("isSubmitAllSaved")&&this.model.set("remainingAttempts",0);var e=1===a?this.config.singleAttemptTemplate:this.config.multiAttemptsTemplate;e=k.parseTemplate(e,a);this.ui.attempts.text(e)},updateFlag:function(){var a=this.model.get("flagged");this.ui.flag.toggleClass(this.config.flagActiveClass,
a);this.enabled||(this.ui.flag.toggleClass(this.config.flagDisabledClass,!this.enabled),this.ui.flag[0].disabled=!0)},updateSupplements:function(){this.updateFeedback();this.updateHints();this.updateAdvice();this.updateResponseSpecificFeedback();this.updateSolutionButton();this.model.isAttempted()&&(this.hasSupplements()?(this.enableSupplements(),this.showSupplements()):this.disableSupplements())},updateFeedback:function(){this.hideFeedback();if(!this.model.get("isSubmitAll")||this.model.get("isSubmitAllSaved"))!this.model.get("satisfied")&&
0<this.model.get("remainingAttempts")?this.showIncorrectNotice():this.model.get("behavior.showfeedback")&&(this.model.get("satisfied")?this.showPositiveFeedback():0===this.model.get("remainingAttempts")&&this.showNegativeFeedback())},updateResponseSpecificFeedback:function(){this.hideResponseSpecificFeedback();this.enabled||this.model.hasAnswers()&&!0===this.model.get("behavior.showfeedback")&&this.showResponseSpecificFeedback()},updateSolutionButton:function(){this.hideSolutionButton();this.enabled||
this.model.get("satisfied")||this.model.hasAnswers()&&this.model.get("behavior.dnd_showsolution")&&this.showSolutionButton()},updateHints:function(){if(this.model.get("behavior.showhint")&&(this.hideHint(),!(this.model.get("isSubmitAll")&&!this.model.get("isSubmitAllSaved")||null==this.model.get("hint")||this.model.get("satisfied")||0>=this.model.get("remainingAttempts")))){var a=this.model.get("timesAttempted")-1;0>a||this.showHint(a)}},updateAdvice:function(){this.model.get("behavior.showadvice")&&
(this.hideAdvice(),(!this.model.get("isSubmitAll")||this.model.get("isSubmitAllSaved"))&&this.model.get("advice")&&(this.model.get("satisfied")||1>this.model.get("remainingAttempts"))&&this.showAdvice())},enable:function(){this.enableSubmitButton();this.enableQuestionComponents();this.enableWrapper()},disable:function(){this.disableSubmitButton();this.disableQuestionComponents();this.disableWrapper();this.updateFlag();this.updateAttempts();this.updateSupplements()},enableWrapper:function(){this.$el.removeClass(this.config.disabledClass)},
disableWrapper:function(){this.$el.addClass(this.config.disabledClass)},enableQuestionComponents:function(){},disableQuestionComponents:function(){},enableSubmitButton:function(){this.ui.submit.removeClass(this.config.disabledClass);this.ui.submit[0].disabled=!1},disableSubmitButton:function(){this.ui.submit.addClass(this.config.disabledClass);this.ui.submit[0].disabled=!0},enableSupplements:function(){this.ui.supplements.removeClass(this.config.disabledClass)},disableSupplements:function(){this.ui.supplements.removeClass(this.config.visibleClass).removeClass(this.config.hiddenClass).addClass(this.config.disabledClass)},
toggleSupplements:function(){switch(this.config.supplementOverlayBehavior){case "popup":this.popup.open();break;default:this.ui.supplements.hasClass(this.config.visibleClass)?this.hideSupplements():this.showSupplements()}},promptToAnswer:function(){a.notify(this.config.answerQuestionNotifitication)},handleFlag:function(){this.model.toggleFlag()},handleSubmit:function(){this.reviewMode||this.model.submit()},handleSupplementsClosing:function(a){"static"!==this.config.supplementOverlayBehavior&&(this.ui.supplements.find(a.target).length||
this.hideSupplements())},hasSupplements:function(){switch(this.config.supplementOverlayBehavior){case "popup":var a=this.popup.supplementsContainer;break;default:a=this.ui.supplements}return!!a.find("."+this.config.activeClass).length},showSupplements:function(){switch(this.config.supplementOverlayBehavior){case "popup":this.popup.open();break;default:this.ui.supplements.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass),this.$el.on("click",this.handleSupplementsClosing),q.trigger("media.resumeAutoplay",
this.ui.activeFeedback)}},closeSupplements:function(){"static"!==this.config.supplementOverlayBehavior&&this.hideSupplements()},hideSupplements:function(){this.ui.supplements.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass);"overlay"===this.config.supplementOverlayBehavior&&this.ui.supplements.scrollTop(0);this.$el.off("click",this.handleSupplementsClosing);q.trigger("media.pause",this.ui.supplements)},hideFeedback:function(){this.hidePositiveFeedback();this.hideNegativeFeedback();
this.hideIncorrectNotice()},showFeedbackPopup:function(){this.popupFeedback&&this.popupFeedback.open()},hideFeedbackPopup:function(){this.popupFeedback&&this.popupFeedback.close()},showPositiveFeedback:function(){this.ui.positiveFeedback.addClass(this.config.activeClass);this.ui.activeFeedback=this.ui.positiveFeedback;this.showFeedbackPopup()},hidePositiveFeedback:function(){this.ui.positiveFeedback.removeClass(this.config.activeClass);this.hideFeedbackPopup()},showNegativeFeedback:function(){this.ui.negativeFeedback.addClass(this.config.activeClass);
this.ui.activeFeedback=this.ui.negativeFeedback;this.showFeedbackPopup()},hideNegativeFeedback:function(){this.ui.negativeFeedback.removeClass(this.config.activeClass);this.hideFeedbackPopup()},showIncorrectNotice:function(){this.ui.incorrectNotice.addClass(this.config.activeClass);this.showFeedbackPopup()},hideIncorrectNotice:function(){this.ui.incorrectNotice.removeClass(this.config.activeClass);this.hideFeedbackPopup()},showResponseSpecificFeedback:function(){},hideResponseSpecificFeedback:function(){},
showSolutionButton:function(){},hideSolutionButton:function(){},showHints:function(){this.ui.hints.addClass(this.config.activeClass)},showHint:function(a){this.ui.hints.eq(a).addClass(this.config.activeClass)},hideHint:function(a){var c=this.ui.hints;"undefined"!==typeof a&&(c=c.eq(a));c.removeClass(this.config.activeClass)},showAdvice:function(){this.ui.advice.addClass(this.config.activeClass)},hideAdvice:function(){this.ui.advice.removeClass(this.config.activeClass)},toggleReviewMode:function(){this.reviewMode?
this.turnReviewModeOff():this.turnReviewModeOn()},turnReviewModeOn:function(){this.reviewMode=!0;this.model.set("enabled",!1);this.showAdvice();this.showHints();this.showNegativeFeedback();this.showPositiveFeedback();this.showIncorrectNotice();this.showResponseSpecificFeedback(void 0,!0);this.enableSupplements();"static"===this.config.supplementOverlayBehavior&&this.showSupplements()},turnReviewModeOff:function(){this.reviewMode=!1;this.model.set("enabled",!0);this.hideAdvice();this.hideHint();this.hideNegativeFeedback();
this.hidePositiveFeedback();this.hideIncorrectNotice();this.hideResponseSpecificFeedback();this.hideSupplements();this.disableSupplements();"static"===this.config.supplementOverlayBehavior&&this.hideSupplements()},destructor:function(){this.popup&&"function"===typeof this.popup.destroy&&this.popup.destroy();this.popupFeedback&&"function"===typeof this.popupFeedback.destroy&&this.popupFeedback.destroy();this.undelegateEvents();this.stopListening();this.remove()}},{displayName:"questionView",config:k.extend(n,
t.configure(m.id))});q.trigger("questionView.loaded",!0,m);return m});
define("elements/questions/question/question","module jquery app/utilities/helper/helperCore app/utilities/XyTools app/events app/configuration app/player/communication elements/questions/question/model elements/questions/question/view".split(" "),function(m,d,h,n,p,q,t,k,a){m=h.extend({initialize:function(a,d,c){this.guid=a;d=d||{};this.pageIndex=c||0;this.inherit("config",!0);d=n.extend(d,{pageIndex:c},this.loadData());d=this.formatInputData(d);d.isScorecard&&!d.behavior.showfeedback&&(d.behavior.showfeedback=
"General Feedback Only");this.model=new this.config.Model(d);this.view=null},render:function(){this.view=new this.config.View({model:this.model,el:document.getElementById("guid_"+this.guid)});this.view._render()},formatInputData:function(a){"string"===n.type(a.hint)&&(a.hint=[a.hint]);return a},isInScope:function(a){return!!d(a).find("#guid_"+this.guid).length},isCompleted:function(){return!this.model.get("enabled")},isRequired:function(){return this.model.get("behavior.questionnavigationprompt")},
submit:function(){this.model.submit()},loadData:function(){var a=this.pageIndex,d={},c,e;if(c=t.getResult(a))d.result=c;if(e=t.getAnswer(a))d.answers=this.parseUserAnswer(e);if((e=t.getAttemptLimit(a))||0===parseInt(e,10))d.remainingAttempts=+e;d.flagged=!!t.getFlag(a);d.isScorecard=!!t.isScorecard(a);c&&(d.satisfied=/^correct$/i.test(c));if(a=t.getOptionsOrder(a))d.answerOrder=a;return d},saveData:function(){var a=this.pageIndex;this.model.isAttempted()&&(t.setType(a,this.model.get("interactionType")),
t.setAnswer(a,this.stringifyUserAnswer()),t.setAttemptLimit(a,this.model.get("remainingAttempts")),t.setOptionsOrder(a,this.model.get("answerOrder")),t.setFlag(a,this.model.get("flagged")),this.model.has("weight")&&this.config.saveWeight&&t.setWeight(a,this.model.get("weight")),this.model.has("timestamp")&&this.config.saveTimestamp&&t.setTimestamp(a,(new Date(this.model.get("timestamp"))).toJSON().replace(".000",".00")),this.model.has("latency")&&this.config.saveLatency&&t.setLatency(a,n.convertMillisToSCORM2004Time(this.model.get("latency"))),
this.model.has("result")&&""!==this.model.get("result")&&t.setResult(a,this.model.get("result")))},parseUserAnswer:function(a){return JSON.parse(a)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return JSON.stringify(a)},destructor:function(){"function"===typeof this.model.destructor&&this.model.destructor();"function"===typeof this.view.destructor&&this.view.destructor()}},{config:n.extend({name:"question",displayName:"Question",Model:k,View:a},
q.configure(m.id))});p.trigger("question.loaded",!0,m);return m});
define("elements/questions/multipleChoice/model/multipleChoiceModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(m,d,h,n,p,q){m=h.extend({props:{option:"array",correctAnswers:"array",answerOrder:"array",preservechoiceorder:"any",multiselect:"boolean"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.determineMultiSelect();this.setupAnswerOrder()},determineMultiSelect:function(){var d=
1<this.get("correctAnswers").length||"Always"===this.get("behavior.enablemultipleselection");this.set("multiselect",d)},getCorrectAnswers:function(){var d=this.get("option").reduce(function(d,a,f){/^true$/.test(a.iscorrect)&&d.push(f+1);return d},[]);this.set("correctAnswers",d)},setupAnswerOrder:function(){var d=[];if(this.get("enabled")&&!this.get("behavior.forceNoRandomization")){if(/^(true|false)$/.test(this.get("preservechoiceorder"))){if(/^true$/.test(this.get("preservechoiceorder")))return}else if(!this.get("behavior.randomizechoices"))return;
this.get("answerOrder").length||(d=this.get("option").map(function(d,a){return a+1}),d=p.randomizeArray(d),this.set("answerOrder",d))}},toggleAnswer:function(h){d.contains(this.get("answers"),h)?this.removeAnswer(h):this.addAnswer(h)},addAnswer:function(h){var k=this.get("answers");h=Array.isArray(h)?h:[h];this.get("multiselect")?this.set("answers",d.union(k,h)):this.set("answers",h)},removeAnswer:function(h){var k=this.get("answers");this.get("multiselect")?this.set("answers",d.without(k,h)):this.set("answers",
[h])},isCorrect:function(){var h=this.get("answers"),k=this.get("correctAnswers");var a=d.intersection(k,h).length===h.length;a&=h.length===k.length;return!!a},hasAnswers:function(){return!!this.get("answers").length}},{displayName:"multipleChoiceModel",config:p.extend({},q.configure(m.id))});n.trigger("multipleChoiceModel.loaded",!0,m);return m});
define("elements/questions/multipleChoice/views/multipleChoiceView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t,k){k={optionSelector:".MultipleChoiceQuestionOption",optionWrappersSelector:".MultipleChoiceQuestionOptionWrapper",optionsWrapperSelector:".MultipleChoiceQuestionOptions",optionStemSelector:".MultipleChoiceQuestionOptionStem",responseFeedbackSelector:".ResponseFeedback",optionIdExpression:/_?(\d*)$/,
selectedClass:"Selected",correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",desktopCheckClass:"Desktop",selectionAttribute:"checked",correctResponseString:k.t("questions.general.correctResponse"),correctString:k.t("questions.general.correct"),incorrectString:k.t("questions.general.incorrect")};m=n.extend({ui:{options:"#{optionSelector}",optionWrappers:"#{optionWrappersSelector}",optionsWrapper:"#{optionsWrapperSelector}",responseFeedbacks:"#{responseFeedbackSelector}",
responseFeedbacksLinks:"#{responseFeedbackSelector} a.Href, #{responseFeedbackSelector} a.InternalLink"},events:{"click @ui.optionWrappers":"optionClickHandler","click @ui.responseFeedbacksLinks":"responseFeedbackLinkClickHandler"},modelBindings:{"change:answers":"renderAnswers","change:answerOrder":"randomizeAnswers"},render:function(){this.setupResponseSpecificFeedback();this.renderAnswers();this.randomizeAnswers()},renderAnswers:function(){var a=this,f=this.model.get("answers");this.ui.optionWrappers.each(function(){var k=
d(this).find(a.config.optionSelector)[0];var c=h.contains(f,+k.value);k.checked=c;k.setAttribute("aria-checked",c);d(this).toggleClass(a.config.selectedClass,c)})},randomizeAnswers:function(){var a=this.config.optionSelector,f=this.model.get("answerOrder");f.length&&(this.ui.optionWrappers.detach(),this.ui.optionWrappers.sort(function(k,c){return f.indexOf(+d(k).find(a)[0].value)-f.indexOf(+d(c).find(a)[0].value)}),this.ui.optionsWrapper.append(this.ui.optionWrappers))},setupResponseSpecificFeedback:function(){var a=
this,f=this.model.get("behavior.keepQuestionMetadata");this.ui.responseFeedbacks.each(function(){var k=a.model.get("correctAnswers");if(f){if(0==d(this).text().trim().length){var c=d(this).parents(a.config.optionWrappersSelector).find(a.config.optionSelector)[0];(c=h.contains(k,+c.value))?d(this).append(a.config.correctResponseString):d(this).append(a.config.incorrectString)}}else d(this).data("children",d(this).children().detach())})},enableQuestionComponents:function(){this.ui.options.each(function(){this.disabled=
!1;this.setAttribute("aria-disabled",!1)});this.ui.optionWrappers.removeClass(this.config.disabledClass).addClass(this.config.enabledClass)},disableQuestionComponents:function(){this.ui.options.each(function(){this.disabled=!0;this.setAttribute("aria-disabled",!0)});this.ui.optionWrappers.removeClass(this.config.enabledClass).addClass(this.config.disabledClass)},optionClickHandler:function(a){this.enabled&&"A"!=d(a.target).prop("tagName")&&"SUP"!=d(a.target).prop("tagName")&&(a.preventDefault(),a=
d(a.currentTarget).find(this.config.optionSelector)[0],setTimeout(this.model.toggleAnswer,0,+a.value))},responseFeedbackLinkClickHandler:function(a){a.stopPropagation()},showResponseSpecificFeedback:function(a,f){var k=this,c=this.model.get("answers"),e=this.model.get("correctAnswers"),n=function(a,c){0==a.text().trim().length&&a.append(c)};this.ui.optionWrappers.each(function(){var a;var l=+d(this).find(k.config.optionSelector)[0].value;var m=d(this).find(k.config.responseFeedbackSelector);(a=m.data("children"))&&
a.length||(a=!1);var u=h.contains(e,l);l=h.contains(c,l);u&&l?(d(this).addClass(k.config.correctClass),n(m,a||k.config.correctString)):!u&&l?(d(this).addClass(k.config.incorrectClass),n(m,a||k.config.incorrectString)):u&&!l?(d(this).addClass(k.config.alsoCorrectClass),n(m,a||k.config.correctResponseString)):f?(d(this).addClass(k.config.incorrectClass),n(m,a||k.config.incorrectString)):m.hide()})},hideResponseSpecificFeedback:function(){this.ui.optionWrappers.removeClass([this.config.correctClass,
this.config.incorrectClass,this.config.alsoCorrectClass].join(" "))}},{displayName:"multipleChoiceView",config:t.extend(k,q.configure(m.id))});p.trigger("multipleChoiceView.loaded",!0,m);return m});
define("elements/questions/multipleChoice/multipleChoice","module elements/questions/question/question elements/questions/multipleChoice/model/multipleChoiceModel elements/questions/multipleChoice/views/multipleChoiceView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k){h={name:"multipleChoice",displayName:k.t("questions.multipleChoice.displayName")||"Multiple Choice",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,
View:n,Model:h};m=d.extend({parseUserAnswer:function(a){return a.split(",").map(parseFloat)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:p.extend(h,t.configure(m.id))});q.trigger("multipleChoice.loaded",!0,m);return m});
define("elements/questions/selectHotText/model/selectHotTextModel","module elements/questions/question/model app/events underscore app/utilities/XyTools app/configuration".split(" "),function(m,d,h,n,p,q){m=d.extend({extraProperties:"allow",props:{selecttext:"object",correctAnswers:"array",multiselect:"boolean"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.determineMultiSelect()},determineMultiSelect:function(){var d=1<this.get("correctAnswers").length||
"Always"===this.get("behavior.enablemultipleselection");this.set("multiselect",d)},getCorrectAnswers:function(){var d=this.get("selecttext.optionchoice").reduce(function(d,a,f){/^true$/.test(a.iscorrect)&&d.push(f);return d},[]);this.set("correctAnswers",d)},toggleAnswer:function(d){n.contains(this.get("answers"),d)?this.removeAnswer(d):this.addAnswer(d)},addAnswer:function(d){var k=this.get("answers");this.get("multiselect")?this.set("answers",n.union(k,[d])):this.set("answers",[d])},removeAnswer:function(d){var k=
this.get("answers");this.get("multiselect")?this.set("answers",n.without(k,d)):this.set("answers",[d])},isCorrect:function(){var d=this.get("answers"),k=this.get("correctAnswers");var a=n.intersection(k,d).length===d.length;a&=d.length===k.length;return!!a},hasAnswers:function(){return!!this.get("answers").length}},{displayName:"selectHotTextModel",config:p.extend({},q.configure(m.id))});h.trigger("selectHotTextModel.loaded",!0,m);return m});
define("elements/questions/selectHotText/views/selectHotTextView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools elements/tooltip/tooltip".split(" "),function(m,d,h,n,p,q,t,k){m=n.extend({ui:{options:"#{optionSelector}",optionsWrapper:"#{textWrapperSelector}"},events:{"click @ui.options":"answerClickHandler"},modelBindings:{"change:answers":"renderAnswers"},render:function(){this.renderAnswers();this.popupEvent="roll-over"!==this.config.popupTrigger||
t.detect.device?"click.popup":"mouseover.popup mouseleave.popup";this.popups=[]},renderAnswers:function(){var a=this,f=this.model.get("answers");this.ui.options.each(function(k){k=h.contains(f,+k);d(this).toggleClass(a.config.selectedClass,k)})},enableQuestionComponents:function(){this.ui.optionsWrapper.removeClass(this.config.disabledClass).addClass(this.config.enabledClass)},disableQuestionComponents:function(){this.ui.optionsWrapper.removeClass(this.config.enabledClass).addClass(this.config.disabledClass)},
answerClickHandler:function(a){a.preventDefault();this.enabled&&(a=d(a.currentTarget),a=h.indexOf(this.ui.options,a[0]),this.model.toggleAnswer(+a))},showResponseSpecificFeedback:function(a,f){var k=this,c=this.model.get("answers"),e=this.model.get("correctAnswers"),n=this.model.get("selecttext").optionchoice;this.destroyPopups();this.ui.options.each(function(a){var l=d(this);var m=n[a].responsefeedback;var u=h.contains(e,a);a=h.contains(c,a);u&&a?(d(this).addClass(k.config.correctClass),m=m||k.config.correctString):
!u&&a?(d(this).addClass(k.config.incorrectClass),m=m||k.config.incorrectString):u&&!a?(d(this).addClass(k.config.alsoCorrectClass),m=m||k.config.correctResponseString):f?k.createPopup(l,m||k.config.incorrectString):m=null;m&&k.createPopup(l,m)})},hideResponseSpecificFeedback:function(){this.ui.options.removeClass([this.config.correctClass,this.config.incorrectClass,this.config.alsoCorrectClass].join(" "))},createPopup:function(a,f){var d=new k({content:f,maxWidth:this.config.popupMaxWidth});this.popups.push(d);
a.on(this.popupEvent,function(a){a.preventDefault();a.stopPropagation();this.closePopups();d.isOpen()?d.close():d.option("position",[a.clientY+10,a.clientX+10]).open()}.bind(this))},closePopups:function(){this.popups.forEach(function(a){a.close()})},destroyPopups:function(){this.ui.options.off("click.popup mouseover.popup mouseleave.popup");this.popups.forEach(function(a){a.close();a.destroy()});this.popups=[]},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.destroyPopups()},
destructor:function(){this.destroyPopups()}},{displayName:"selectHotTextView",config:t.extend({optionSelector:".SelectHotTextQuestionOption",textWrapperSelector:".SelectHotTextText",selectedOptionWrapEl:"mark",selectedClass:"Selected",enabledClass:"Enabled",disabledClass:"Disabled",correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",selectionAttribute:"checked",popupTrigger:"click",singleAnswerSelect:!0,popupMaxWidth:"500px"},q.configure(m.id))});p.trigger("selectHotTextView.loaded",
!0,m);return m});
define("elements/questions/selectHotText/selectHotText","module elements/questions/question/question elements/questions/selectHotText/model/selectHotTextModel elements/questions/selectHotText/views/selectHotTextView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k){h={name:"selectHotText",displayName:k.t("questions.selectHotText.displayName")||"Select Hot Text",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:n,
Model:h};m=d.extend({parseUserAnswer:function(a){return a.split(",").map(parseFloat)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:p.extend(h,t.configure(m.id))});q.trigger("selectHotText.loaded",!0,m);return m});
define("elements/questions/imageMapAssessment/model/imageMapAssessmentModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(m,d,h,n,p,q){m=h.extend({props:{baseimage:"object",hotspotchoices:"object",outlinecolor:"string",showhotspotoutlines:["string","onload"],multiselect:"boolean"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.determineMultiSelect();var d=this.get("showhotspotoutlines");
""===d&&(d="onload");this.set("showhotspotoutlines",d.toLowerCase())},getCorrectAnswers:function(){var d=this.get("hotspotchoices.hotspotchoice");d=d?p.toArray(d):[];d=d.reduce(function(d,a,f){/^true$/.test(a.iscorrect)&&d.push(f+1);return d},[]);this.set("correctAnswers",d)},determineMultiSelect:function(){var d=1<this.get("correctAnswers").length||"Always"===this.get("behavior.enablemultipleselection");this.set("multiselect",d)},toggleAnswer:function(h){d.contains(this.get("answers"),h)&&this.get("multiselect")?
this.removeAnswer(h):this.addAnswer(h)},addAnswer:function(h){var k=this.get("answers");this.get("multiselect")?this.set("answers",d.union(k,[h])):this.set("answers",[h])},removeAnswer:function(h){var k=this.get("answers");this.get("multiselect")?this.set("answers",d.without(k,h)):this.set("answers",[h])},isCorrect:function(){var h=this.get("answers"),k=this.get("correctAnswers");var a=d.intersection(k,h).length===h.length;a&=h.length===k.length;return!!a},hasAnswers:function(){return!!this.get("answers").length}},
{displayName:"imageMapAssessmentModel",config:p.extend({},q.configure(m.id))});n.trigger("imageMapAssessmentModel.loaded",!0,m);return m});
define("elements/questions/imageMapAssessment/views/imageMapAssessmentView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools jquery.extensions".split(" "),function(m,d,h,n,p,q,t){m=n.extend({ui:{wrapper:"#{imageWrapperSelector}",img:"#{imageSelector}",svg:"#{svgSelector}",options:"#{optionsSelector}"},events:{"click @ui.options":"answerClickHandler","keyup @ui.options":"answerClickHandler"},modelBindings:{"change:answers":"renderAnswers",
"change:timesAttempted":"removeAnswerShadowsIfNeeded","change:satisfied":"removeAnswerShadowsIfNeeded"},render:function(){this.ui.img.on("load",this.imageLoaded);this.handleHotSpotOutlines()},renderAnswers:function(){var k=this,a=this.model.get("answers");this.ui.options.each(function(){var f=d(this).data("position");f=h.contains(a,+f);d(this).toggleClassSVG(k.config.selectedClass,f)})},initSelectedAnswer:function(){var k=this,a=this.model.get("answers"),f=this.model.get("showhotspotoutlines");this.ui.options.each(function(){var l=
d(this).data("position");l=h.contains(a,+l);d(this).toggleClassSVG(k.config.selectedClass,l);"onload"!=f&&d(this).toggleClassSVG(k.config.visibleClass,l)})},hideAnswers:function(){var k=this;this.ui.options.each(function(){d(this).toggleClassSVG(k.config.selectedClass,!1)})},imageLoaded:function(){this.renderSVG();this.initSelectedAnswer();this.handleScaling();this.showImage()},renderSVG:function(){this.positionSVG();this.renderPolygons()},positionSVG:function(){var d=this.ui.img.width(),a=this.ui.img.height(),
f=this.ui.img.position(),l=this.ui.img.outerWidth(),c=this.ui.img.outerHeight(),e=this.ui.img.offsetParent(),h={},n=this.getScalingCoef();e=(e.outerWidth()-e.width())/2;var m=t.getLanguageDirection();h.top=f.top+(c-a)*n/2;h["ltr"===m?"left":"right"]=e+(l-d)*n/2;this.ui.svg.height(a).width(d).css(h)},renderPolygons:function(){this.ui.svg.find("text").each(function(){var k=d(this).parent()[0],a=d(this).text().split(/\s|\n/).join("").split("#").join(" "),f=document.createElementNS("http://www.w3.org/2000/svg",
"polygon");f.setAttributeNS(null,"points",a);d(this).remove();k.insertBefore(f,k.firstChild);f=a.split(" ").map(function(a){return a.split(",")});a=f.reduce(function(a,c){return a+parseFloat(c[0]||0)},0)/(f.length||1);f=f.reduce(function(a,c){return a+parseFloat(c[1]||0)},0)/(f.length||1);d(k).find("use").attr({x:a-12,y:f-12})})},showImage:function(){this.ui.wrapper.css({opacity:1})},removeAnswerShadows:function(){this.ui.options.not("."+this.config.selectedClass).removeClassSVG(this.config.visibleClass)},
removeAnswerShadowsIfNeeded:function(){(this.model.get("satisfied")||0>=this.model.get("remainingAttempts"))&&this.removeAnswerShadows()},handleHotSpotOutlines:function(){var k=this,a=this.model.get("showhotspotoutlines"),f=function(){k.ui.options.not("."+k.config.selectedClass).removeClassSVG(k.config.visibleClass)};if("onload"===a)return this.ui.options.addClassSVG(this.config.visibleClass),this;this.ui.options.removeClassSVG(this.config.visibleClass);if(a.match(/click/)||t.detect.device)return p.on("questionModel.submit:answered",
function(){0>=k.model.get("remainingAttempts")&&f()}),this.ui.el.on("click keyup",this.config.optionsSelector,function(a){!k.enabled||/^key/.test(a.type)&&32!==a.keyCode||(d(this).is("."+k.config.selectedClass)?d(this).toggleClassSVG(k.config.visibleClass,!0):d(this).toggleClassSVG(k.config.visibleClass),k.config.leaveOldAnswerShadow||f())}),this;if(a.match(/mouseover/))this.ui.options.on("mouseover mouseleave",function(){k.enabled&&d(this).toggleClassSVG(k.config.visibleClass)})},answerClickHandler:function(k){/^key/.test(k.type)&&
32!==k.keyCode||!this.enabled||(k=d(k.currentTarget),this.model.toggleAnswer(+k.data("position")))},showResponseSpecificFeedback:function(){var k=this,a=this.model.get("answers"),f=this.model.get("correctAnswers");this.ui.options.each(function(){var l=d(this).data("position"),c=[k.config.visibleClass,k.config.selectedClass];if(h.contains(a,l)||h.contains(f,l))h.contains(a,l)?h.contains(f,l)?c.push(k.config.correctClass):c.push(k.config.incorrectClass):c.push(k.config.alsoCorrectClass),d(this).addClassSVG(c.join(" "))})},
hideResponseSpecificFeedback:function(){this.ui.options.removeClassSVG([this.config.correctClass,this.config.alsoCorrectClass,this.config.incorrectClass].join(" "))},handleScaling:function(){this.config.responsiveScaling&&("rtl"===t.getLanguageDirection()&&(t.detect.browser.ie||t.detect.browser.edge)&&this.ui.svg.css("transform-origin","left top"),this.ui.wrapper.css("overflow","hidden"),this.scaleImage=h.throttle(this.scaleImage.bind(this),50),d(window).on("resize",this.scaleImage),this.scaleImage())},
scaleImage:function(){var d=this.ui.wrapper[0],a=d.offsetWidth;d=d.scrollWidth;var f=this.getScalingCoef();f*=this.ui.img.height();d>a?(this.ui.wrapper.children().css("transform","scale("+a/(d+6)+")"),this.ui.wrapper.height(f+20)):(this.ui.wrapper.children().css("transform","scale(1)"),this.ui.wrapper.height("auto"));this.positionSVG()},getScalingCoef:function(){var d=this.ui.wrapper[0];return this.config.responsiveScaling?d.offsetWidth/d.scrollWidth:1},turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);
this.renderAnswers()},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.removeAnswerShadows()},destructor:function(){d("window").off("resize",this.scaleImage);this.constructor.__super__.destructor.call(this)}},{displayName:"imageMapAssessmentView",config:t.extend({imageWrapperSelector:".ImageMapAssessmentImageWrapper",imageSelector:".ImageMapAssessmentImage",svgSelector:".ImageMapAssessmentSVG",optionsSelector:".ImageMapAssessmentOption",visibleClass:"Visible",
selectedClass:"Selected",correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",responsiveScaling:!0,leaveOldAnswerShadow:!1},q.configure(m.id))});p.trigger("imageMapAssessmentView.loaded",!0,m);return m});
define("elements/questions/imageMapAssessment/imageMapAssessment","module elements/questions/question/question elements/questions/imageMapAssessment/model/imageMapAssessmentModel elements/questions/imageMapAssessment/views/imageMapAssessmentView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k){h={name:"imageMapAssessment",displayName:k.t("questions.imageMapAssessment.displayName")||"ImageMap Assessment",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,
saveCorrectResponses:!0,View:n,Model:h};m=d.extend({parseUserAnswer:function(a){return a.split(",").map(parseFloat)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:p.extend(h,t.configure(m.id))});q.trigger("imageMapAssessment.loaded",!0,m);return m});
define("elements/questions/matrix/model/matrixModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(m,d,h,n,p,q){m=h.extend({props:{columnheaders:"array",statements:"object",statementMap:"array",answerOrder:"array",preservechoiceorder:"any",multiselect:"boolean"},initialize:function(){this.constructor.__super__.initialize.call(this);this.createStatementMap();this.determineMultiSelect();this.setupStatementOrder()},createStatementMap:function(){var d=
[],k=this.get("answers"),a,f;var l=0;for(a=this.get("statements").statement.length;l<a;l+=1){var c=this.get("statements").statement[l];d[l]=[];k[l]=Array.isArray(k[l])?k[l]:[];var e=Array.isArray(c.correctcolumn)?c.correctcolumn:[c.correctcolumn];c=0;for(f=e.length;c<f;c+=1)d[l].push(+e[c])}this.set("statementMap",d);n.trigger("matrixModel.init:after")},determineMultiSelect:function(){var d=this.get("statementMap"),k=!1;k="Always"===this.get("behavior.enablemultipleselection")||d.some(function(a){return 1<
a.length});this.set("multiselect",k)},setupStatementOrder:function(){if(this.get("enabled")&&!this.get("behavior.forceNoRandomization")){if(/^(true|false)$/.test(this.get("preservechoiceorder"))){if(/^true$/.test(this.get("preservechoiceorder")))return}else if(!this.get("behavior.randomizechoices"))return;if(!this.get("answerOrder").length){var d=this.get("statements").statement.map(function(d,a){return a+1});d=p.randomizeArray(d);this.set("answerOrder",d)}}},toggleAnswer:function(h,k){d.contains(this.get("answers")[h],
k)?this.removeAnswer(h,k):this.addAnswer(h,k)},addAnswer:function(h,k){var a=this.get("answers"),f=d.clone(a);this.get("multiselect")?f[h]=d.union(a[h],[k]):f[h]=[k];this.set("answers",f)},removeAnswer:function(h,k){var a=this.get("answers"),f=d.clone(a);f[h]=d.without(a[h],k);this.set("answers",f)},isCorrect:function(){var d=this.get("answers"),k=this.get("statementMap"),a=[];var f=0;for(d=d.length;f<d;f+=1)this.isStatementCorrect(f)&&a.push(f);return a.length===k.length},isStatementCorrect:function(h){var k=
this.get("answers")[h];h=this.get("statementMap")[h];var a=this.get("columnheaders").columnheader.length,f=[],l;var c=0;for(l=h.length;c<l;c+=1)0<h[c]&&h[c]<=a&&0>f.indexOf(+h[c])&&(f=Array.isArray(f)?f:[],f.push(+h[c]));return k.length===f.length&&d.intersection(k,f).length===f.length},hasAnswers:function(){var d=this.get("answers");return!!d.length&&d.every(function(d){return 0<d.length})},refreshCorrectAnswers:function(){var h=this.get("answers"),k=d.clone(h),a=this.get("statementMap"),f;var l=
0;for(f=h.length;l<f;l+=1)k[l]=d.intersection(h[l],a[l]);this.set("answers",k)}},{displayName:"matrixModel",config:p.extend({},q.configure(m.id))});n.trigger("matrixModel.loaded",!0,m);return m});
define("elements/questions/matrix/views/matrixView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t,k){k={optionSelector:".MatrixQuestionOption",optionWrappersSelector:".MatrixQuestionOptionWrapper",optionsWrapperSelector:".MatrixQuestionStatements",rowSelector:".MatrixQuestionStatement",columnHeaderSelector:".MatrixQuestionColumnHeader",responseFeedbackSelector:".ResponseFeedback",selectedClass:"Selected",
correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",desktopCheckClass:"Desktop",selectionAttribute:"checked",coordinateSeperator:"_",correctResponseString:k.t("questions.general.correctResponse"),correctString:k.t("questions.general.correct"),incorrectString:k.t("questions.general.incorrect")};m=n.extend({ui:{options:"#{optionSelector}",optionWrappers:"#{optionWrappersSelector}",optionsWrapper:"#{optionsWrapperSelector}",rows:"#{rowSelector}",columnHeaders:"#{columnHeaderSelector}",
responseFeedbacks:"#{responseFeedbackSelector}"},events:{"click @ui.optionWrappers":"optionClickHandler"},modelBindings:{"change:answers":"renderAnswers","change:answerOrder":"randomizeStatements"},render:function(){this.setupResponseSpecificFeedback();this.detectDesktop();this.renderAnswers();this.randomizeStatements()},detectDesktop:function(){t.detect.device||this.ui.optionWrappers.addClass(this.config.desktopCheckClass)},renderAnswers:function(){var a=this,f=this.model.get("answers");this.ui.optionWrappers.each(function(){var k=
d(this).find(a.config.optionSelector)[0];var c=k.value.split(a.config.coordinateSeperator);c=h.contains(f[+c[1]-1],+c[0]);k.checked=c;k.setAttribute("aria-checked",c);d(this).toggleClass(a.config.selectedClass,c)})},randomizeStatements:function(){var a=this.model.get("answerOrder");a.length&&(this.ui.rows.detach(),this.ui.rows.sort(function(f,d){return a.indexOf(+f.getAttribute("data-row"))-a.indexOf(+d.getAttribute("data-row"))}),this.ui.optionsWrapper.append(this.ui.rows))},setupResponseSpecificFeedback:function(){var a=
this.model.get("behavior.keepQuestionMetadata");this.ui.responseFeedbacks.each(function(){a||d(this).data("feedback",d(this).html()).empty()})},enableQuestionComponents:function(){this.ui.options.each(function(){this.disabled=!1;this.setAttribute("aria-disabled",!1)});this.ui.optionWrappers.removeClass(this.config.disabledClass).addClass(this.config.enabledClass)},disableQuestionComponents:function(){this.ui.options.each(function(){this.disabled=!0;this.setAttribute("aria-disabled",!0)});this.ui.optionWrappers.removeClass(this.config.enabledClass).addClass(this.config.disabledClass)},
optionClickHandler:function(a){a.preventDefault();this.enabled&&(a=d(a.currentTarget).find(this.config.optionSelector)[0].value.split(this.config.coordinateSeperator),setTimeout(this.model.toggleAnswer,0,+a[1]-1,+a[0]))},showResponseSpecificFeedback:function(){var a=this,f=this.model.get("answers"),k=this.model.get("statementMap");this.ui.rows.each(function(){var c=d(this);var e=a.model.isStatementCorrect(+c.data("row")-1);var f=c.find(a.config.responseFeedbackSelector);var k=f.data("feedback");f.length&&
k||(k=!1);e?(c.addClass(a.config.correctClass),c=k||a.config.correctString,0==f.text().trim().length&&f.append(c)):(c.addClass(a.config.incorrectClass),c=k||a.config.incorrectString,0==f.text().trim().length&&f.append(c))});this.ui.optionWrappers.each(function(){var c=d(this).find(a.config.optionSelector)[0].value.split(a.config.coordinateSeperator);var e=h.contains(k[+c[1]-1],+c[0]);c=h.contains(f[+c[1]-1],+c[0]);e&&c?d(this).addClass(a.config.correctClass):!e&&c?d(this).addClass(a.config.incorrectClass):
e&&!c&&d(this).addClass(a.config.alsoCorrectClass)})},hideResponseSpecificFeedback:function(){this.ui.optionWrappers.add(this.ui.rows).removeClass([this.config.correctClass,this.config.incorrectClass,this.config.alsoCorrectClass].join(" "))}},{displayName:"matrixView",config:t.extend(k,q.configure(m.id))});p.trigger("multipleChoiceView.loaded",!0,m);return m});
define("elements/questions/matrix/matrix","module elements/questions/question/question elements/questions/matrix/model/matrixModel elements/questions/matrix/views/matrixView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k){h={name:"matrix",displayName:k.t("questions.matrix.displayName")||"Matrix",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:n,Model:h};m=d.extend({parseUserAnswer:function(a){return JSON.parse(a.replace(/\|/g,
","))},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return JSON.stringify(a).replace(/,/g,"|")}},{config:p.extend(h,t.configure(m.id))});q.trigger("matrix.loaded",!0,m);return m});
define("elements/questions/dragDrop/model/dragDropModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(m,d,h,n,p,q){m=h.extend({props:{correctAnswers:"array",baseimage:"object",cognitionlevel:"string",dragobjects:"object",dropareacolor:"any",highlightdroparea:"any",targetsensititypercent:"any"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.initAnswers()},getCorrectAnswers:function(){var d=
this.get("dragobjects.dragobject");d=p.toArray(d).map(function(d,a){d=d.dragtype;return d.hasOwnProperty("dragtext")||d.hasOwnProperty("dragimage")?a:null});this.set("correctAnswers",d)},initAnswers:function(){if(!this.get("answers").length){var d=this.get("correctAnswers").map(function(){return null});this.set("answers",d)}},answerChanged:function(d,k){var a=this.get("answers");var f=a.slice(0);-1!==f.indexOf(k)&&f[d]!==k&&(k=null);"practice"===this.get("behavior.dnd_mode").toLowerCase()&&this.get("correctAnswers")[d]!==
k&&(k=null);f[d]=k;this.set("answers",f);a[d]===f[d]&&this.trigger("change:answers")},isCorrect:function(){return d.isEqual(this.get("answers"),this.get("correctAnswers"))},hasAnswers:function(){var d=this.get("answers").filter(function(a){return null!==a});var k=this.get("correctAnswers").filter(function(a){return null!==a});return d.length===k.length},refreshCorrectAnswers:function(){var d=this.get("answers"),k=this.get("correctAnswers");d=d.map(function(a,f){return k[f]!==a?null:a});this.set("answers",
d)},clearAnswers:function(){var d=this.get("correctAnswers").map(function(){return null});this.set("answers",d)}},{displayName:"dragDropModel",config:p.extend({},q.configure(m.id))});n.trigger("dragDropModel.loaded",!0,m);return m});
define("elements/questions/dragDrop/views/dragDropView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang jquery.extensions".split(" "),function(m,d,h,n,p,q,t,k){k={imageSelector:".DragDropImage",imageWrapperSelector:".DragDropImageWrapper",dragDropWrapperSelector:".DragDropObjects",startDragsSelector:".DragStart",targetDragsSelector:".DragTarget",distractorSelector:".Distractor",dragTextSelector:".DragText",dragTextInnerSelector:".DragTextInner",
dragImageSelector:".DragImage",highlightedClass:"Highlighted",visibleClass:"Visible",correctClass:"Correct",incorrectClass:"Incorrect",showSolutionButtonSelector:".ShowSolutionButton",showSolutionButtonHiddenClass:"Hidden",showSolutionButtonSolutionText:k.t("questions.general.showSolution")||"Show solution",showSolutionButtonUserAnswerText:k.t("questions.general.myAnswer")||"My answer",responsiveScaling:!0,disableDragOnTouchDevices:!1};m=n.extend({ui:{wrapper:"#{imageWrapperSelector}",img:"#{imageSelector}",
dragsWrapper:"#{dragDropWrapperSelector}",drags:"#{startDragsSelector}",targets:"#{targetDragsSelector}",distractors:"#{distractorSelector}",showSolutionButton:"#{showSolutionButtonSelector}"},events:{"click @ui.showSolutionButton":"toggleSolution"},modelBindings:{"change:answers":"updateAnswers"},render:function(){this.restorePosition();this.positionDrags();this.handleDrags();this.renderAnswers();this.ui.img.on("load",this.imageLoaded)},restorePosition:function(){var a=this;this.ui.drags.add(this.ui.distractors).each(function(f){d(this).data("position",
f);if(!d(this).is(a.config.distractorSelector)){var k=this.id.replace("start_","");a.ui.targets.filter("#target_"+k).data("position",f)}})},positionDrags:function(){var a=this;this.ui.drags.add(this.ui.distractors).filter(this.config.dragTextSelector).each(function(){var f=d(this).position().top,k=parseFloat(d(this).find(a.config.dragTextInnerSelector).css("font-size"));d(this).css({top:f-k}).data({"start-top":f-k});d(this).is(a.config.distractorSelector)||(f=this.id.replace("start_",""),f=a.ui.targets.filter("#target_"+
f),f.css("top",f.position().top-k))})},updateAnswers:function(){this.renderAnswers(this.model.get("answers"))},renderAnswers:function(a){a&&a.length||(a=this.model.get("answers"));a.forEach(function(a,d){d=this.getDragByPosition(d);null==a?this.moveDragToStart(d):(a=this.getTargetByPosition(a),this.moveDragToTarget(d,a))},this)},imageLoaded:function(){this.renderOverlay();this.showImage();this.handleScaling()},showImage:function(){this.ui.wrapper.css({opacity:1})},renderOverlay:function(){var a=this.ui.img.width(),
f=this.ui.img.height(),d=this.ui.img.position(),c=this.ui.img.outerWidth(),e=this.ui.img.outerHeight(),k=this.ui.img.offsetParent(),h={};k=(k.outerWidth()-k.width())/2;var n=t.getLanguageDirection();h.top=d.top+(e-f)/2;h["ltr"===n?"left":"right"]=k+(c-a)/2;this.ui.dragsWrapper.height(f).width(a).css(h)},handleDrags:function(){var a=this.ui.drags.add(this.ui.distractors),f=this;if(this.enabled)if(this.config.disableDragOnTouchDevices&&t.detect.touchDevice)a.on("click",function(a){var c=d(this);a.stopPropagation();
f.ui.wrapper.off("click.drag");f.dragStart(a);f.ui.wrapper.on("click.drag",function(a){f.dragStop(a,c);f.ui.wrapper.off("click.drag")})});else a.drags({zIndex:4,cursor:"invalid-\u0441ursor-name",ondragstart:this.dragStart,ondragstop:this.dragStop,contentWrapper:this.ui.wrapper})},dragStart:function(a){a=d(a.currentTarget);this.unhighlightDrags();this.highlightDrag(a);this.resizeTargets(a);this.ui.el.data("highlight-drop-area")&&this.showTargets()},dragStop:function(a,f){var k=a.pageX||a.originalEvent.changedTouches[0].pageX,
c=a.pageY||a.originalEvent.changedTouches[0].pageY;this.unhighlightDrags();this.hideTargets();f=f||d(a.currentTarget);a=this.calculateDrop(k,c);f=f.data("position");a=a?a.data("position"):null;this.model.answerChanged(f,a)},calculateDrop:function(a,f){var k=!1;this.ui.targets.each(function(){var c=d(this).offset();c.width=d(this).width();c.height=d(this).height();if(f>=c.top&&f<=c.top+c.height&&a>=c.left&&a<=c.left+c.width)return k=d(this),!1});return k},highlightDrag:function(a){a.addClass(this.config.highlightedClass)},
unhighlightDrags:function(){this.ui.drags.add(this.ui.distractors).removeClass(this.config.highlightedClass)},showTargets:function(){this.ui.targets.addClass(this.config.visibleClass)},hideTargets:function(){this.ui.targets.removeClass(this.config.visibleClass)},resizeTarget:function(a,f){var d=f.width();f=f.height();a.width(d).height(f)},resizeTargets:function(a){var f=a.width();a=a.height();this.ui.targets.width(f).height(a)},getDragByPosition:function(a){return this.ui.drags.add(this.ui.distractors).filter(function(){return+d(this).data("position")===
a})},getTargetByPosition:function(a){return this.ui.targets.filter(function(){return+d(this).data("position")===a})},moveDragToStart:function(a){a.stop().animate({top:a.data("start-top")+"px",left:a.data("start-left")+"px"},200)},moveDragToTarget:function(a,f){a.stop().animate({top:f[0].offsetTop,left:f[0].offsetLeft},200)},showResponseSpecificFeedback:function(a){var f=this.model.get("correctAnswers");a=a||this.model.get("answers");a.forEach(function(a,c){if(null!=a){var e=this.getTargetByPosition(a);
var d=this.getDragByPosition(c);this.resizeTarget(e,d);f[c]===a?d.addClass(this.config.correctClass):d.addClass(this.config.incorrectClass)}},this)},hideResponseSpecificFeedback:function(){this.ui.targets.add(this.ui.drags).removeClass([this.config.correctClass,this.config.incorrectClass].join(" "))},enableQuestionComponents:function(){this.handleDrags()},disableQuestionComponents:function(){this.ui.drags.add(this.ui.distractors).off("mousedown mouseup touchstart touchend click")},showSolutionButton:function(){this.showSolutionButtonState=
"correct";this.ui.showSolutionButton.removeClass(this.config.showSolutionButtonHiddenClass)},hideSolutionButton:function(){this.ui.showSolutionButton.addClass(this.config.showSolutionButtonHiddenClass)},toggleSolution:function(){"correct"===this.showSolutionButtonState?(this.ui.showSolutionButton.text(this.config.showSolutionButtonUserAnswerText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonUserAnswerText),this.renderAnswers(this.model.get("correctAnswers")),this.showSolutionButtonState=
"user",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback(this.model.get("correctAnswers")))):(this.ui.showSolutionButton.text(this.config.showSolutionButtonSolutionText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonSolutionText),this.renderAnswers(this.model.get("answers")),this.showSolutionButtonState="correct",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback()))},
handleScaling:function(){this.config.responsiveScaling&&(this.ui.wrapper.css("overflow","hidden"),this.scaleImage=h.throttle(this.scaleImage.bind(this),50),d(window).on("resize",this.scaleImage),this.scaleImage())},scaleImage:function(){var a=this.ui.wrapper[0],f=a.offsetWidth;a=a.scrollWidth;var d=f/a;d*=this.ui.img.height();a>f?(this.ui.wrapper.children().css("transform","scale("+f/(a+6)+")"),this.ui.wrapper.height(d+20)):(this.ui.wrapper.children().css("transform","scale(1)"),this.ui.wrapper.height("auto"))},
turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);this.renderAnswers(this.model.get("correctAnswers"))},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.renderAnswers()},destructor:function(){this.disableQuestionComponents();d(window).off("resize",this.scaleImage);this.constructor.__super__.destructor.call(this)}},{displayName:"dragDropView",config:t.extend(k,q.configure(m.id))});p.trigger("dragDropView.loaded",!0,m);return m});
define("elements/questions/dragDrop/dragDrop","module elements/questions/question/question elements/questions/dragDrop/model/dragDropModel elements/questions/dragDrop/views/dragDropView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k){h={name:"dragDrop",displayName:k.t("questions.dragDrop.displayName")||"Drag 'n Drop",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:n,Model:h};m=d.extend({parseUserAnswer:function(a){return a.split(",").map(function(a){a=
parseFloat(a);return isNaN(a)?null:a})},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:p.extend(h,t.configure(m.id))});q.trigger("dragDrop.loaded",!0,m);return m});
define("elements/questions/matchingActivity/model/matchingActivityModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(m,d,h,n,p,q){m=h.extend({props:{option:"array",distractorMap:"array",matchMap:"array",userAnswerString:"string",suspendType:"any",presotype:"string"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.initAnswers();this.setupAnswerOrder()},getCorrectAnswers:function(){var d=
p.toArray(this.get("option")).map(function(d,a){return a});this.set("correctAnswers",d)},initAnswers:function(d){if(!this.get("answers").length||d)d=this.get("correctAnswers").map(function(){return null}),this.set("answers",d)},setupAnswerOrder:function(){var d=this.get("behavior.forceNoRandomization");if(!this.get("answerOrder").length){var k=this.get("correctAnswers").map(function(a,d){return d});var a=d?k:p.randomizeArray(k);d=d?k:p.randomizeArray(k);this.set("answerOrder",[a,d])}},answerChanged:function(d,
k){var a=this.get("answers");var f=a.slice(0);null===d&&(d=f.indexOf(k),-1===d&&(d=null),k=null);-1!==f.indexOf(k)&&f[d]!==k&&(f[f.indexOf(k)]=null);null!==d&&(f[d]=k);this.set("answers",f);a[d]===f[d]&&this.trigger("change:answers")},isCorrect:function(){return d.isEqual(this.get("answers"),this.get("correctAnswers"))},hasAnswers:function(){return-1===this.get("answers").indexOf(null)},clearAnswers:function(){this.initAnswers(!0)},refreshCorrectAnswers:function(){var d=this.get("answers"),k=this.get("correctAnswers");
d=d.map(function(a,f){return k[f]!==a?null:a});this.set("answers",d)}},{displayName:"MatchingActivityModel",config:p.extend({},q.configure(m.id))});n.trigger("matchingActivityModel.loaded",!0,m);return m});
define("elements/questions/matchingActivity/views/matchingActivityView","module elements/questions/question/view jquery underscore app/events app/configuration app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t,k){k={optionsWrapperSelector:".MatchingQuestionOptionsWrapper",optionWrappersSelector:".QuestionOptionWrapper",optionSelector:".QuestionOption",distractorSelector:".MatchingQuestionDistractorWrapper",distractorsWrapperSelector:".MatchingQuestionDistractors",distractorsBinSelector:".MatchingQuestionsDistractorsBin",
binIndicesWrapperSelector:".MatchingQuestionBinIndicesWrapper",binIndicesToggleButtonSelector:".BinIndicesToggleButton",matchSelector:".MatchingQuestionMatchWrapper",matchCheckboxSelector:".MatchingQuestionMatchCheckbox",matchesWrapperSelector:".MatchingQuestionMatches",matchSelectorResponsive:".MatchingQuestionMatchWrapperResponsive",matchesWrapperSelectorResponsive:".MatchingQuestionMatchesResponsive",optionHandleSelector:".MatchingQuestionHandleWrapper",optionConnectorSelector:".MatchingQuestionConnector",
distractorsBinIndexClass:"MatchingQuestionsDistractorsBinIndex",selectedClass:"Selected",activeClass:"Active",correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",showSolutionButtonSelector:".ShowSolutionButton",showSolutionButtonHiddenClass:"Hidden",showSolutionButtonSolutionText:k.t("questions.general.showSolution")||"Show solution",showSolutionButtonUserAnswerText:k.t("questions.general.myAnswer")||"My answer",closedClass:"Closed",checkedClass:"Checked",answeredClass:"Answered",
responsiveBreakpoint:740,responsiveBin:{zIndex:101,topSpacing:void 0,topSpacingElementSelector:"#PageHeader .Areas"}};m=d.extend({ui:{options:"#{optionSelector}",optionWrappers:"#{optionWrappersSelector}",optionsWrapper:"#{optionsWrapperSelector}",distractors:"#{distractorSelector}",distractorsWrapper:"#{distractorsWrapperSelector}",distractorsBin:"#{distractorsBinSelector}",indicesWrapper:"#{binIndicesWrapperSelector}",indicesToggleButton:"#{binIndicesToggleButtonSelector}",matches:"#{matchSelector}",
matchesWrapper:"#{matchesWrapperSelector}",matchesWrapperResponsive:"#{matchesWrapperSelectorResponsive}",matchWrapperResponsive:"#{matchSelectorResponsive}",matchesResponsiveCheckboxes:"#{matchCheckboxSelector}",optionHandles:"#{optionHandleSelector}",optionConnectors:"#{optionConnectorSelector}",showSolutionButton:"#{showSolutionButtonSelector}"},events:{"click @ui.optionWrappers":"answerClickHandler","click @ui.matchWrapperResponsive":"answerResponsiveClickHandler","click @ui.indicesToggleButton":"toggleBin",
"click @ui.showSolutionButton":"toggleSolution"},modelBindings:{"change:answers":"updateAnswers","change:answerOrder":"randomizeOptions"},_cachedUiAnswers:[],render:function(){this.restorePosition();this.activeDistractor=this.activeMatch=null;this.binIndices=h([]);this.binInitialized=this.uncheckAction=!1;this.updateAnswers();this.randomizeOptions();this.renderResponsiveBin();this.refreshConnectors();this._boundRefreshAnswers=this.refreshConnectors;p.on("content.mediaState:changed",this.updateBinOnMediaQueryChange.bind(this));
p.on("questionState.updated",this.onQuestionStateUpdated.bind(this));h(window).on("resize",this._boundRefreshAnswers)},updateAnswers:function(){this.renderAnswers(this.model.get("answers"));this.processResponsive(this.model.get("answers"))},renderAnswers:function(a){this.unhighlight(this.ui.distractors);this.unhighlight(this.ui.matches);this.clearConnectors();a.forEach(function(a,d){null!==a&&(a=this.getMatchByPosition(a),d=this.getDistractorByPosition(d),this.highlight(d),this.highlight(a))},this);
this._cachedUiAnswers=a;this.renderConnectors(a)},processResponsive:function(a,f){a=a||this.model.get("answers");var d=a.length;f=f?Array.apply(null,{length:d}).map(function(){return null}):this.model.previous("answers");this.handleCheckboxes(a,f);this.updateResponsiveBinIndices(a)},handleCheckboxes:function(a,f){var d=this,c,e,k,h;n.isEmpty(this.model.changed)||a.forEach(function(a,l,n){k=f[l];null!==a&&a!==k&&(null!==k&&(c=d.segregateMatchesByDistractor(k,l),d.toggleMatchesIndeterminate(c.otherMatches,
!1)),h=d.getResponsiveMatchesByDistractorPosition(l),d.toggleMatchesCheck(h,!1),e=d.segregateMatchesByDistractor(a,l),d.toggleMatchesCheck(e.match,!0),d.toggleMatchesIndeterminate(e.match,!1),d.toggleMatchesCheck(e.otherMatches,!1),d.toggleMatchesIndeterminate(e.otherMatches,!0));null===a&&a!==k&&-1===n.indexOf(k)&&(c=d.segregateMatchesByDistractor(k,l),d.toggleMatchesCheck(c.match,!1),d.toggleMatchesIndeterminate(c.otherMatches,!1))})},segregateMatchesByDistractor:function(a,f){a=this.getResponsiveMatchesByPosition(a);
var d=this.filterMatchesByDistractorPosition(a,f);f=a.filter(function(){return!h(this).is(d)});return{match:d,otherMatches:f}},toggleMatchesCheck:function(a,f){var d=this;a.each(function(){var a=h(this).find(d.config.matchCheckboxSelector);a[0].checked=f;a[0].setAttribute("aria-checked",f);h(this).toggleClass(d.config.checkedClass,f)})},toggleMatchesIndeterminate:function(a,f){var d=this;a.each(function(){var a=h(this).find(d.config.matchCheckboxSelector);a[0].indeterminate=f;a[0].setAttribute("aria-checked",
"mixed")})},restorePosition:function(){var a=this;this.ui.distractors.each(function(a){h(this).data("position",a)});this.ui.matches.each(function(a){h(this).data("position",a)});this.ui.matchesWrapperResponsive.each(function(f){h(this).find(a.config.matchSelectorResponsive).each(function(a){h(this).data("position",a);h(this).data("distractor-position",f)})})},clearConnectors:function(){this.ui.optionConnectors.removeAttr("x1").removeAttr("x2").removeAttr("y1").removeAttr("y2")},renderConnectors:function(a){a.forEach(this.connect.bind(this))},
refreshConnectors:function(){this.renderConnectors(this._cachedUiAnswers)},onQuestionStateUpdated:function(){this.refreshConnectors()},connect:function(a,f){function d(a,c){var e=a.offset();c=c.offset();return{left:e.left-c.left+a.outerWidth()/2,top:e.top-c.top+a.outerHeight()/2}}if(null!==a){var c=this.getDistractorByPosition(f);a=this.getMatchByPosition(a);c=c.find(this.config.optionHandleSelector);a=a.find(this.config.optionHandleSelector);h.contains(document,c[0])&&h.contains(document,a[0])&&
(c=d(c,this.ui.optionsWrapper),a=d(a,this.ui.optionsWrapper),this.ui.optionConnectors.eq(f).attr("x1",c.left).attr("y1",c.top).attr("x2",a.left).attr("y2",a.top))}},randomizeOptions:function(){var a=this;var f=this.model.get("answerOrder");var d=f[0];var c=f[1];this.ui.distractors.detach();this.ui.matches.detach();this.sortOptions(this.ui.distractors,d);this.sortOptions(this.ui.matches,c);this.ui.distractors.appendTo(this.ui.distractorsWrapper);this.ui.matches.appendTo(this.ui.matchesWrapper);this.ui.matchesWrapperResponsive.each(function(){var e=
h(this).find(a.config.matchSelectorResponsive);e.detach();a.sortOptions(e,c);e.appendTo(h(this))});this.renderConnectors(this.model.get("answers"))},sortOptions:function(a,f){return a.sort(function(a,c){return f.indexOf(h(a).data("position"))-f.indexOf(h(c).data("position"))})},updateBinOnMediaQueryChange:function(a){"mobile"===a&&this.updateResponsiveBin()},updateResponsiveBin:function(){return this.ui.distractorsBin&&this.ui.distractorsBin.sticky("update")},renderResponsiveBin:function(){var a=
this;if(!this.binInitialized){this.binIndices=this.ui.distractors.map(function(f,c){c=h("<span>"+(f+1)+"</span>").addClass(a.config.distractorsBinIndexClass).data("position",h(c).data("position"));c.click(function(){a.ui.distractors.eq(f).scrollintoview()}).appendTo(a.ui.indicesWrapper);return c});var f=a.config.responsiveBin.topSpacing?a.config.responsiveBin.topSpacing:h(a.config.responsiveBin.topSpacingElementSelector).outerHeight();this.ui.distractorsBin.sticky({topSpacing:f||0,responsiveWidth:!0,
widthFromWrapper:!0,zIndex:a.config.responsiveBin.zIndex});h("#PageBodyWrapper").scroll(a.updateResponsiveBin);h("#PageBody").scroll(a.updateResponsiveBin);this.binInitialized=!0}},updateResponsiveBinIndices:function(a){var f=this;this.binIndices.each(function(){h(this).toggleClass(f.config.answeredClass,null!==a[h(this).data("position")])})},toggleBin:function(){this.ui.distractorsBin.toggleClass(this.config.closedClass);this.updateResponsiveBin()},isScreenWide:function(){return"mobile"!==t.determineCurrentMediaState()},
answerClickHandler:function(a){a=h(a.currentTarget);var f=a.parent();if(this.enabled&&this.isScreenWide()){var d=a.data("position");var c=f.data("position");c=h.isNumeric(d)?d:c;f.is(this.config.distractorSelector)?(d=c,c=this.activeMatch,this.activeDistractor=d,a=f):(d=this.activeDistractor,this.activeMatch=c);null!==c&&null!==d&&(this.activeDistractor=this.activeMatch=null);this.model.answerChanged(d,c);this.highlight(a)}},answerResponsiveClickHandler:function(a){var f=h(a.currentTarget);a.preventDefault();
a.stopPropagation();if(this.enabled){var d=f.data("position");a=f.data("distractor-position");f.hasClass(this.config.checkedClass)&&(d=null);this.model.answerChanged(a,d)}},highlight:function(a){h(a).addClass(this.config.selectedClass)},unhighlight:function(a){h(a).removeClass(this.config.selectedClass)},getDistractorByPosition:function(a){return this.ui.distractors.filter(function(){return+h(this).data("position")===a})},getMatchByPosition:function(a){return this.ui.matches.filter(function(){return+h(this).data("position")===
a})},getResponsiveMatchesByPosition:function(a,f){return(f||this.ui.distractors).find(this.config.matchSelectorResponsive).filter(function(){return+h(this).data("position")===a})},getResponsiveMatchesByDistractorPosition:function(a){return this.ui.distractors.find(this.config.matchSelectorResponsive).filter(function(){return+h(this).data("distractor-position")===a})},filterMatchesByDistractorPosition:function(a,f){return a.filter(function(){return+h(this).data("distractor-position")===f})},disableQuestionComponents:function(){this.ui.optionWrappers.removeClass(this.config.enabledClass).addClass(this.config.disabledClass);
this.ui.matchesResponsiveCheckboxes.each(function(){this.disabled=!0;this.setAttribute("aria-disabled",!0)})},enableQuestionComponents:function(){this.ui.optionWrappers.addClass(this.config.enabledClass).removeClass(this.config.disabledClass);this.ui.matchesResponsiveCheckboxes.each(function(){this.disabled=!1;this.setAttribute("aria-disabled",!1)})},showResponseSpecificFeedback:function(a){var f=this,d=a||this.model.get("answers"),c=this.model.get("correctAnswers");this.ui.distractors.each(function(){var a=
h(this).data("position");var k=d[a]===c[a];var l=f.getMatchByPosition(d[a]);a=f.ui.optionConnectors.eq(a);k=k?f.config.correctClass:f.config.incorrectClass;h(this).add(l).add(a).addClassSVG(k)})},hideResponseSpecificFeedback:function(){this.ui.optionWrappers.add(this.ui.optionConnectors).add(this.ui.distractors).removeClass([this.config.correctClass,this.config.incorrectClass,this.config.alsoCorrectClass].join(" "))},showSolutionButton:function(){this.showSolutionButtonState="correct";this.ui.showSolutionButton.removeClass(this.config.showSolutionButtonHiddenClass)},
hideSolutionButton:function(){this.ui.showSolutionButton.addClass(this.config.showSolutionButtonHiddenClass)},toggleSolution:function(){"correct"===this.showSolutionButtonState?(this.ui.showSolutionButton.text(this.config.showSolutionButtonUserAnswerText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonUserAnswerText),this.renderAnswers(this.model.get("correctAnswers")),this.processResponsive(this.model.get("correctAnswers"),!0),this.showSolutionButtonState="user",!0===this.model.get("behavior.showfeedback")&&
(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback(this.model.get("correctAnswers")))):(this.ui.showSolutionButton.text(this.config.showSolutionButtonSolutionText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonSolutionText),this.renderAnswers(this.model.get("answers")),this.processResponsive(this.model.get("answers"),!0),this.showSolutionButtonState="correct",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback()))},
turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);this.renderAnswers(this.model.get("correctAnswers"));this.hideResponseSpecificFeedback();this.showResponseSpecificFeedback(this.model.get("correctAnswers"))},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.renderAnswers(this.model.get("answers"));this.hideResponseSpecificFeedback()},destructor:function(){h(window).off("resize",this._boundRefreshAnswers);this.constructor.__super__.destructor.call(this)}},
{displayName:"matchingActivityView",config:t.extend(k,q.configure(m.id))});p.trigger("matchingActivityView.loaded",!0,m);return m});
define("elements/questions/matchingActivity/matchingActivity","module elements/questions/question/question elements/questions/matchingActivity/model/matchingActivityModel elements/questions/matchingActivity/views/matchingActivityView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k){h={name:"matchingActivity",displayName:k.t("questions.matchingActivity.displayName")||"Matching Activity",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,
View:n,Model:h};m=d.extend({},{config:p.extend(h,t.configure(m.id))});q.trigger("matchingActivity.loaded",!0,m);return m});
define("elements/questions/fillInBlank/model/optionModels/optionModel",["app/utilities/helper/helperModel","app/events"],function(m,d){m=m.extend({props:{answer:"any",variables:"object"},answerChanged:function(d){this.set("answer",d)},resetAnswer:function(){this.set("answer","")},isCorrect:function(){return!1},isAttempted:function(){return!1}},{displayName:"fillInBlankOptionModel"});d.trigger("fillInBlankOptionModel.loaded",!0,m);return m});
define("elements/questions/fillInBlank/model/optionModels/dateModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events","app/utilities/XyTools"],function(m,d,h){m=m.extend({props:{date:"string"},isCorrect:function(){var d=this.get("answer"),h=this.get("date");h=this.toDate(h);d=this.toDate(d);return h.toDateString()===d.toDateString()},toDate:function(d){d=new Date(Date.parse(d));return"date"!==h.type(d)||isNaN(d.getTime())?null:d},isAttempted:function(){return!!this.get("answer").length}},
{displayName:"fillInBlankDateModel"});d.trigger("fillInBlankDateModel.loaded",!0,m);return m});
define("elements/questions/fillInBlank/model/optionModels/dropDownListModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events"],function(m,d){m=m.extend({props:{dropdownlist:"object",answer:"string"},isCorrect:function(){var d=+this.get("answer")-1;d=this.get("dropdownlist.choice")[d];return!!d&&/^true$/i.test(d.iscorrect)},answerChanged:function(d){this.set("answer",""+d)},resetAnswer:function(){this.set("answer","0")},isAttempted:function(){return 0<+this.get("answer")}},
{displayName:"fillInBlankDropDownListModel"});d.trigger("fillInBlankDropDownListModel.loaded",!0,m);return m});
define("elements/questions/fillInBlank/model/optionModels/formulaModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events","app/utilities/XyTools"],function(m,d,h){m=m.extend({props:{formula:"string",tolerance:"string",answer:"string"},initialize:function(){var d=this.get("formula"),m=this.get("variables");Object.keys(m).forEach(function(h){d=d.split("$"+h+"$").join(m[h])});d=h.evaluateExpression(d);this.correctAnswer=isNaN(d)?!1:d},answerChanged:function(d){var h=this.get("answer");
!isNaN(d)||""===h&&"-"===d?this.set("answer",d):this.trigger("change:answer")},isCorrect:function(){var d=parseFloat(this.get("tolerance")),h=parseFloat(this.get("answer"));return isNaN(d)?h===this.correctAnswer:h<=this.correctAnswer+d&&h>=this.correctAnswer-d},isAttempted:function(){return!!this.get("answer").length}},{displayName:"fillInBlankFormulaModel"});d.trigger("fillInBlankFormulaModel.loaded",!0,m);return m});
define("elements/questions/fillInBlank/model/optionModels/numberMatchModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events"],function(m,d){m=m.extend({props:{numbermatch:"object",answer:"string"},answerChanged:function(d){var h=this.get("answer");!isNaN(d)||""===h&&"-"===d?this.set("answer",d):this.trigger("change:answer")},isCorrect:function(){var d=this.get("answer"),n=this.get("numbermatch.min"),m=this.get("numbermatch.max");if(isNaN(d))return!1;d=parseFloat(d);n=
parseFloat(n);m=parseFloat(m);isNaN(n)&&!isNaN(m)?n=m:isNaN(m)&&!isNaN(n)?m=n:isNaN(n)&&isNaN(m)&&(n=m=Infinity);return d>=n&&d<=m?!0:!1},isAttempted:function(){return!!this.get("answer").length}},{displayName:"fillInBlankNumberMatchModel"});d.trigger("fillInBlankNumberMatchModel.loaded",!0,m);return m});
define("elements/questions/fillInBlank/model/optionModels/textMatchesModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events","app/utilities/XyTools"],function(m,d,h){m=m.extend({props:{answer:["string",""],textmatches:"object"},isCorrect:function(){var d=this.get("textmatches"),m=this.get("answer");m=this.normalizeAnswer(m);if(!m)return!1;d.matched=0;d.textmatch=h.toArray(d.textmatch);d.textmatch.forEach(function(n){n.matched=0;n.pattern=h.toArray(n.pattern);n.pattern.forEach(function(d){var k=
this.createPattern(d);m.forEach(function(a){a=this.convertAnswer(a,d);k.test(a)&&n.matched++},this)},this);n.matched>=+n.matchatleast&&d.matched++},this);return d.matched>=+d.matchatleast?!0:!1},normalizeAnswer:function(d){return d.split(this.config.delimiter||",").filter(function(d){return"string"===typeof d&&d.length}).map(function(d){return d.trim()})},createPattern:function(d){var h=d.text,n="";h=h.replace(/([.+^${}()|\[\]\/\\])/g,"\\$1").replace(/[*?]/g,".$&");/^true$/.test(d.ignorespaces)&&
(h=h.replace(/\s/g,""));/^true$/.test(d.ignorecase)&&(n+="i");/^true$/.test(d.ignoreextrawords)||(h="^"+h+"$");/^true$/.test(d.ignorehyphensandminus)&&(h=h.replace(/-/g,""));return new RegExp(h,n)},convertAnswer:function(d,h){d=d.replace(/\\/g,"\\\\");/^true$/.test(h.ignorehyphensandminus)&&(d=d.replace(/-/g,""));/^true$/.test(h.ignorespaces)&&(d=d.replace(/\s/g,""));return d},isAttempted:function(){return!!this.get("answer").length}},{displayName:"fillInBlankTextMatchesModel"});d.trigger("fillInBlankTextMatchesModel.loaded",
!0,m);return m});
define("elements/questions/fillInBlank/model/fillInBlankModel","module underscore elements/questions/question/model elements/questions/fillInBlank/model/optionModels/dateModel elements/questions/fillInBlank/model/optionModels/dropDownListModel elements/questions/fillInBlank/model/optionModels/formulaModel elements/questions/fillInBlank/model/optionModels/numberMatchModel elements/questions/fillInBlank/model/optionModels/textMatchesModel app/events app/utilities/XyTools app/configuration".split(" "),function(m,
d,h,n,p,q,t,k,a,f,l){function c(a,c){return Object.keys(a).map(function(a){return c[a.toLowerCase()]}).filter(function(a){return!!a})[0]}m=h.extend({props:{fillincontent:"object",presostyle:["string","TypeInText"],variables:"any",submodels:"array"},initialize:function(){this.constructor.__super__.initialize.call(this);this.handleVariables();this.createOptionModels()},createOptionModels:function(){var a=this.get("fillincontent.blank"),d=[];a&&(f.toArray(a).forEach(function(a,e){var f;if(f=c(a,this.config.modeltypes))e=
this.get("answers")[e],"undefined"!==typeof e&&(a.answer=e),a.variables=this.get("variables"),a=new f(a),d.push(a),this.listenTo(a,"change:answer",this.updateAnswer)},this),this.set("submodels",d))},handleVariables:function(){var a=(a=this.get("answerOrder"))&&a.length?this.parseVariables(a):this.generateVariables();this.set("variables",a);this.set("answerOrder",this.stringifyVariables(a))},generateVariables:function(){var a=this.get("variables.variable"),c={};if(!a)return c;f.toArray(a).forEach(function(a){if("range"===
("undefined"!==typeof a.range?"range":"set")){a.range.min=parseFloat(a.range.min);a.range.max=parseFloat(a.range.max);a.decimaldigits=+a.decimaldigits;var e=a.range.min;e=+(e+Math.random()*(a.range.max-e)).toFixed(a.decimaldigits);a.value=e}else a.set.value=f.toArray(a.set.value),a.value=+a.set.value[d.random(0,a.set.value.length-1)];c[a.variablename]=a.value});return c},parseVariables:function(a){return a.reduce(function(a,c){c=c.split("=");a[c[0]]=parseFloat(c[1]);return a},{})},stringifyVariables:function(a){return Object.keys(a).map(function(c){return c+
"="+a[c]})},refreshCorrectAnswers:function(){this.get("submodels").forEach(function(a){a.isCorrect()||a.resetAnswer()})},clearAnswers:function(){this.get("submodels").forEach(function(a){a.resetAnswer()})},updateAnswer:function(){this.set("answers",this.getAnswers())},getAnswers:function(){return this.get("submodels").map(function(a){return a.get("answer")})},isCorrect:function(){return this.get("submodels").every(function(a){return a.isCorrect()})},hasAnswers:function(){return this.get("submodels").every(function(a){return a.isAttempted()})}},
{displayName:"fillInBlankModel",config:f.extend({modeltypes:{date:n,dropdownlist:p,formula:q,numbermatch:t,textmatches:k}},l.configure(m.id))});a.trigger("fillInBlankModel.loaded",!0,m);return m});
define("elements/questions/fillInBlank/views/optionViews/optionView",["jquery","underscore","backbone","app/utilities/helper/helperView","app/events"],function(m,d,h,n,p){m=n.extend({initialize:function(d){this.config=(d||{}).config},render:function(){},enable:function(){this.$el[0].disabled=!1},disable:function(){this.$el[0].disabled=!0},showFeedback:function(){this.model.isCorrect()?this.$el.addClass(this.config.correctClass):this.$el.addClass(this.config.incorrectClass)},hideFeedback:function(){this.$el.removeClass(this.config.correctClass+
" "+this.config.incorrectClass)},destructor:function(){this.undelegateEvents();this.stopListening();this.remove()}},{displayName:"fillInBlankOptionView"});p.trigger("fillInBlankOptionView",!0,m);return m});
define("elements/questions/fillInBlank/views/optionViews/textMatchesView",["elements/questions/fillInBlank/views/optionViews/optionView","app/utilities/XyTools","app/events"],function(m,d,h){m=m.extend({events:{keyup:"keyupHandler",paste:"pasteHandler"},modelBindings:{"change:answer":"renderAnswer"},render:function(){this.renderAnswer()},renderAnswer:function(){this.$el.val(this.model.get("answer"))},keyupHandler:function(){this.model.answerChanged(this.$el.val())},pasteHandler:function(d){if(!d.keyCode){var h=
this;setTimeout(function(){h.model.answerChanged(h.$el.val())},0)}}},{displayName:"fillInBlankTextMatchesView"});h.trigger("fillInBlankTextMatchesView.loaded",!0,m);return m});
define("elements/questions/fillInBlank/views/optionViews/dropDownListView",["elements/questions/fillInBlank/views/optionViews/optionView","app/events"],function(m,d){m=m.extend({ui:{options:"option"},events:{change:"changeHandler"},modelBindings:{"change:answer":"renderAnswer"},render:function(){this.renderAnswer()},renderAnswer:function(){var d=this.model.get("answer");"0"===d?this.ui.el[0].selectedIndex=0:this.ui.options.eq(d).attr("selected",!0)},changeHandler:function(){var d=this.ui.options.filter(":selected").index();
this.model.answerChanged(d)}},{displayName:"fillInBlankDropDownListView"});d.trigger("fillInBlankDropDownListView.loaded",!0,m);return m});
(function(m,d){if("object"===typeof exports){try{var h=require("moment")}catch(n){}module.exports=d(h)}else"function"===typeof define&&define.amd?define("pikaday",["require"],function(n){try{h=n("moment")}catch(p){}return d(h)}):m.Pikaday=d(m.moment)})(this,function(m){var d="function"===typeof m,h=!!window.addEventListener,n=window.document,p=window.setTimeout,q=function(a,c,d,e){h?a.addEventListener(c,d,!!e):a.attachEvent("on"+c,d)},t=function(a,c,d,e){h?a.removeEventListener(c,d,!!e):a.detachEvent("on"+
c,d)},k=function(a,c,d){if(n.createEvent){var e=n.createEvent("HTMLEvents");e.initEvent(c,!0,!1);e=z(e,d);a.dispatchEvent(e)}else n.createEventObject&&(e=n.createEventObject(),e=z(e,d),a.fireEvent("on"+c,e))},a=function(a,c){return-1!==(" "+a.className+" ").indexOf(" "+c+" ")},f=function(a){return/Array/.test(Object.prototype.toString.call(a))},l=function(a){return/Date/.test(Object.prototype.toString.call(a))&&!isNaN(a.getTime())},c=function(a,c){return[31,0===a%4&&0!==a%100||0===a%400?29:28,31,
30,31,30,31,31,30,31,30,31][c]},e=function(a){l(a)&&a.setHours(0,0,0,0)},u=function(a,c){return a.getTime()===c.getTime()},z=function(a,c,d){var e,k;for(e in c)if((k=void 0!==a[e])&&"object"===typeof c[e]&&null!==c[e]&&void 0===c[e].nodeName)l(c[e])?d&&(a[e]=new Date(c[e].getTime())):f(c[e])?d&&(a[e]=c[e].slice(0)):a[e]=z({},c[e],d);else if(d||!k)a[e]=c[e];return a},B=function(a){0>a.month&&(a.year-=Math.ceil(Math.abs(a.month)/12),a.month+=12);11<a.month&&(a.year+=Math.floor(Math.abs(a.month)/12),
a.month-=12);return a},G={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",
months:"January February March April May June July August September October November December".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},x=function(a,c,d){for(c+=a.firstDay;7<=c;)c-=7;return d?a.i18n.weekdaysShort[c]:a.i18n.weekdays[c]},I=function(a){var c=[],d="false";if(a.isEmpty)if(a.showDaysInNextAndPreviousMonths)c.push("is-outside-current-month");
else return'<td class="is-empty"></td>';a.isDisabled&&c.push("is-disabled");a.isToday&&c.push("is-today");a.isSelected&&(c.push("is-selected"),d="true");a.isInRange&&c.push("is-inrange");a.isStartRange&&c.push("is-startrange");a.isEndRange&&c.push("is-endrange");return'<td data-day="'+a.day+'" class="'+c.join(" ")+'" aria-selected="'+d+'"><button class="pika-button pika-day" type="button" data-pika-year="'+a.year+'" data-pika-month="'+a.month+'" data-pika-day="'+a.day+'">'+a.day+"</button></td>"},
H=function(a,c,d){var e=new Date(d,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(d,c,a)-e)/864E5+e.getDay()+1)/7)+"</td>"},A=function(a,c){return"<tr>"+(c?a.reverse():a).join("")+"</tr>"},D=function(a,c,d,e,k,h){var l,n=a._o,m=d===n.minYear,u=d===n.maxYear;h='<div id="'+h+'" class="pika-title" role="heading" aria-live="assertive">';var q=!0,t=!0;var p=[];for(l=0;12>l;l++)p.push('<option value="'+(d===k?l-c:12+l-c)+'"'+(l===e?' selected="selected"':"")+(m&&l<n.minMonth||u&&l>n.maxMonth?
'disabled="disabled"':"")+">"+n.i18n.months[l]+"</option>");k='<div class="pika-label">'+n.i18n.months[e]+'<select class="pika-select pika-select-month" tabindex="-1">'+p.join("")+"</select></div>";if(f(n.yearRange)){l=n.yearRange[0];var A=n.yearRange[1]+1}else l=d-n.yearRange,A=1+d+n.yearRange;for(p=[];l<A&&l<=n.maxYear;l++)l>=n.minYear&&p.push('<option value="'+l+'"'+(l===d?' selected="selected"':"")+">"+l+"</option>");d='<div class="pika-label">'+d+n.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+
p.join("")+"</select></div>";h=n.showMonthAfterYear?h+(d+k):h+(k+d);m&&(0===e||n.minMonth>=e)&&(q=!1);u&&(11===e||n.maxMonth<=e)&&(t=!1);0===c&&(h+='<button class="pika-prev'+(q?"":" is-disabled")+'" type="button">'+n.i18n.previousMonth+"</button>");c===a._o.numberOfMonths-1&&(h+='<button class="pika-next'+(t?"":" is-disabled")+'" type="button">'+n.i18n.nextMonth+"</button>");return h+"</div>"},C=function(c){var e=this,f=e.config(c);e._onMouseDown=function(c){if(e._v){c=c||window.event;var d=c.target||
c.srcElement;if(d)if(a(d,"is-disabled")||(!a(d,"pika-button")||a(d,"is-empty")||a(d.parentNode,"is-disabled")?a(d,"pika-prev")?e.prevMonth():a(d,"pika-next")&&e.nextMonth():(e.setDate(new Date(d.getAttribute("data-pika-year"),d.getAttribute("data-pika-month"),d.getAttribute("data-pika-day"))),f.bound&&p(function(){e.hide();f.field&&f.field.blur()},100))),a(d,"pika-select"))e._c=!0;else if(c.preventDefault)c.preventDefault();else return c.returnValue=!1}};e._onChange=function(c){c=c||window.event;
(c=c.target||c.srcElement)&&(a(c,"pika-select-month")?e.gotoMonth(c.value):a(c,"pika-select-year")&&e.gotoYear(c.value))};e._onKeyChange=function(a){a=a||window.event;if(e.isVisible())switch(a.keyCode){case 13:case 27:f.field.blur();break;case 37:a.preventDefault();e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7)}};e._onInputChange=function(a){a.firedBy!==e&&(a=d?(a=m(f.field.value,f.format,f.formatStrict))&&
a.isValid()?a.toDate():null:new Date(Date.parse(f.field.value)),l(a)&&e.setDate(a),e._v||e.show())};e._onInputFocus=function(){e.show()};e._onInputClick=function(){e.show()};e._onInputBlur=function(){var c=n.activeElement;do if(a(c,"pika-single"))return;while(c=c.parentNode);e._c||(e._b=p(function(){e.hide()},50));e._c=!1};e._onClick=function(c){c=c||window.event;var d=c=c.target||c.srcElement;if(c){h||!a(c,"pika-select")||c.onchange||(c.setAttribute("onchange","return;"),q(c,"change",e._onChange));
do if(a(d,"pika-single")||d===f.trigger)return;while(d=d.parentNode);e._v&&c!==f.trigger&&d!==f.trigger&&e.hide()}};e.el=n.createElement("div");e.el.className="pika-single"+(f.isRTL?" is-rtl":"")+(f.theme?" "+f.theme:"");q(e.el,"mousedown",e._onMouseDown,!0);q(e.el,"touchend",e._onMouseDown,!0);q(e.el,"change",e._onChange);q(n,"keydown",e._onKeyChange);f.field&&(f.container?f.container.appendChild(e.el):f.bound?n.body.appendChild(e.el):f.field.parentNode.insertBefore(e.el,f.field.nextSibling),q(f.field,
"change",e._onInputChange),f.defaultDate||(f.defaultDate=d&&f.field.value?m(f.field.value,f.format).toDate():new Date(Date.parse(f.field.value)),f.setDefaultDate=!0));c=f.defaultDate;l(c)?f.setDefaultDate?e.setDate(c,!0):e.gotoDate(c):e.gotoDate(new Date);f.bound?(this.hide(),e.el.className+=" is-bound",q(f.trigger,"click",e._onInputClick),q(f.trigger,"focus",e._onInputFocus),q(f.trigger,"blur",e._onInputBlur)):this.show()};C.prototype={config:function(a){this._o||(this._o=z({},G,!0));a=z(this._o,
a,!0);a.isRTL=!!a.isRTL;a.field=a.field&&a.field.nodeName?a.field:null;a.theme="string"===typeof a.theme&&a.theme?a.theme:null;a.bound=!!(void 0!==a.bound?a.field&&a.bound:a.field);a.trigger=a.trigger&&a.trigger.nodeName?a.trigger:a.field;a.disableWeekends=!!a.disableWeekends;a.disableDayFn="function"===typeof a.disableDayFn?a.disableDayFn:null;var c=parseInt(a.numberOfMonths,10)||1;a.numberOfMonths=4<c?4:c;l(a.minDate)||(a.minDate=!1);l(a.maxDate)||(a.maxDate=!1);a.minDate&&a.maxDate&&a.maxDate<
a.minDate&&(a.maxDate=a.minDate=!1);a.minDate&&this.setMinDate(a.minDate);a.maxDate&&this.setMaxDate(a.maxDate);f(a.yearRange)?(c=(new Date).getFullYear()-10,a.yearRange[0]=parseInt(a.yearRange[0],10)||c,a.yearRange[1]=parseInt(a.yearRange[1],10)||c):(a.yearRange=Math.abs(parseInt(a.yearRange,10))||G.yearRange,100<a.yearRange&&(a.yearRange=100));return a},toString:function(a){return l(this._d)?d?m(this._d).format(a||this._o.format):this._d.toDateString():""},getMoment:function(){return d?m(this._d):
null},setMoment:function(a,c){d&&m.isMoment(a)&&this.setDate(a.toDate(),c)},getDate:function(){return l(this._d)?new Date(this._d.getTime()):new Date},setDate:function(a,c){if(!a)return this._d=null,this._o.field&&(this._o.field.value="",k(this._o.field,"change",{firedBy:this})),this.draw();"string"===typeof a&&(a=new Date(Date.parse(a)));if(l(a)){var d=this._o.minDate,f=this._o.maxDate;l(d)&&a<d?a=d:l(f)&&a>f&&(a=f);this._d=new Date(a.getTime());e(this._d);this.gotoDate(this._d);this._o.field&&(this._o.field.value=
this.toString(),k(this._o.field,"change",{firedBy:this}));c||"function"!==typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(a){var c=!0;if(l(a)){if(this.calendars){c=new Date(this.calendars[0].year,this.calendars[0].month,1);var e=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),d=a.getTime();e.setMonth(e.getMonth()+1);e.setDate(e.getDate()-1);c=d<c.getTime()||e.getTime()<d}c&&(this.calendars=[{month:a.getMonth(),
year:a.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths));this.adjustCalendars()}},adjustDate:function(a,c){var e=this.getDate(),f=864E5*parseInt(c),k;"add"===a?k=new Date(e.valueOf()+f):"subtract"===a&&(k=new Date(e.valueOf()-f));d&&("add"===a?k=m(e).add(c,"days").toDate():"subtract"===a&&(k=m(e).subtract(c,"days").toDate()));this.setDate(k)},adjustCalendars:function(){this.calendars[0]=B(this.calendars[0]);for(var a=1;a<this._o.numberOfMonths;a++)this.calendars[a]=
B({month:this.calendars[0].month+a,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(a){isNaN(a)||(this.calendars[0].month=parseInt(a,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++;this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--;this.adjustCalendars()},gotoYear:function(a){isNaN(a)||(this.calendars[0].year=parseInt(a,10),this.adjustCalendars())},setMinDate:function(a){a instanceof Date?(e(a),
this._o.minDate=a,this._o.minYear=a.getFullYear(),this._o.minMonth=a.getMonth()):(this._o.minDate=G.minDate,this._o.minYear=G.minYear,this._o.minMonth=G.minMonth,this._o.startRange=G.startRange);this.draw()},setMaxDate:function(a){a instanceof Date?(e(a),this._o.maxDate=a,this._o.maxYear=a.getFullYear(),this._o.maxMonth=a.getMonth()):(this._o.maxDate=G.maxDate,this._o.maxYear=G.maxYear,this._o.maxMonth=G.maxMonth,this._o.endRange=G.endRange);this.draw()},setStartRange:function(a){this._o.startRange=
a},setEndRange:function(a){this._o.endRange=a},draw:function(a){if(this._v||a){var c=this._o,e=c.minYear,d=c.maxYear,f=c.minMonth,k=c.maxMonth;a="";this._y<=e&&(this._y=e,!isNaN(f)&&this._m<f&&(this._m=f));this._y>=d&&(this._y=d,!isNaN(k)&&this._m>k&&(this._m=k));e="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(d=0;d<c.numberOfMonths;d++)a+='<div class="pika-lendar">'+D(this,d,this.calendars[d].year,this.calendars[d].month,this.calendars[0].year,e)+this.render(this.calendars[d].year,
this.calendars[d].month,e)+"</div>";this.el.innerHTML=a;c.bound&&"hidden"!==c.field.type&&p(function(){c.trigger.focus()},1);if("function"===typeof this._o.onDraw)this._o.onDraw(this);this._o.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var a;if(!this._o.container){this.el.style.position="absolute";var c=a=this._o.trigger;var e=this.el.offsetWidth;var d=this.el.offsetHeight;var f=window.innerWidth||n.documentElement.clientWidth;var k=window.innerHeight||
n.documentElement.clientHeight;var h=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop;if("function"===typeof a.getBoundingClientRect){c=a.getBoundingClientRect();var l=c.left+window.pageXOffset;var m=c.bottom+window.pageYOffset}else for(l=c.offsetLeft,m=c.offsetTop+c.offsetHeight;c=c.offsetParent;)l+=c.offsetLeft,m+=c.offsetTop;if(this._o.reposition&&l+e>f||-1<this._o.position.indexOf("right")&&0<l-e+a.offsetWidth)l=l-e+a.offsetWidth;if(this._o.reposition&&m+d>k+h||-1<this._o.position.indexOf("top")&&
0<m-d-a.offsetHeight)m=m-d-a.offsetHeight;this.el.style.left=l+"px";this.el.style.top=m+"px"}},render:function(a,d,f){var k=this._o,h=new Date,n=c(a,d),m=(new Date(a,d,1)).getDay(),q=[],t=[];e(h);0<k.firstDay&&(m-=k.firstDay,0>m&&(m+=7));for(var p=0===d?11:d-1,z=11===d?0:d+1,B=0===d?a-1:a,C=11===d?a+1:a,G=c(B,p),D=n+m,E=D;7<E;)E-=7;D+=7-E;for(var K=E=0;E<D;E++){var F=new Date(a,d,1+(E-m)),La=l(this._d)?u(F,this._d):!1,Pa=u(F,h),db=E<m||E>=n+m,oa=1+(E-m),M=d,Ra=a,Va=k.startRange&&u(k.startRange,F),
Sa=k.endRange&&u(k.endRange,F),jb=k.startRange&&k.endRange&&k.startRange<F&&F<k.endRange,va;!(va=k.minDate&&F<k.minDate||k.maxDate&&F>k.maxDate)&&(va=k.disableWeekends)&&(va=F.getDay(),va=0===va||6===va);F=va||k.disableDayFn&&k.disableDayFn(F);db&&(E<m?(oa=G+oa,M=p,Ra=B):(oa-=n,M=z,Ra=C));t.push(I({day:oa,month:M,year:Ra,isSelected:La,isToday:Pa,isDisabled:F,isEmpty:db,isStartRange:Va,isEndRange:Sa,isInRange:jb,showDaysInNextAndPreviousMonths:k.showDaysInNextAndPreviousMonths}));7===++K&&(k.showWeekNumber&&
t.unshift(H(E-m,d,a)),q.push(A(t,k.isRTL)),t=[],K=0)}d=[];k.showWeekNumber&&d.push("<th></th>");for(a=0;7>a;a++)d.push('<th scope="col"><abbr title="'+x(k,a)+'">'+x(k,a,!0)+"</abbr></th>");k="<thead><tr>"+(k.isRTL?d.reverse():d).join("")+"</tr></thead>";return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+f+'">'+k+("<tbody>"+q.join("")+"</tbody></table>")},isVisible:function(){return this._v},show:function(){if(!this.isVisible()){var a=this.el;var c=(" "+
a.className+" ").replace(" is-hidden "," ");c=c.trim?c.trim():c.replace(/^\s+|\s+$/g,"");a.className=c;this._v=!0;this.draw();this._o.bound&&(q(n,"click",this._onClick),this.adjustPosition());"function"===typeof this._o.onOpen&&this._o.onOpen.call(this)}},hide:function(){var c=this._v;if(!1!==c){this._o.bound&&t(n,"click",this._onClick);this.el.style.position="static";this.el.style.left="auto";this.el.style.top="auto";var e=this.el;a(e,"is-hidden")||(e.className=""===e.className?"is-hidden":e.className+
" is-hidden");this._v=!1;void 0!==c&&"function"===typeof this._o.onClose&&this._o.onClose.call(this)}},destroy:function(){this.hide();t(this.el,"mousedown",this._onMouseDown,!0);t(this.el,"touchend",this._onMouseDown,!0);t(this.el,"change",this._onChange);this._o.field&&(t(this._o.field,"change",this._onInputChange),this._o.bound&&(t(this._o.trigger,"click",this._onInputClick),t(this._o.trigger,"focus",this._onInputFocus),t(this._o.trigger,"blur",this._onInputBlur)));this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};
return C});
define("elements/questions/fillInBlank/views/optionViews/dateView",["elements/questions/fillInBlank/views/optionViews/optionView","pikaday","lang/lang","app/events"],function(m,d,h,n){var p={previousMonth:h.t("datepicker.previousmonth"),nextMonth:h.t("datepicker.nextmonth"),months:[h.t("datepicker.months.January"),h.t("datepicker.months.February"),h.t("datepicker.months.March"),h.t("datepicker.months.April"),h.t("datepicker.months.May"),h.t("datepicker.months.June"),h.t("datepicker.months.July"),h.t("datepicker.months.August"),
h.t("datepicker.months.September"),h.t("datepicker.months.October"),h.t("datepicker.months.November"),h.t("datepicker.months.December")],weekdays:[h.t("datepicker.days.Sunday"),h.t("datepicker.days.Monday"),h.t("datepicker.days.Tuesday"),h.t("datepicker.days.Wednesday"),h.t("datepicker.days.Thursday"),h.t("datepicker.days.Friday"),h.t("datepicker.days.Saturday")],weekdaysShort:[h.t("datepicker.shortDays.Sun"),h.t("datepicker.shortDays.Mon"),h.t("datepicker.shortDays.Tue"),h.t("datepicker.shortDays.Wed"),
h.t("datepicker.shortDays.Thu"),h.t("datepicker.shortDays.Fri"),h.t("datepicker.shortDays.Sat")]};m=m.extend({modelBindings:{"change:answer":"renderAnswer"},render:function(){this.picker=new d({field:this.el,i18n:p,onSelect:this.pickerHandler,yearRange:this.config.dateYearRange});this.renderAnswer()},renderAnswer:function(){var d=this.model.get("answer");this.picker.setDate(d,!0)},pickerHandler:function(){var d=this.$el.val();this.model.answerChanged(d)},destructor:function(){this.picker.destroy();
this.constructor.__super__.destructor.call(this)}},{displayName:"fillInBlankDateView"});n.trigger("fillInBlankDateView.loaded",!0,m);return m});
define("elements/questions/fillInBlank/views/optionViews/formulaView",["elements/questions/fillInBlank/views/optionViews/optionView","app/events"],function(m,d){m=m.extend({events:{keyup:"keyupHandler",paste:"pasteHandler"},modelBindings:{"change:answer":"renderAnswer"},render:function(){this.renderAnswer()},renderAnswer:function(){this.$el.val(this.model.get("answer"))},keyupHandler:function(){this.model.answerChanged(this.$el.val())},pasteHandler:function(d){if(!d.keyCode){var h=this;setTimeout(function(){h.model.answerChanged(h.$el.val())},
0)}}},{displayName:"fillInBlankFormulaView"});d.trigger("fillInBlankFormulaView.loaded",!0,m);return m});
define("elements/questions/fillInBlank/views/optionViews/numberMatchView",["elements/questions/fillInBlank/views/optionViews/optionView","app/events"],function(m,d){m=m.extend({events:{keyup:"keyupHandler",paste:"pasteHandler"},modelBindings:{"change:answer":"renderAnswer"},render:function(){this.renderAnswer()},renderAnswer:function(){this.$el.val(this.model.get("answer"))},keyupHandler:function(){this.model.answerChanged(this.$el.val())},pasteHandler:function(d){if(!d.keyCode){var h=this;setTimeout(function(){h.model.answerChanged(h.$el.val())},
0)}}},{displayName:"fillInBlankNumberMatchView"});d.trigger("fillInBlankNumberMatchView.loaded",!0,m);return m});
define("elements/questions/fillInBlank/views/fillInBlankView","module jquery elements/questions/question/view elements/questions/fillInBlank/views/optionViews/textMatchesView elements/questions/fillInBlank/views/optionViews/dropDownListView elements/questions/fillInBlank/views/optionViews/dateView elements/questions/fillInBlank/views/optionViews/formulaView elements/questions/fillInBlank/views/optionViews/numberMatchView app/events app/configuration app/utilities/XyTools".split(" "),function(m,d,
h,n,p,q,t,k,a,f,l){m=h.extend({ui:{options:"#{optionsSelector}",variables:"#{variableSelector}"},events:{},modelBindings:{},initialize:function(){this.constructor.__super__.initialize.call(this);this.subviews=[]},render:function(){this.renderVariables();this.evaluateFormulaExpressions();this.createOptionViews();this.renderOptionViews()},createOptionViews:function(){var a=this;this.ui.options.each(function(c){var e=d(this).data("view").toLowerCase();a.config.viewtypes[e]&&(c=a.model.get("submodels")[c],
e=new a.config.viewtypes[e]({el:d(this),model:c,config:a.config}),a.subviews.push(e))})},renderOptionViews:function(){this.subviews.forEach(function(a){a.render()})},renderVariables:function(){var a=this.model.get("variables");Object.keys(a).forEach(function(c){var e=a[c],f=new RegExp("\\$"+c+"\\$","g");this.ui.variables.each(function(){var a=d(this).text();d(this).text(a.replace(f,e))})},this)},evaluateFormulaExpressions:function(){this.ui.variables.each(function(){var a=d(this).text();if(isNaN(a)){var e=
l.evaluateExpression(a);d(this).text(isNaN(e)?a:e)}})},enableQuestionComponents:function(){this.subviews.forEach(function(a){a.enable()})},disableQuestionComponents:function(){this.subviews.forEach(function(a){a.disable()})},showResponseSpecificFeedback:function(){this.subviews.forEach(function(a){a.showFeedback()})},hideResponseSpecificFeedback:function(){this.subviews.forEach(function(a){a.hideFeedback()})},destructor:function(){this.subviews.forEach(function(a){a.destructor()});this.constructor.__super__.destructor.call(this)}},
{displayName:"fillInBlankView",config:l.extend({viewtypes:{date:q,dropdownlist:p,formula:t,numbermatch:k,textmatches:n},delimiter:",",dateYearRange:[1990,2020],optionsSelector:".FillInBlankOption",variableSelector:".Formula",correctClass:"Correct",incorrectClass:"Incorrect"},f.configure(m.id))});a.trigger("fillInBlankView.loaded",!0,m);return m});
define("elements/questions/fillInBlank/fillInBlank","module underscore elements/questions/question/question elements/questions/fillInBlank/model/fillInBlankModel elements/questions/fillInBlank/views/fillInBlankView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a){n={name:"fillInBlank",displayName:a.t("questions.fillInBlank.displayName")||"Fill In Blank",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:p,Model:n};
m=h.extend({parseUserAnswer:function(a){return a.split("'").map(d.unescape)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.map(d.escape).join("'")}},{config:q.extend(n,k.configure(m.id))});t.trigger("fillInBlank.loaded",!0,m);return m});
define("elements/questions/binDrop/model/binDropModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(m,d,h,n,p,q){m=h.extend({props:{baseimage:"any",dropareacolor:"any",bins:"object"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.initAnswers()},getCorrectAnswers:function(){var d=this.get("bins"),k=[];p.toArray(d.bin).forEach(function(a,d){p.toArray((a.dragobjects||
{}).dragobject).map(function(a){return a.dragtype}).forEach(function(a){"dragtext"in a||"dragimage"in a?k.push(d):k.push(null)})});this.set("correctAnswers",k)},initAnswers:function(){this.get("answers").length||this.clearAnswers()},answerChanged:function(d,k){var a=this.get("answers");var f=a.slice(0);"practice"===this.get("behavior.dnd_mode").toLowerCase()&&this.get("correctAnswers")[d]!==this.getBinIndex(k)&&(k=null);f[d]=k;this.set("answers",f);a[d]===f[d]&&this.trigger("change:answers")},getAnswers:function(){return this.get("answers").slice(0).map(this.getBinIndex)},
getBinIndex:function(d){return null==d||"string"!==p.type(d)?d:+d.match(/^(\d+).*$/)[1]},isCorrect:function(){return d.isEqual(this.getAnswers(),this.get("correctAnswers"))},hasAnswers:function(){return!!this.getAnswers().join("").length},clearAnswers:function(){var d=this.get("correctAnswers").map(function(){return null});this.set("answers",d)},refreshCorrectAnswers:function(){var d=this.get("answers"),k=this.getAnswers(),a=this.get("correctAnswers");d=d.map(function(d,h){return a[h]!==k[h]?null:
d});this.set("answers",d)}},{displayName:"binDropModel",config:p.extend({},q.configure(m.id))});n.trigger("binDropModel.loaded",!0,m);return m});
define("elements/questions/binDrop/views/binDropView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang jquery.extensions".split(" "),function(m,d,h,n,p,q,t,k){k={imageWrapperSelector:".BinDropImageWrapper",imageSelector:".BinDropImage",overlaySelector:".BinDropObjectsWrapper",svgSelector:".BinDropSVG",binsSelector:".BinDropBin",binShapeSelector:".BinDropBinShape",alternateBinsSelector:".BinDropAlternateBin",alternateBinShapeSelector:".BinDropAlternateBinShape",
dragsSelector:".BinDropOption",dragTextSelector:".DragText",dragImageSelector:".DragImage",distractorTextSelector:".DistractorText",distractorImageSelector:".DistractorImage",displayAreaSelector:".DisplayArea",altTextSelectors:".BinDropBin, .DragImage, .DistractorImage",highlightedClass:"Highlighted",correctClass:"Correct",incorrectClass:"Incorrect",showSolutionButtonSelector:".ShowSolutionButton",showSolutionButtonHiddenClass:"Hidden",showSolutionButtonSolutionText:k.t("questions.general.showSolution")||
"Show solution",showSolutionButtonUserAnswerText:k.t("questions.general.myAnswer")||"My answer",responsiveScaling:!0,disableDragOnTouchDevices:!1};m=n.extend({ui:{wrapper:"#{imageWrapperSelector}",img:"#{imageSelector}",overlay:"#{overlaySelector}",svg:"#{svgSelector}",bins:"#{binsSelector}",alternateBins:"#{alternateBinsSelector}",drags:"#{dragsSelector}",altTexts:"#{altTextSelectors}",displayAreas:"#{displayAreaSelector}",showSolutionButton:"#{showSolutionButtonSelector}"},events:{"click @ui.showSolutionButton":"toggleSolution"},
modelBindings:{"change:answers":"updateAnswers"},render:function(){this.scaleCoefficient=1;this.restorePosition();this.positionDrags();this.renderPolygons();this.handleDrags();this.ui.img.on("load",this.imageLoaded)},imageLoaded:function(){this.renderOverlay();this.updateAnswers();this.showImage();this.handleScaling();this.handleDisplayAreas()},updateAnswers:function(){this.renderAnswers(this.model.get("answers"))},renderAnswers:function(a){a&&a.length||(a=this.model.get("answers"));this.removeClones();
a.forEach(function(a,d){var c;d=this.getDragByPosition(d);if(null!=a){if("string"===t.type(a)){if(c=a.match(/^\d+:([\d.]+),([\d.]+)$/)){var e=c[1];var f=c[2]}a=+a.match(/^(\d+).*$/)[1]}a=this.getBinByPosition(a);this.moveDragToTarget(d,a,[e,f])}else this.moveDragToStart(d,!0)},this)},restorePosition:function(){this.ui.drags.each(function(a){d(this).data("position",a)})},positionDrags:function(){var a=this;this.ui.drags.filter(function(){return d(this).is(a.config.dragTextSelector)||d(this).is(a.config.distractorTextSelector)}).each(function(){var a=
d(this).position().top,k=parseFloat(d(this).css("font-size"));d(this).css({top:a-k}).data({"start-top":a-k})})},showImage:function(){this.ui.wrapper.css({opacity:1})},renderOverlay:function(){var a=this.ui.img.width(),d=this.ui.img.height(),k=this.ui.img.position(),c=this.ui.img.outerWidth(),e=this.ui.img.outerHeight(),h=this.ui.img.offsetParent(),n={};h=(h.outerWidth()-h.width())/2;var m=t.getLanguageDirection();n.top=k.top+(e-d)/2;n["ltr"===m?"left":"right"]=h+(c-a)/2;this.ui.overlay.height(d).width(a).css(n);
return this},renderPolygons:function(){this.ui.svg.find("text").each(function(){var a=d(this).parent()[0],f=d(this).text().split(/\s|\n/).join("").split("#").join(" "),k=document.createElementNS("http://www.w3.org/2000/svg","polygon");k.setAttributeNS(null,"points",f);d(k).addClassSVG(this.className.baseVal||this.className);a.appendChild(k);d(this).remove()})},getDragByPosition:function(a){return this.ui.drags.filter(function(){return+d(this).data("position")===a})},getBinByPosition:function(a){return this.ui.bins.filter(function(){return+d(this).data("position")===
a})},handleDrags:function(){var a=this;if(this.enabled)if(this.config.disableDragOnTouchDevices&&t.detect.touchDevice)this.ui.drags.on("click",function(f){if(!(0<a.ui.drags.filter("."+a.config.highlightedClass).length)){f.stopPropagation();var k=d(this);a.ui.overlay.off("click.drag");a.dragStart(f,k);a.ui.drags.css({"pointer-events":"none"});a.ui.overlay.on("click.drag",function(c){a.dragStop(c,k,!0);a.ui.overlay.off("click.drag");a.ui.drags.css({"pointer-events":"auto"})})}});else this.ui.drags.drags({zIndex:4,
cursor:"invalid-\u0441ursor-name",ondragstart:function(d){a.dragStart(d,this)},ondragstop:function(d){a.dragStop(d,this)},contentWrapper:this.ui.wrapper})},dragStart:function(a,f){/^true$/i.test(this.model.get("behavior.dnd_showtarget"))&&this.ui.bins.css({opacity:1});d(f).hasClass("movingNow")||(d(f).addClass("movingNow"),this.highlightDrag(d(f)))},dragStop:function(a,f,k){var c=d(f).position();if(a.hasOwnProperty("offsetX")){var e=a.offsetX;var h=a.offsetY}"undefined"!==typeof a.originalEvent.layerX&&
null==e&&(e=a.originalEvent.layerX,h=a.originalEvent.layerY);if("undefined"===typeof e||"undefined"===typeof h)h=d(a.originalEvent.changedTouches[0].target).offset(),e=a.originalEvent.changedTouches[0].pageX-h.left,h=a.originalEvent.changedTouches[0].pageY-h.top,e*=this.scaleCoefficient,h*=this.scaleCoefficient;k?(e*=this.scaleCoefficient,h*=this.scaleCoefficient):(e+=c.left,h+=c.top);this.ui.bins.css({opacity:.1});this.unhighlightDrags();(a=this.calculateDrop(e,h))&&!k&&(e=c.left,h=c.top);a?this.dragChanged(f,
a.parent(),[e,h]):this.dragChanged(f,null)},dragChanged:function(a,f,k){a=d(a).data("position");f=f?d(f).data("position")+":"+k.join(","):null;this.model.answerChanged(a,f)},moveDragToStart:function(a,f){a=d(a);a.width("initial");var k={top:a.data("start-top")+"px",left:a.data("start-left")+"px"};f?a.stop().animate(k,400,"linear",function(){d(this).removeClass("movingNow")}):(a.css(k),d(this).removeClass("movingNow"))},moveDragToTarget:function(a,f,k){f=this.getDragPositionOnTarget(a,f,k);d(a).stop().animate(f,
400,"linear",function(){d(this).removeClass("movingNow")})},getDragPositionOnTarget:function(a,f,k){var c=this.scaleCoefficient,e=0!=d("img",a[0]).length;if(/polygon/i.test(t.type(d(f).find(this.config.binShapeSelector)[0])))return k&&"undefined"!==t.type(k[0])&&"undefined"!==t.type(k[1])?{top:k[1]/c,left:k[0]/c}:this.getRandomPointInPolygon(d(f).find(this.config.binShapeSelector)[0]);f=this.ui.alternateBins.filter("#alternate_"+d(f).attr("id")).find(this.config.alternateBinShapeSelector);a=d(a).clone(!1);
e||a.width(f.width());a.appendTo(f);a=a[0];k=f[0];a={top:a.offsetTop+k.offsetTop,left:a.offsetLeft+k.offsetLeft};e||(a.width=f.width());return a},removeClones:function(){this.ui.alternateBins.find(this.config.alternateBinShapeSelector).empty()},calculateDrop:function(a,f){function k(a,f,k){var h=d.trim(k.attr("points")).split(" ");h.forEach(function(a,c){h[c]=a.split(",");h[c]={x:+h[c][0]*e,y:+h[c][1]*e}});return c.pointInPolygon(a,f,h)?k:!1}var c=this,e=this.scaleCoefficient,h;this.ui.bins.each(function(){var l=
d(this).find(c.config.binShapeSelector);switch(l[0].tagName.toLowerCase()){case "rect":var n=+l.attr("x")*e,m=+l.attr("y")*e,u=+l.attr("width")*e,q=+l.attr("height")*e;h=f>m&&f<m+q&&a>n&&a<n+u?l:!1;break;case "circle":n=+l.attr("cx")*e;m=+l.attr("cy")*e;u=+l.attr("r")*e;h=Math.pow(a-n,2)+Math.pow(f-m,2)<=Math.pow(u,2)?l:!1;break;case "polygon":h=k(a,f,l)}if(h.length)return!1});return h},getRandomPointInPolygon:function(a){function f(a){var d=a.map(function(a){return a.x});var f=a.map(function(a){return a.y});
a=Math.max.apply(Math,d);d=Math.min.apply(Math,d);var k=Math.max.apply(Math,f);f=Math.min.apply(Math,f);c=Math.random()*(a-d)+d|0;e=Math.random()*(k-f)+f|0;return{x:c,y:e}}a=d.trim(d(a).attr("points")).split(" ");a=a.map(function(a){a=a.split(",");return{x:+a[0],y:+a[1]}});do{var k=f(a);var c=k.x;var e=k.y}while(!this.pointInPolygon(c,e,a));return{top:e,left:c}},pointInPolygon:function(a,d,k){var c=!1,e=k.length;var f=k.map(function(a){return a.x});k=k.map(function(a){return a.y});var h=Math.max.apply(Math,
f);var l=Math.min.apply(Math,f);var n=Math.max.apply(Math,k);var m=Math.min.apply(Math,k);if(a<l||a>h||d<m||d>n)return!1;h=0;for(l=e-1;h<e;l=h++)k[h]>d!==k[l]>d&&a<(f[l]-f[h])*(d-k[h])/(k[l]-k[h])+f[h]&&(c=!c);return c},highlightDrag:function(a){d(a).addClass(this.config.highlightedClass)},unhighlightDrags:function(){this.ui.drags.removeClass(this.config.highlightedClass)},showResponseSpecificFeedback:function(a){var d=this.model.get("correctAnswers");a=a||this.model.get("answers");a.forEach(function(a,
c){if(null!=a){a="string"===t.type(a)?+a.match(/^(\d+).*$/)[1]:a;var e=this.getDragByPosition(c);d[c]===a?e.addClass(this.config.correctClass):e.addClass(this.config.incorrectClass)}},this)},hideResponseSpecificFeedback:function(){this.ui.drags.removeClass([this.config.correctClass,this.config.incorrectClass].join(" "))},enableQuestionComponents:function(){this.handleDrags()},disableQuestionComponents:function(){this.ui.drags.off("mousedown mouseup touchstart touchend click")},showSolutionButton:function(){this.showSolutionButtonState=
"correct";this.ui.showSolutionButton.removeClass(this.config.showSolutionButtonHiddenClass)},hideSolutionButton:function(){this.ui.showSolutionButton.addClass(this.config.showSolutionButtonHiddenClass)},toggleSolution:function(){"correct"===this.showSolutionButtonState?(this.ui.showSolutionButton.text(this.config.showSolutionButtonUserAnswerText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonUserAnswerText),this.renderAnswers(this.model.get("correctAnswers")),this.showSolutionButtonState=
"user",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback(this.model.get("correctAnswers")))):(this.ui.showSolutionButton.text(this.config.showSolutionButtonSolutionText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonSolutionText),this.renderAnswers(this.model.get("answers")),this.showSolutionButtonState="correct",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback()))},
handleDisplayAreas:function(){var a=this;this.ui.altTexts.on("mouseover",function(){var f=d(this),k=f.data("alt-text");var c=f.parent().attr("data-position");c=null!=c?c:f.attr("data-position");f=a.ui.displayAreas.filter(function(){return d(this).attr("data-position")===c});f.children().text(k);f.css({opacity:1})}).on("mouseout",function(){a.ui.displayAreas.children().text("");a.ui.displayAreas.css({opacity:0})})},handleScaling:function(){this.config.responsiveScaling&&(this.ui.wrapper.css("overflow",
"hidden"),this.scaleImage=h.throttle(this.scaleImage.bind(this),50),d(window).on("resize",this.scaleImage),this.scaleImage())},scaleImage:function(){var a=this.ui.wrapper[0],d=a.offsetWidth;a=a.scrollWidth;var k=d/a,c=this.ui.img.height()*k;this.scaleCoefficient=k;a>d?(this.ui.wrapper.children().css("transform","scale("+d/(a+6)+")"),this.ui.wrapper.height(c+20)):(this.ui.wrapper.children().css("transform","scale(1)"),this.ui.wrapper.height("auto"))},turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);
this.renderAnswers(this.model.get("correctAnswers"))},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.renderAnswers()},destructor:function(){this.disableQuestionComponents();d(window).off("resize",this.scaleImage);this.constructor.__super__.destructor.call(this)}},{displayName:"binDropView",config:t.extend(k,q.configure(m.id))});p.trigger("binDropView.loaded",!0,m);return m});
define("elements/questions/binDrop/binDrop","module elements/questions/question/question elements/questions/binDrop/model/binDropModel elements/questions/binDrop/views/binDropView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k){h={name:"binDrop",displayName:k.t("questions.binDrop.displayName")||"BinDrop",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:n,Model:h};m=d.extend({},{config:p.extend(h,t.configure(m.id))});
q.trigger("binDrop.loaded",!0,m);return m});
define("elements/questions/sequenceActivity/model/sequenceActivityModel","module underscore elements/questions/question/model app/events app/configuration app/utilities/XyTools".split(" "),function(m,d,h,n,p,q){m=h.extend({props:{webpresentationstyle:{type:"string",default:"Select Sequence Number",values:["Select Sequence Number","Drag and Drop"]},answerOrder:"array",sequencestep:"array"},initialize:function(){this.constructor.__super__.initialize.call(this);this.setAnswers();this.getCorrectAnswers();
this.setupAnswerOrder()},setAnswers:function(){if(!this.get("answers").length){var d=this.get("sequencestep").map(function(){return!1});this.set("answers",d)}},getCorrectAnswers:function(){var d=this.get("sequencestep").map(function(d,a){return a});this.set("correctAnswers",d)},setupAnswerOrder:function(){var d=[];this.get("enabled")&&(d=this.get("sequencestep").map(function(d,a){return a}),d=this.get("behavior.forceNoRandomization")?d:this.randomizeAnswers(d),this.set("answerOrder",d))},randomizeAnswers:function(h){if(!h.length)return h;
do var k=d.shuffle(h);while(d.isEqual(h,k));return k},answerChanged:function(d){var k=this.get("answers"),a,f;d&&(d.forEach(function(d,c){!1!==d&&d!==k[c]&&(a=c,f=d)}),d=d.map(function(d,c){return c===a?f:d===f?!1:d}),this.set("answers",d))},isCorrect:function(){var d=this.get("answers");return d.length?d.every(function(d,a){return d===a}):!1},hasAnswers:function(){return this.get("answers").length?-1===this.get("answers").indexOf(!1):!1}},{displayName:"sequenceActivityModel",config:q.extend({},p.configure(m.id))});
n.trigger("sequenceActivityModel.loaded",!0,m);return m});
(function(m,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define("sortable",d):(m=m||self,m.Sortable=d())})(this,function(){function m(a,c){var d=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);c&&(e=e.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable}));d.push.apply(d,e)}return d}function d(a){for(var c=1;c<arguments.length;c++){var d=null!=arguments[c]?arguments[c]:
{};c%2?m(Object(d),!0).forEach(function(c){var e=d[c];c in a?Object.defineProperty(a,c,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[c]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(d)):m(Object(d)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(d,c))})}return a}function h(a){"@babel/helpers - typeof";h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return h(a)}function n(){n=Object.assign||function(a){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;for(e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};return n.apply(this,arguments)}function p(a,c){if(null==a)return{};if(null==a)var d={};else{d={};var e=Object.keys(a),f;for(f=0;f<e.length;f++){var k=e[f];0<=c.indexOf(k)||(d[k]=a[k])}}if(Object.getOwnPropertySymbols)for(f=
Object.getOwnPropertySymbols(a),k=0;k<f.length;k++)e=f[k],0<=c.indexOf(e)||Object.prototype.propertyIsEnumerable.call(a,e)&&(d[e]=a[e]);return d}function q(a){var c=Array.isArray(a)?t(a):void 0;c||(c="undefined"!==typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"]?Array.from(a):void 0);if(!c)a:{if(a){if("string"===typeof a){c=t(a,void 0);break a}c=Object.prototype.toString.call(a).slice(8,-1);"Object"===c&&a.constructor&&(c=a.constructor.name);if("Map"===c||"Set"===c){c=Array.from(a);
break a}if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)){c=t(a,void 0);break a}}c=void 0}if(!(a=c))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return a}function t(a,c){if(null==c||c>a.length)c=a.length;for(var d=0,e=Array(c);d<c;d++)e[d]=a[d];return e}function k(a){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(a)}function a(a,c,
d){a.addEventListener(c,d,!va&&Xb)}function f(a,c,d){a.removeEventListener(c,d,!va&&Xb)}function l(a,c){if(c){">"===c[0]&&(c=c.substring(1));if(a)try{if(a.matches)return a.matches(c);if(a.msMatchesSelector)return a.msMatchesSelector(c);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(c)}catch(zb){}return!1}}function c(a,c,d,e){if(a){d=d||document;do{if(null!=c&&(">"===c[0]?a.parentNode===d&&l(a,c):l(a,c))||e&&a===d)return a;if(a===d)break}while(a=a.host&&a!==document&&a.host.nodeType?a.host:
a.parentNode)}return null}function e(a,c,d){if(a&&c)if(a.classList)a.classList[d?"add":"remove"](c);else{var e=(" "+a.className+" ").replace(Yb," ").replace(" "+c+" "," ");a.className=(e+(d?" "+c:"")).replace(Yb," ")}}function u(a,c,d){var e=a&&a.style;if(e){if(void 0===d)return document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(d=a.currentStyle),void 0===c?d:d[c];c in e||-1!==c.indexOf("webkit")||(c="-webkit-"+c);e[c]=d+("string"===
typeof d?"":"px")}}function z(a,c){var d="";if("string"===typeof a)d=a;else{do{var e=u(a,"transform");e&&"none"!==e&&(d=e+" "+d)}while(!c&&(a=a.parentNode))}return(a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)&&new a(d)}function B(a,c,d){if(a){a=a.getElementsByTagName(c);c=0;var e=a.length;if(d)for(;c<e;c++)d(a[c],c);return a}return[]}function G(){var a=document.scrollingElement;return a?a:document.documentElement}function x(a,c,d,e,f){if(a.getBoundingClientRect||
a===window){if(a!==window&&a.parentNode&&a!==G()){var k=a.getBoundingClientRect();var h=k.top;var l=k.left;var n=k.bottom;var m=k.right;var q=k.height;var t=k.width}else l=h=0,n=window.innerHeight,m=window.innerWidth,q=window.innerHeight,t=window.innerWidth;if((c||d)&&a!==window&&(f=f||a.parentNode,!va)){do if(f&&f.getBoundingClientRect&&("none"!==u(f,"transform")||d&&"static"!==u(f,"position"))){n=f.getBoundingClientRect();h-=n.top+parseInt(u(f,"border-top-width"));l-=n.left+parseInt(u(f,"border-left-width"));
n=h+k.height;m=l+k.width;break}while(f=f.parentNode)}e&&a!==window&&(e=(a=z(f||a))&&a.a,f=a&&a.d,a&&(h/=f,l/=e,t/=e,q/=f,n=h+q,m=l+t));return{top:h,left:l,bottom:n,right:m,width:t,height:q}}}function I(a,c,d){var e=E(a,!0);for(a=x(a)[c];e;){c=x(e)[d];if(!("top"===d||"left"===d?a>=c:a<=c))return e;if(e===G())break;e=E(e,!1)}return!1}function H(a,d,e,f){for(var k=0,h=0,l=a.children;h<l.length;){if("none"!==l[h].style.display&&l[h]!==R.ghost&&(f||l[h]!==R.dragged)&&c(l[h],e.draggable,a,!1)){if(k===d)return l[h];
k++}h++}return null}function A(a,c){for(a=a.lastElementChild;a&&(a===R.ghost||"none"===u(a,"display")||c&&!l(a,c));)a=a.previousElementSibling;return a||null}function D(a,c){var d=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)"TEMPLATE"===a.nodeName.toUpperCase()||a===R.clone||c&&!l(a,c)||d++;return d}function C(a){var c=0,d=0,e=G();if(a){do{var f=z(a),k=f.d;c+=a.scrollLeft*f.a;d+=a.scrollTop*k}while(a!==e&&(a=a.parentNode))}return[c,d]}function F(a,c){for(var d in a)if(a.hasOwnProperty(d))for(var e in c)if(c.hasOwnProperty(e)&&
c[e]===a[d][e])return Number(d);return-1}function E(a,c){if(!a||!a.getBoundingClientRect)return G();var d=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var e=u(a);if(a.clientWidth<a.scrollWidth&&("auto"==e.overflowX||"scroll"==e.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==e.overflowY||"scroll"==e.overflowY)){if(!a.getBoundingClientRect||a===document.body)break;if(d||c)return a;d=!0}}while(a=a.parentNode);return G()}function K(a,c){return Math.round(a.top)===Math.round(c.top)&&
Math.round(a.left)===Math.round(c.left)&&Math.round(a.height)===Math.round(c.height)&&Math.round(a.width)===Math.round(c.width)}function N(a,c){return function(){if(!mb){var d=arguments;1===d.length?a.call(this,d[0]):a.apply(this,d);mb=setTimeout(function(){mb=void 0},c)}}}function Y(a,c,d){a.scrollLeft+=c;a.scrollTop+=d}function P(a){var c=window.Polymer,d=window.jQuery||window.Zepto;return c&&c.dom?c.dom(a).cloneNode(!0):d?d(a).clone(!0)[0]:a.cloneNode(!0)}function W(a,c){u(a,"position","absolute");
u(a,"top",c.top);u(a,"left",c.left);u(a,"width",c.width);u(a,"height",c.height)}function ha(a){u(a,"position","");u(a,"top","");u(a,"left","");u(a,"width","");u(a,"height","")}function ja(){var a=[],c;return{captureAnimationState:function(){a=[];this.options.animation&&[].slice.call(this.el.children).forEach(function(c){if("none"!==u(c,"display")&&c!==R.ghost){a.push({target:c,rect:x(c)});var e=d({},a[a.length-1].rect);if(c.thisAnimationDuration){var f=z(c,!0);f&&(e.top-=f.f,e.left-=f.e)}c.fromRect=
e}})},addAnimationState:function(c){a.push(c)},removeAnimationState:function(c){a.splice(F(a,{target:c}),1)},animateAll:function(d){var e=this;if(this.options.animation){var f=!1,k=0;a.forEach(function(a){var c=0,d=a.target,h=d.fromRect,l=x(d),n=d.prevFromRect,m=d.prevToRect;a=a.rect;var u=z(d,!0);u&&(l.top-=u.f,l.left-=u.e);d.toRect=l;d.thisAnimationDuration&&K(n,l)&&!K(h,l)&&(a.top-l.top)/(a.left-l.left)===(h.top-l.top)/(h.left-l.left)&&(c=Math.sqrt(Math.pow(n.top-a.top,2)+Math.pow(n.left-a.left,
2))/Math.sqrt(Math.pow(n.top-m.top,2)+Math.pow(n.left-m.left,2))*e.options.animation);K(l,h)||(d.prevFromRect=h,d.prevToRect=l,c||(c=e.options.animation),e.animate(d,a,l,c));c&&(f=!0,k=Math.max(k,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0;d.prevFromRect=null;d.fromRect=null;d.prevToRect=null;d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)});clearTimeout(c);f?c=setTimeout(function(){"function"===typeof d&&d()},k):"function"===typeof d&&
d();a=[]}else clearTimeout(c),"function"===typeof d&&d()},animate:function(a,c,d,e){if(e){u(a,"transition","");u(a,"transform","");var f=z(this.el),k=(c.left-d.left)/(f&&f.a||1);c=(c.top-d.top)/(f&&f.d||1);a.animatingX=!!k;a.animatingY=!!c;u(a,"transform","translate3d("+k+"px,"+c+"px,0)");this.forRepaintDummy=a.offsetWidth;u(a,"transition","transform "+e+"ms"+(this.options.easing?" "+this.options.easing:""));u(a,"transform","translate3d(0,0,0)");"number"===typeof a.animated&&clearTimeout(a.animated);
a.animated=setTimeout(function(){u(a,"transition","");u(a,"transform","");a.animated=!1;a.animatingX=!1;a.animatingY=!1},e)}}}}function ba(a){var c=a.sortable,e=a.rootEl,f=a.name,k=a.targetEl,h=a.cloneEl,l=a.toEl,n=a.fromEl,m=a.oldIndex,u=a.newIndex,q=a.oldDraggableIndex,t=a.newDraggableIndex,p=a.originalEvent,A=a.putSortable,z=a.extraEventProperties;if(c=c||e&&e[ra]){var B=c.options,x="on"+f.charAt(0).toUpperCase()+f.substr(1);!window.CustomEvent||va||Kb?(a=document.createEvent("Event"),a.initEvent(f,
!0,!0)):a=new CustomEvent(f,{bubbles:!0,cancelable:!0});a.to=l||e;a.from=n||e;a.item=k||e;a.clone=h;a.oldIndex=m;a.newIndex=u;a.oldDraggableIndex=q;a.newDraggableIndex=t;a.originalEvent=p;a.pullMode=A?A.lastPutMode:void 0;f=d(d({},z),qb.getEventProperties(f,c));for(var v in f)a[v]=f[v];e&&e.dispatchEvent(a);B[x]&&B[x].call(c,a)}}function Z(a){ba(d({putSortable:wa,cloneEl:pa,targetEl:L,rootEl:ua,oldIndex:V,oldDraggableIndex:Ab,newIndex:na,newDraggableIndex:Ja},a))}function R(c,d){if(!c||!c.nodeType||
1!==c.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(c));this.el=c;this.options=d=n({},d);c[ra]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(c.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return gb(c,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,
animation:0,easing:null,setData:function(a,c){a.setData("Text",c.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==R.supportPointer&&"PointerEvent"in window&&!fa,emptyInsertThreshold:5};qb.initializePlugins(this,c,e);for(var f in e)f in
d||(d[f]=e[f]);Jb(d);for(var k in this)"_"===k.charAt(0)&&"function"===typeof this[k]&&(this[k]=this[k].bind(this));if(this.nativeDraggable=d.forceFallback?!1:sb)this.options.touchStartThreshold=1;d.supportPointer?a(c,"pointerdown",this._onTapStart):(a(c,"mousedown",this._onTapStart),a(c,"touchstart",this._onTapStart));this.nativeDraggable&&(a(c,"dragover",this),a(c,"dragenter",this));Mb.push(this.el);d.store&&d.store.get&&this.sort(d.store.get(this)||[]);n(this,ja())}function cb(a,c,d,e,f,k,h,l){var n=
a[ra],m=n.options.onMove,u;if(!window.CustomEvent||va||Kb){var q=document.createEvent("Event");q.initEvent("move",!0,!0)}else q=new CustomEvent("move",{bubbles:!0,cancelable:!0});q.to=c;q.from=a;q.dragged=d;q.draggedRect=e;q.related=f||c;q.relatedRect=k||x(c);q.willInsertAfter=l;q.originalEvent=h;a.dispatchEvent(q);m&&(u=m.call(n,q,h));return u}function Qa(a){a.draggable=!1}function S(){Ka=!1}function U(a,c,d){d=x(H(d.el,0,d.options,!0));return c?a.clientX<d.left-10||a.clientY<d.top&&a.clientX<d.right:
a.clientY<d.top-10||a.clientY<d.bottom&&a.clientX<d.left}function da(a,c,d){d=x(A(d.el,d.options.draggable));return c?a.clientX>d.right+10||a.clientX<=d.right&&a.clientY>d.bottom&&a.clientX>=d.left:a.clientX>d.right&&a.clientY>d.top||a.clientX<=d.right&&a.clientY>d.bottom+10}function Cb(a,c,d,e,f,k,h,l){a=e?a.clientY:a.clientX;var n=e?d.height:d.width,m=e?d.top:d.left;d=e?d.bottom:d.right;e=!1;if(!h)if(l&&Wa<n*f)if(!bb&&(1===rb?a>m+n*k/2:a<d-n*k/2)&&(bb=!0),bb)e=!0;else{if(1===rb?a<m+Wa:a>d-Wa)return-rb}else if(a>
m+n*(1-f)/2&&a<d-n*(1-f)/2)return c=D(L)<D(c)?1:-1,c;if(e||h)if(a<m+n*k/2||a>d-n*k/2)return a>m+n/2?1:-1;return 0}function La(a){a=a.tagName+a.className+a.src+a.href+a.textContent;for(var c=a.length,d=0;c--;)d+=a.charCodeAt(c);return d.toString(36)}function Pa(a){Ib.length=0;a=a.getElementsByTagName("input");for(var c=a.length;c--;){var d=a[c];d.checked&&Ib.push(d)}}function db(a){return setTimeout(a,0)}function oa(){ka.forEach(function(a){clearInterval(a.pid)});ka=[]}function M(){}function Ra(){}
function Va(a,c){T.forEach(function(d,e){(e=c.children[d.sortableIndex+(a?Number(e):0)])?c.insertBefore(d,e):c.appendChild(d)})}function Sa(a,c){Ua.forEach(function(d,e){(e=c.children[d.sortableIndex+(a?Number(e):0)])?c.insertBefore(d,e):c.appendChild(d)})}function jb(){T.forEach(function(a){a!==la&&a.parentNode&&a.parentNode.removeChild(a)})}var va=k(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Kb=k(/Edge/i),pb=k(/firefox/i),fa=k(/safari/i)&&!k(/chrome/i)&&!k(/android/i),v=k(/iP(ad|od|hone)/i),
Db=k(/chrome/i)&&k(/android/i),Xb={capture:!1,passive:!1},Yb=/\s+/g,mb,ra="Sortable"+(new Date).getTime(),Xa=[],Ub={initializeByDefault:!0},qb={mount:function(a){for(var c in Ub)!Ub.hasOwnProperty(c)||c in a||(a[c]=Ub[c]);Xa.forEach(function(c){if(c.pluginName===a.pluginName)throw"Sortable: Cannot mount plugin ".concat(a.pluginName," more than once");});Xa.push(a)},pluginEvent:function(a,c,e){var f=this;this.eventCanceled=!1;e.cancel=function(){f.eventCanceled=!0};var k=a+"Global";Xa.forEach(function(f){if(c[f.pluginName]){if(c[f.pluginName][k])c[f.pluginName][k](d({sortable:c},
e));if(c.options[f.pluginName]&&c[f.pluginName][a])c[f.pluginName][a](d({sortable:c},e))}})},initializePlugins:function(a,c,d,e){Xa.forEach(function(e){var f=e.pluginName;if(a.options[f]||e.initializeByDefault)e=new e(a,c,a.options),e.sortable=a,e.options=a.options,a[f]=e,n(d,e.defaults)});for(var f in a.options)a.options.hasOwnProperty(f)&&(e=this.modifyOption(a,f,a.options[f]),"undefined"!==typeof e&&(a.options[f]=e))},getEventProperties:function(a,c){var d={};Xa.forEach(function(e){"function"===
typeof e.eventProperties&&n(d,e.eventProperties.call(c[e.pluginName],a))});return d},modifyOption:function(a,c,d){var e;Xa.forEach(function(f){a[f.pluginName]&&f.optionListeners&&"function"===typeof f.optionListeners[c]&&(e=f.optionListeners[c].call(a[f.pluginName],d))});return e}},ec=["evt"],Oa=function(a,c){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},f=e.evt;e=p(e,ec);qb.pluginEvent.bind(R)(a,c,d({dragEl:L,parentEl:ta,ghostEl:X,rootEl:ua,nextEl:Ga,lastDownEl:eb,cloneEl:pa,cloneHidden:Za,
dragStarted:yb,putSortable:wa,activeSortable:R.active,originalEvent:f,oldIndex:V,oldDraggableIndex:Ab,newIndex:na,newDraggableIndex:Ja,hideGhostForTarget:y,unhideGhostForTarget:Ia,cloneNowHidden:function(){Za=!0},cloneNowShown:function(){Za=!1},dispatchSortableEvent:function(a){Z({sortable:c,name:a,originalEvent:f})}},e))},L,ta,X,ua,Ga,eb,pa,Za,V,na,Ab,Ja,Lb,wa,Da=!1,Ya=!1,Mb=[],xa,qa,Ba,Qb,$a,xb,yb,Ca,rb,bb=!1,ca=!1,Wa,ya,Wb=[],Ka=!1,Ib=[],Bb="undefined"!==typeof document,Ta=Kb||va?"cssFloat":"float",
sb=Bb&&!Db&&!v&&"draggable"in document.createElement("div"),fb=function(){if(Bb){if(va)return!1;var a=document.createElement("x");a.style.cssText="pointer-events:auto";return"auto"===a.style.pointerEvents}}(),gb=function(a,c){var d=u(a),e=parseInt(d.width)-parseInt(d.paddingLeft)-parseInt(d.paddingRight)-parseInt(d.borderLeftWidth)-parseInt(d.borderRightWidth),f=H(a,0,c);a=H(a,1,c);var k=f&&u(f);c=a&&u(a);var h=k&&parseInt(k.marginLeft)+parseInt(k.marginRight)+x(f).width,l=c&&parseInt(c.marginLeft)+
parseInt(c.marginRight)+x(a).width;return"flex"===d.display?"column"===d.flexDirection||"column-reverse"===d.flexDirection?"vertical":"horizontal":"grid"===d.display?1>=d.gridTemplateColumns.split(" ").length?"vertical":"horizontal":f&&k["float"]&&"none"!==k["float"]?(d="left"===k["float"]?"left":"right",!a||"both"!==c.clear&&c.clear!==d?"horizontal":"vertical"):f&&("block"===k.display||"flex"===k.display||"table"===k.display||"grid"===k.display||h>=e&&"none"===d[Ta]||a&&"none"===d[Ta]&&h+l>e)?"vertical":
"horizontal"},fc=function(a,c,d){var e=d?a.left:a.top,f=d?a.right:a.bottom;a=d?a.width:a.height;var k=d?c.left:c.top,h=d?c.right:c.bottom;c=d?c.width:c.height;return e===k||f===h||e+a/2===k+c/2},O=function(a,c){var d;Mb.some(function(e){var f=e[ra].options.emptyInsertThreshold;if(f&&!A(e)){var k=x(e),h=c>=k.top-f&&c<=k.bottom+f;if(a>=k.left-f&&a<=k.right+f&&h)return d=e}});return d},Jb=function(a){function c(a,d){return function(e,f,k,h){var l=e.options.group.name&&f.options.group.name&&e.options.group.name===
f.options.group.name;if(null==a&&(d||l))return!0;if(null==a||!1===a)return!1;if(d&&"clone"===a)return a;if("function"===typeof a)return c(a(e,f,k,h),d)(e,f,k,h);e=(d?e:f).options.group.name;return!0===a||"string"===typeof a&&a===e||a.join&&-1<a.indexOf(e)}}var d={},e=a.group;e&&"object"==h(e)||(e={name:e});d.name=e.name;d.checkPull=c(e.pull,!0);d.checkPut=c(e.put);d.revertClone=e.revertClone;a.group=d},y=function(){!fb&&X&&u(X,"display","none")},Ia=function(){!fb&&X&&u(X,"display","")};Bb&&!Db&&document.addEventListener("click",
function(a){if(Ya)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),Ya=!1},!0);var kb=function(a){if(L){a=a.touches?a.touches[0]:a;var c=O(a.clientX,a.clientY);if(c){var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.target=d.rootEl=c;d.preventDefault=void 0;d.stopPropagation=void 0;c[ra]._onDragOver(d)}}},gc=function(a){L&&L.parentNode[ra]._isOutsideThisEl(a.target)};R.prototype={constructor:R,_isOutsideThisEl:function(a){this.el.contains(a)||
a===this.el||(Ca=null)},_getDirection:function(a,c){return"function"===typeof this.options.direction?this.options.direction.call(this,a,c,L):this.options.direction},_onTapStart:function(a){if(a.cancelable){var d=this,e=this.el,f=this.options,k=f.preventOnFilter,h=a.type,l=a.touches&&a.touches[0]||a.pointerType&&"touch"===a.pointerType&&a,n=(l||a).target,m=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||n,u=f.filter;Pa(e);if(!(L||/mousedown|pointerdown/.test(h)&&0!==
a.button||f.disabled||m.isContentEditable||!this.nativeDraggable&&fa&&n&&"SELECT"===n.tagName.toUpperCase()||(n=c(n,f.draggable,e,!1),n&&n.animated||eb===n))){V=D(n);Ab=D(n,f.draggable);if("function"===typeof u){if(u.call(this,a,n,this)){Z({sortable:d,rootEl:m,name:"filter",targetEl:n,toEl:e,fromEl:e});Oa("filter",d,{evt:a});k&&a.cancelable&&a.preventDefault();return}}else if(u&&(u=u.split(",").some(function(f){if(f=c(m,f.trim(),e,!1))return Z({sortable:d,rootEl:f,name:"filter",targetEl:n,fromEl:e,
toEl:e}),Oa("filter",d,{evt:a}),!0}))){k&&a.cancelable&&a.preventDefault();return}f.handle&&!c(m,f.handle,e,!1)||this._prepareDragStart(a,l,n)}}},_prepareDragStart:function(c,d,f){var k=this,h=k.el,l=k.options,n=h.ownerDocument;if(f&&!L&&f.parentNode===h){var m=x(f);ua=h;L=f;ta=L.parentNode;Ga=L.nextSibling;eb=f;Lb=l.group;R.dragged=L;xa={target:L,clientX:(d||c).clientX,clientY:(d||c).clientY};$a=xa.clientX-m.left;xb=xa.clientY-m.top;this._lastX=(d||c).clientX;this._lastY=(d||c).clientY;L.style["will-change"]=
"all";f=function(){Oa("delayEnded",k,{evt:c});R.eventCanceled?k._onDrop():(k._disableDelayedDragEvents(),!pb&&k.nativeDraggable&&(L.draggable=!0),k._triggerDragStart(c,d),Z({sortable:k,name:"choose",originalEvent:c}),e(L,l.chosenClass,!0))};l.ignore.split(",").forEach(function(a){B(L,a.trim(),Qa)});a(n,"dragover",kb);a(n,"mousemove",kb);a(n,"touchmove",kb);a(n,"mouseup",k._onDrop);a(n,"touchend",k._onDrop);a(n,"touchcancel",k._onDrop);pb&&this.nativeDraggable&&(this.options.touchStartThreshold=4,
L.draggable=!0);Oa("delayStart",this,{evt:c});!l.delay||l.delayOnTouchOnly&&!d||this.nativeDraggable&&(Kb||va)?f():R.eventCanceled?this._onDrop():(a(n,"mouseup",k._disableDelayedDrag),a(n,"touchend",k._disableDelayedDrag),a(n,"touchcancel",k._disableDelayedDrag),a(n,"mousemove",k._delayedDragTouchMoveHandler),a(n,"touchmove",k._delayedDragTouchMoveHandler),l.supportPointer&&a(n,"pointermove",k._delayedDragTouchMoveHandler),k._dragStartTimer=setTimeout(f,l.delay))}},_delayedDragTouchMoveHandler:function(a){a=
a.touches?a.touches[0]:a;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){L&&Qa(L);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;f(a,"mouseup",this._disableDelayedDrag);f(a,"touchend",this._disableDelayedDrag);f(a,"touchcancel",this._disableDelayedDrag);
f(a,"mousemove",this._delayedDragTouchMoveHandler);f(a,"touchmove",this._delayedDragTouchMoveHandler);f(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(c,d){d=d||"touch"==c.pointerType&&c;!this.nativeDraggable||d?this.options.supportPointer?a(document,"pointermove",this._onTouchMove):d?a(document,"touchmove",this._onTouchMove):a(document,"mousemove",this._onTouchMove):(a(L,"dragend",this),a(ua,"dragstart",this._onDragStart));try{document.selection?db(function(){document.selection.empty()}):
window.getSelection().removeAllRanges()}catch(zb){}},_dragStarted:function(c,d){Da=!1;if(ua&&L){Oa("dragStarted",this,{evt:d});this.nativeDraggable&&a(document,"dragover",gc);var f=this.options;!c&&e(L,f.dragClass,!1);e(L,f.ghostClass,!0);R.active=this;c&&this._appendGhost();Z({sortable:this,name:"start",originalEvent:d})}else this._nulling()},_emulateDragOver:function(){if(qa){this._lastX=qa.clientX;this._lastY=qa.clientY;y();for(var a=document.elementFromPoint(qa.clientX,qa.clientY),c=a;a&&a.shadowRoot;){a=
a.shadowRoot.elementFromPoint(qa.clientX,qa.clientY);if(a===c)break;c=a}L.parentNode[ra]._isOutsideThisEl(a);if(c){do{if(c[ra]&&c[ra]._onDragOver({clientX:qa.clientX,clientY:qa.clientY,target:a,rootEl:c})&&!this.options.dragoverBubble)break;a=c}while(c=c.parentNode)}Ia()}},_onTouchMove:function(a){if(xa){var c=this.options,d=c.fallbackTolerance,e=c.fallbackOffset;c=a.touches?a.touches[0]:a;var f=X&&z(X,!0),k=X&&f&&f.a,h=X&&f&&f.d,l=v&&ya&&C(ya);k=(c.clientX-xa.clientX+e.x)/(k||1)+(l?l[0]-Wb[0]:0)/
(k||1);e=(c.clientY-xa.clientY+e.y)/(h||1)+(l?l[1]-Wb[1]:0)/(h||1);if(!R.active&&!Da){if(d&&Math.max(Math.abs(c.clientX-this._lastX),Math.abs(c.clientY-this._lastY))<d)return;this._onDragStart(a,!0)}X&&(f?(f.e+=k-(Ba||0),f.f+=e-(Qb||0)):f={a:1,b:0,c:0,d:1,e:k,f:e},d="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")"),u(X,"webkitTransform",d),u(X,"mozTransform",d),u(X,"msTransform",d),u(X,"transform",d),Ba=k,Qb=e,qa=c);a.cancelable&&a.preventDefault()}},
_appendGhost:function(){if(!X){var a=this.options.fallbackOnBody?document.body:ua,c=x(L,!0,v,!0,a),d=this.options;if(v){for(ya=a;"static"===u(ya,"position")&&"none"===u(ya,"transform")&&ya!==document;)ya=ya.parentNode;ya!==document.body&&ya!==document.documentElement?(ya===document&&(ya=G()),c.top+=ya.scrollTop,c.left+=ya.scrollLeft):ya=G();Wb=C(ya)}X=L.cloneNode(!0);e(X,d.ghostClass,!1);e(X,d.fallbackClass,!0);e(X,d.dragClass,!0);u(X,"transition","");u(X,"transform","");u(X,"box-sizing","border-box");
u(X,"margin",0);u(X,"top",c.top);u(X,"left",c.left);u(X,"width",c.width);u(X,"height",c.height);u(X,"opacity","0.8");u(X,"position",v?"absolute":"fixed");u(X,"zIndex","100000");u(X,"pointerEvents","none");R.ghost=X;a.appendChild(X);u(X,"transform-origin",$a/parseInt(X.style.width)*100+"% "+xb/parseInt(X.style.height)*100+"%")}},_onDragStart:function(c,d){var k=this,h=c.dataTransfer,l=k.options;Oa("dragStart",this,{evt:c});R.eventCanceled?this._onDrop():(Oa("setupClone",this),R.eventCanceled||(pa=
P(L),pa.removeAttribute("id"),pa.draggable=!1,pa.style["will-change"]="",this._hideClone(),e(pa,this.options.chosenClass,!1),R.clone=pa),k.cloneId=db(function(){Oa("clone",k);R.eventCanceled||(k.options.removeCloneOnHide||ua.insertBefore(pa,L),k._hideClone(),Z({sortable:k,name:"clone"}))}),!d&&e(L,l.dragClass,!0),d?(Ya=!0,k._loopId=setInterval(k._emulateDragOver,50)):(f(document,"mouseup",k._onDrop),f(document,"touchend",k._onDrop),f(document,"touchcancel",k._onDrop),h&&(h.effectAllowed="move",l.setData&&
l.setData.call(k,h,L)),a(document,"drop",k),u(L,"transform","translateZ(0)")),Da=!0,k._dragStartId=db(k._dragStarted.bind(k,d,c)),a(document,"selectstart",k),yb=!0,fa&&u(document.body,"user-select","none"))},_onDragOver:function(a){function f(c,e){Oa(c,E,d({evt:a,isOwner:v,axis:K?"vertical":"horizontal",revert:t,dragRect:F,targetRect:q,canSort:C,fromSortable:G,target:m,completed:h,onMove:function(c,d){return cb(ua,n,L,F,c,x(c),a,d)},changed:l},e))}function k(){f("dragOverAnimationCapture");E.captureAnimationState();
E!==G&&G.captureAnimationState()}function h(c){f("dragOverCompleted",{insertion:c});c&&(v?B._hideClone():B._showClone(E),E!==G&&(e(L,wa?wa.options.ghostClass:B.options.ghostClass,!1),e(L,p.ghostClass,!0)),wa!==E&&E!==R.active?wa=E:E===R.active&&wa&&(wa=null),G===E&&(E._ignoreWhileAnimating=m),E.animateAll(function(){f("dragOverAnimationComplete");E._ignoreWhileAnimating=null}),E!==G&&(G.animateAll(),G._ignoreWhileAnimating=null));if(m===L&&!L.animated||m===n&&!m.animated)Ca=null;p.dragoverBubble||
a.rootEl||m===document||(L.parentNode[ra]._isOutsideThisEl(a.target),!c&&kb(a));!p.dragoverBubble&&a.stopPropagation&&a.stopPropagation();return y=!0}function l(){na=D(L);Ja=D(L,p.draggable);Z({sortable:E,name:"change",toEl:n,newIndex:na,newDraggableIndex:Ja,originalEvent:a})}var n=this.el,m=a.target,q,t,p=this.options,z=p.group,B=R.active,v=Lb===z,C=p.sort,G=wa||B,E=this,y=!1;if(!Ka){void 0!==a.preventDefault&&a.cancelable&&a.preventDefault();m=c(m,p.draggable,n,!0);f("dragOver");if(R.eventCanceled)return y;
if(L.contains(a.target)||m.animated&&m.animatingX&&m.animatingY||E._ignoreWhileAnimating===m)return h(!1);Ya=!1;if(B&&!p.disabled&&(v?C||(t=ta!==ua):wa===this||(this.lastPutMode=Lb.checkPull(this,B,L,a))&&z.checkPut(this,B,L,a))){var K="vertical"===this._getDirection(a,m);var F=x(L);f("dragOverValid");if(R.eventCanceled)return y;if(t)return ta=ua,k(),this._hideClone(),f("revert"),R.eventCanceled||(Ga?ua.insertBefore(L,Ga):ua.appendChild(L)),h(!0);z=A(n,p.draggable);if(!z||da(a,K,this)&&!z.animated){if(z===
L)return h(!1);z&&n===a.target&&(m=z);m&&(q=x(m));if(!1!==cb(ua,n,L,F,m,q,a,!!m))return k(),z&&z.nextSibling?n.insertBefore(L,z.nextSibling):n.appendChild(L),ta=n,l(),h(!0)}else if(z&&U(a,K,this)){var N=H(n,0,p,!0);if(N===L)return h(!1);m=N;q=x(m);if(!1!==cb(ua,n,L,F,m,q,a,!1))return k(),n.insertBefore(L,N),ta=n,l(),h(!0)}else if(m.parentNode===n){q=x(m);var P=0;P=L.parentNode!==n;var W=!fc(L.animated&&L.toRect||F,m.animated&&m.toRect||q,K);z=K?"top":"left";var ja=I(m,"top","top")||I(L,"top","top"),
ha=ja?ja.scrollTop:void 0;Ca!==m&&(N=q[z],bb=!1,ca=!W&&p.invertSwap||P);P=Cb(a,m,q,K,W?1:p.swapThreshold,null==p.invertedSwapThreshold?p.swapThreshold:p.invertedSwapThreshold,ca,Ca===m);if(0!==P){W=D(L);do{W-=P;var za=ta.children[W]}while(za&&("none"===u(za,"display")||za===X))}if(0===P||za===m)return h(!1);Ca=m;rb=P;za=m.nextElementSibling;W=!1;W=1===P;P=cb(ua,n,L,F,m,q,a,W);if(!1!==P){if(1===P||-1===P)W=1===P;Ka=!0;setTimeout(S,30);k();W&&!za?n.appendChild(L):m.parentNode.insertBefore(L,W?za:m);
ja&&Y(ja,0,ha-ja.scrollTop);ta=L.parentNode;void 0===N||ca||(Wa=Math.abs(N-x(m)[z]));l();return h(!0)}}if(n.contains(L))return h(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){f(document,"mousemove",this._onTouchMove);f(document,"touchmove",this._onTouchMove);f(document,"pointermove",this._onTouchMove);f(document,"dragover",kb);f(document,"mousemove",kb);f(document,"touchmove",kb)},_offUpEvents:function(){var a=this.el.ownerDocument;f(a,"mouseup",this._onDrop);f(a,"touchend",
this._onDrop);f(a,"pointerup",this._onDrop);f(a,"touchcancel",this._onDrop);f(document,"selectstart",this)},_onDrop:function(a){var c=this.el,d=this.options;na=D(L);Ja=D(L,d.draggable);Oa("drop",this,{evt:a});ta=L&&L.parentNode;na=D(L);Ja=D(L,d.draggable);if(!R.eventCanceled&&(bb=ca=Da=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),clearTimeout(this._dragStartId),this.nativeDraggable&&(f(document,"drop",this),f(c,"dragstart",this._onDragStart)),this._offMoveEvents(),
this._offUpEvents(),fa&&u(document.body,"user-select",""),u(L,"transform",""),a&&(yb&&(a.cancelable&&a.preventDefault(),!d.dropBubble&&a.stopPropagation()),X&&X.parentNode&&X.parentNode.removeChild(X),(ua===ta||wa&&"clone"!==wa.lastPutMode)&&pa&&pa.parentNode&&pa.parentNode.removeChild(pa),L&&(this.nativeDraggable&&f(L,"dragend",this),Qa(L),L.style["will-change"]="",yb&&!Da&&e(L,wa?wa.options.ghostClass:this.options.ghostClass,!1),e(L,this.options.chosenClass,!1),Z({sortable:this,name:"unchoose",
toEl:ta,newIndex:null,newDraggableIndex:null,originalEvent:a}),ua!==ta?(0<=na&&(Z({rootEl:ta,name:"add",toEl:ta,fromEl:ua,originalEvent:a}),Z({sortable:this,name:"remove",toEl:ta,originalEvent:a}),Z({rootEl:ta,name:"sort",toEl:ta,fromEl:ua,originalEvent:a}),Z({sortable:this,name:"sort",toEl:ta,originalEvent:a})),wa&&wa.save()):na!==V&&0<=na&&(Z({sortable:this,name:"update",toEl:ta,originalEvent:a}),Z({sortable:this,name:"sort",toEl:ta,originalEvent:a})),R.active)))){if(null==na||-1===na)na=V,Ja=Ab;
Z({sortable:this,name:"end",toEl:ta,originalEvent:a});this.save()}this._nulling()},_nulling:function(){Oa("nulling",this);ua=L=ta=X=Ga=pa=eb=Za=xa=qa=yb=na=Ja=V=Ab=Ca=rb=wa=Lb=R.dragged=R.ghost=R.clone=R.active=null;Ib.forEach(function(a){a.checked=!0});Ib.length=Ba=Qb=0},handleEvent:function(a){switch(a.type){case "drop":case "dragend":this._onDrop(a);break;case "dragenter":case "dragover":L&&(this._onDragOver(a),a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault());
break;case "selectstart":a.preventDefault()}},toArray:function(){for(var a=[],d,e=this.el.children,f=0,k=e.length,h=this.options;f<k;f++)d=e[f],c(d,h.draggable,this.el,!1)&&a.push(d.getAttribute(h.dataIdAttr)||La(d));return a},sort:function(a,d){var e={},f=this.el;this.toArray().forEach(function(a,d){d=f.children[d];c(d,this.options.draggable,f,!1)&&(e[a]=d)},this);d&&this.captureAnimationState();a.forEach(function(a){e[a]&&(f.removeChild(e[a]),f.appendChild(e[a]))});d&&this.animateAll()},save:function(){var a=
this.options.store;a&&a.set&&a.set(this)},closest:function(a,d){return c(a,d||this.options.draggable,this.el,!1)},option:function(a,c){var d=this.options;if(void 0===c)return d[a];var e=qb.modifyOption(this,a,c);d[a]="undefined"!==typeof e?e:c;"group"===a&&Jb(d)},destroy:function(){Oa("destroy",this);var a=this.el;a[ra]=null;f(a,"mousedown",this._onTapStart);f(a,"touchstart",this._onTapStart);f(a,"pointerdown",this._onTapStart);this.nativeDraggable&&(f(a,"dragover",this),f(a,"dragenter",this));Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),
function(a){a.removeAttribute("draggable")});this._onDrop();this._disableDelayedDragEvents();Mb.splice(Mb.indexOf(this.el),1);this.el=a=null},_hideClone:function(){Za||(Oa("hideClone",this),R.eventCanceled||(u(pa,"display","none"),this.options.removeCloneOnHide&&pa.parentNode&&pa.parentNode.removeChild(pa),Za=!0))},_showClone:function(a){"clone"!==a.lastPutMode?this._hideClone():Za&&(Oa("showClone",this),R.eventCanceled||(L.parentNode!=ua||this.options.group.revertClone?Ga?ua.insertBefore(pa,Ga):
ua.appendChild(pa):ua.insertBefore(pa,L),this.options.group.revertClone&&this.animate(L,pa),u(pa,"display",""),Za=!1))}};Bb&&a(document,"touchmove",function(a){(R.active||Da)&&a.cancelable&&a.preventDefault()});R.utils={on:a,off:f,css:u,find:B,is:function(a,d){return!!c(a,d,a,!1)},extend:function(a,c){if(a&&c)for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);return a},throttle:N,closest:c,toggleClass:e,clone:P,index:D,nextTick:db,cancelNextTick:function(a){return clearTimeout(a)},detectDirection:gb,
getChild:H};R.get=function(a){return a[ra]};R.mount=function(){for(var a=arguments.length,c=Array(a),e=0;e<a;e++)c[e]=arguments[e];c[0].constructor===Array&&(c=c[0]);c.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(R.utils=d(d({},R.utils),a.utils));qb.mount(a)})};R.create=function(a,c){return new R(a,c)};R.version="1.15.0";var ka=[],Nb,hb,hc=!1,Eb,Fb,Zb,nb,tb=N(function(a,c,d,
e){if(c.scroll){var f=(a.touches?a.touches[0]:a).clientX,k=(a.touches?a.touches[0]:a).clientY,h=c.scrollSensitivity,l=c.scrollSpeed,n=G(),m=!1;if(hb!==d){hb=d;oa();Nb=c.scroll;var q=c.scrollFn;!0===Nb&&(Nb=E(d,!0))}d=0;var t=Nb;do{var p=t,A=x(p),z=A.top,B=A.bottom,v=A.left,C=A.right,I=A.width;A=A.height;var H=void 0,D=void 0,y=p.scrollWidth,K=p.scrollHeight;D=u(p);var F=p.scrollLeft,N=p.scrollTop;p===n?(H=I<y&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),D=A<K&&("auto"===
D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(H=I<y&&("auto"===D.overflowX||"scroll"===D.overflowX),D=A<K&&("auto"===D.overflowY||"scroll"===D.overflowY));v=H&&(Math.abs(C-f)<=h&&F+I<y)-(Math.abs(v-f)<=h&&!!F);z=D&&(Math.abs(B-k)<=h&&N+A<K)-(Math.abs(z-k)<=h&&!!N);if(!ka[d])for(B=0;B<=d;B++)ka[B]||(ka[B]={});if(ka[d].vx!=v||ka[d].vy!=z||ka[d].el!==p)if(ka[d].el=p,ka[d].vx=v,ka[d].vy=z,clearInterval(ka[d].pid),0!=v||0!=z)m=!0,ka[d].pid=setInterval(function(){e&&0===this.layer&&R.active._onTouchMove(Zb);
var c=ka[this.layer].vy?ka[this.layer].vy*l:0,d=ka[this.layer].vx?ka[this.layer].vx*l:0;"function"===typeof q&&"continue"!==q.call(R.dragged.parentNode[ra],d,c,a,Zb,ka[this.layer].el)||Y(ka[this.layer].el,d,c)}.bind({layer:d}),24);d++}while(c.bubbleScroll&&t!==n&&(t=E(t,!1)));hc=m}},30),Vb=function(a){var c=a.originalEvent,d=a.putSortable,e=a.dragEl,f=a.activeSortable,k=a.dispatchSortableEvent,h=a.hideGhostForTarget;a=a.unhideGhostForTarget;c&&(f=d||f,h(),c=c.changedTouches&&c.changedTouches.length?
c.changedTouches[0]:c,c=document.elementFromPoint(c.clientX,c.clientY),a(),f&&!f.el.contains(c)&&(k("spill"),this.onSpill({dragEl:e,putSortable:d})))};M.prototype={startIndex:null,dragStart:function(a){this.startIndex=a.oldDraggableIndex},onSpill:function(a){var c=a.dragEl;a=a.putSortable;this.sortable.captureAnimationState();a&&a.captureAnimationState();var d=H(this.sortable.el,this.startIndex,this.options);d?this.sortable.el.insertBefore(c,d):this.sortable.el.appendChild(c);this.sortable.animateAll();
a&&a.animateAll()},drop:Vb};n(M,{pluginName:"revertOnSpill"});Ra.prototype={onSpill:function(a){var c=a.dragEl;a=a.putSortable||this.sortable;a.captureAnimationState();c.parentNode&&c.parentNode.removeChild(c);a.animateAll()},drop:Vb};n(Ra,{pluginName:"removeOnSpill"});var Ea,T=[],Ua=[],Ob,Ma,ub=!1,Fa=!1,vb=!1,la,ib,Gb;R.mount(new function(){function c(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)"_"===a.charAt(0)&&"function"===
typeof this[a]&&(this[a]=this[a].bind(this))}c.prototype={dragStarted:function(c){c=c.originalEvent;this.sortable.nativeDraggable?a(document,"dragover",this._handleAutoScroll):this.options.supportPointer?a(document,"pointermove",this._handleFallbackAutoScroll):c.touches?a(document,"touchmove",this._handleFallbackAutoScroll):a(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){a=a.originalEvent;this.options.dragOverBubble||a.rootEl||this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?
f(document,"dragover",this._handleAutoScroll):(f(document,"pointermove",this._handleFallbackAutoScroll),f(document,"touchmove",this._handleFallbackAutoScroll),f(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(nb);oa();clearTimeout(mb);mb=void 0},nulling:function(){Zb=hb=Nb=hc=nb=Eb=Fb=null;ka.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,c){var d=this,e=(a.touches?a.touches[0]:a).clientX,f=(a.touches?a.touches[0]:a).clientY,
k=document.elementFromPoint(e,f);Zb=a;if(c||this.options.forceAutoScrollFallback||Kb||va||fa){tb(a,this.options,k,c);var h=E(k,!0);!hc||nb&&e===Eb&&f===Fb||(nb&&clearInterval(nb),nb=setInterval(function(){var k=E(document.elementFromPoint(e,f),!0);k!==h&&(h=k,oa());tb(a,d.options,k,c)},10),Eb=e,Fb=f)}else this.options.bubbleScroll&&E(k,!0)!==G()?tb(a,this.options,E(k,!1),!1):oa()}};return n(c,{pluginName:"scroll",initializeByDefault:!0})});R.mount(Ra,M);R.mount(new function(){function a(){this.defaults=
{swapClass:"sortable-swap-highlight"}}a.prototype={dragStart:function(a){Ea=a.dragEl},dragOverValid:function(a){var c=a.completed,d=a.target,f=a.onMove,k=a.changed,h=a.cancel;if(a.activeSortable.options.swap){var l=this.sortable.el;a=this.options;d&&d!==l&&(l=Ea,!1!==f(d)?(e(d,a.swapClass,!0),Ea=d):Ea=null,l&&l!==Ea&&e(l,a.swapClass,!1));k();c(!0);h()}},drop:function(a){var c=a.activeSortable,d=a.putSortable;a=a.dragEl;var f=d||this.sortable,k=this.options;Ea&&e(Ea,k.swapClass,!1);if(Ea&&(k.swap||
d&&d.options.swap)&&a!==Ea){f.captureAnimationState();f!==c&&c.captureAnimationState();d=Ea;k=a.parentNode;var h=d.parentNode;if(k&&h&&!k.isEqualNode(d)&&!h.isEqualNode(a)){var l=D(a);var n=D(d);k.isEqualNode(h)&&l<n&&n++;k.insertBefore(d,k.children[l]);h.insertBefore(a,h.children[n])}f.animateAll();f!==c&&c.animateAll()}},nulling:function(){Ea=null}};return n(a,{pluginName:"swap",eventProperties:function(){return{swapItem:Ea}}})});R.mount(new function(){function d(c){for(var d in this)"_"===d.charAt(0)&&
"function"===typeof this[d]&&(this[d]=this[d].bind(this));c.options.avoidImplicitDeselect||(c.options.supportPointer?a(document,"pointerup",this._deselectMultiDrag):(a(document,"mouseup",this._deselectMultiDrag),a(document,"touchend",this._deselectMultiDrag)));a(document,"keydown",this._checkKeyDown);a(document,"keyup",this._checkKeyUp);this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(a,d){var e="";T.length&&Ma===c?T.forEach(function(a,c){e+=
(c?", ":"")+a.textContent}):e=d.textContent;a.setData("Text",e)}}}d.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(a){la=a.dragEl},delayEnded:function(){this.isMultiDrag=~T.indexOf(la)},setupClone:function(a){var c=a.sortable;a=a.cancel;if(this.isMultiDrag){for(var d=0;d<T.length;d++)Ua.push(P(T[d])),Ua[d].sortableIndex=T[d].sortableIndex,Ua[d].draggable=!1,Ua[d].style["will-change"]="",e(Ua[d],this.options.selectedClass,!1),T[d]===la&&e(Ua[d],this.options.chosenClass,!1);
c._hideClone();a()}},clone:function(a){var c=a.sortable,d=a.rootEl,e=a.dispatchSortableEvent;a=a.cancel;this.isMultiDrag&&!this.options.removeCloneOnHide&&T.length&&Ma===c&&(Sa(!0,d),e("clone"),a())},showClone:function(a){var c=a.cloneNowShown,d=a.cancel;this.isMultiDrag&&(Sa(!1,a.rootEl),Ua.forEach(function(a){u(a,"display","")}),c(),Gb=!1,d())},hideClone:function(a){var c=this,d=a.cloneNowHidden;a=a.cancel;this.isMultiDrag&&(Ua.forEach(function(a){u(a,"display","none");c.options.removeCloneOnHide&&
a.parentNode&&a.parentNode.removeChild(a)}),d(),Gb=!0,a())},dragStartGlobal:function(a){!this.isMultiDrag&&Ma&&Ma.multiDrag._deselectMultiDrag();T.forEach(function(a){a.sortableIndex=D(a)});T=T.sort(function(a,c){return a.sortableIndex-c.sortableIndex});vb=!0},dragStarted:function(a){var c=this;a=a.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){T.forEach(function(a){a!==la&&u(a,"position","absolute")});var d=x(la,!1,!0,!0);T.forEach(function(a){a!==
la&&W(a,d)});ub=Fa=!0}a.animateAll(function(){ub=Fa=!1;c.options.animation&&T.forEach(function(a){ha(a)});c.options.sort&&jb()})}},dragOver:function(a){var c=a.target,d=a.completed;a=a.cancel;Fa&&~T.indexOf(c)&&(d(!1),a())},revert:function(a){var c=a.fromSortable,d=a.rootEl,e=a.sortable,f=a.dragRect;1<T.length&&(T.forEach(function(a){e.addAnimationState({target:a,rect:Fa?x(a):f});ha(a);a.fromRect=f;c.removeAnimationState(a)}),Fa=!1,Va(!this.options.removeCloneOnHide,d))},dragOverCompleted:function(a){var c=
a.sortable,d=a.isOwner,e=a.activeSortable,f=a.parentEl,k=a.putSortable,h=this.options;if(a.insertion){d&&e._hideClone();ub=!1;if(h.animation&&1<T.length&&(Fa||!d&&!e.options.sort&&!k)){var l=x(la,!1,!0,!0);T.forEach(function(a){a!==la&&(W(a,l),f.appendChild(a))});Fa=!0}d||(Fa||jb(),1<T.length?(a=Gb,e._showClone(c),e.options.animation&&!Gb&&a&&Ua.forEach(function(a){e.addAnimationState({target:a,rect:ib});a.fromRect=ib;a.thisAnimationDuration=null})):e._showClone(c))}},dragOverAnimationCapture:function(a){var c=
a.dragRect,d=a.isOwner;a=a.activeSortable;T.forEach(function(a){a.thisAnimationDuration=null});a.options.animation&&!d&&a.multiDrag.isMultiDrag&&(ib=n({},c),c=z(la,!0),ib.top-=c.f,ib.left-=c.e)},dragOverAnimationComplete:function(){Fa&&(Fa=!1,jb())},drop:function(a){var c=a.originalEvent,d=a.rootEl,f=a.parentEl,k=a.sortable,h=a.dispatchSortableEvent,l=a.oldIndex,n=(a=a.putSortable)||this.sortable;if(c){var m=this.options,u=f.children;if(!vb)if(m.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),
e(la,m.selectedClass,!~T.indexOf(la)),~T.indexOf(la))T.splice(T.indexOf(la),1),Ob=null,ba({sortable:k,rootEl:d,name:"deselect",targetEl:la,originalEvent:c});else{T.push(la);ba({sortable:k,rootEl:d,name:"select",targetEl:la,originalEvent:c});if(c.shiftKey&&Ob&&k.el.contains(Ob)){var q=D(Ob),t=D(la);if(~q&&~t&&q!==t){if(t>q){var p=q;q=t}else p=t,q+=1;for(;p<q;p++)~T.indexOf(u[p])||(e(u[p],m.selectedClass,!0),T.push(u[p]),ba({sortable:k,rootEl:d,name:"select",targetEl:u[p],originalEvent:c}))}}else Ob=
la;Ma=n}if(vb&&this.isMultiDrag){Fa=!1;if((f[ra].options.sort||f!==d)&&1<T.length){var A=x(la),z=D(la,":not(."+this.options.selectedClass+")");!ub&&m.animation&&(la.thisAnimationDuration=null);n.captureAnimationState();if(!ub&&(m.animation&&(la.fromRect=A,T.forEach(function(a){a.thisAnimationDuration=null;if(a!==la){var c=Fa?x(a):A;a.fromRect=c;n.addAnimationState({target:a,rect:c})}})),jb(),T.forEach(function(a){u[z]?f.insertBefore(a,u[z]):f.appendChild(a);z++}),l===D(la))){var B=!1;T.forEach(function(a){a.sortableIndex!==
D(a)&&(B=!0)});B&&h("update")}T.forEach(function(a){ha(a)});n.animateAll()}Ma=n}(d===f||a&&"clone"!==a.lastPutMode)&&Ua.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}},nullingGlobal:function(){this.isMultiDrag=vb=!1;Ua.length=0},destroyGlobal:function(){this._deselectMultiDrag();f(document,"pointerup",this._deselectMultiDrag);f(document,"mouseup",this._deselectMultiDrag);f(document,"touchend",this._deselectMultiDrag);f(document,"keydown",this._checkKeyDown);f(document,"keyup",this._checkKeyUp)},
_deselectMultiDrag:function(a){if(!("undefined"!==typeof vb&&vb||Ma!==this.sortable||a&&c(a.target,this.options.draggable,this.sortable.el,!1)||a&&0!==a.button))for(;T.length;){var d=T[0];e(d,this.options.selectedClass,!1);T.shift();ba({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:d,originalEvent:a})}},_checkKeyDown:function(a){a.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(a){a.key===this.options.multiDragKey&&(this.multiDragKeyDown=
!1)}};return n(d,{pluginName:"multiDrag",utils:{select:function(a){var c=a.parentNode[ra];c&&c.options.multiDrag&&!~T.indexOf(a)&&(Ma&&Ma!==c&&(Ma.multiDrag._deselectMultiDrag(),Ma=c),e(a,c.options.selectedClass,!0),T.push(a))},deselect:function(a){var c=a.parentNode[ra],d=T.indexOf(a);c&&c.options.multiDrag&&~d&&(e(a,c.options.selectedClass,!1),T.splice(d,1))}},eventProperties:function(){var a=this,c=[],d=[];T.forEach(function(e){c.push({multiDragElement:e,index:e.sortableIndex});var f=Fa&&e!==la?
-1:Fa?D(e,":not(."+a.options.selectedClass+")"):D(e);d.push({multiDragElement:e,index:f})});return{items:q(T),clones:[].concat(Ua),oldIndicies:c,newIndicies:d}},optionListeners:{multiDragKey:function(a){a=a.toLowerCase();"ctrl"===a?a="Control":1<a.length&&(a=a.charAt(0).toUpperCase()+a.substr(1));return a}}})});return R});
define("elements/questions/sequenceActivity/views/sequenceActivityView","module jquery underscore sortable elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a){h={optionsWrapperSelector:".SequenceActivityOptionsWrapper",optionSelector:".SequnceActivityOptionWrapper",selectBoxesSelector:".SequenceActivitySelectBox",optionHandleSelector:".SequenceActivityHandle",correctClass:"Correct",incorrectClass:"Incorrect",disabledClass:"Disabled",
enabledClass:"Enabled",solutionContainer:".SequenceActivitySolution",showSolutionButtonSelector:".ShowSolutionBtn",showSolutionButtonHiddenClass:"Closed",showSolutionButtonMsg:a.t("questions.general.showSolution")||"Show solution",showAnswerButtonMsg:a.t("questions.general.myAnswer")||"My answer",solutionCorrectMessage:a.t("questions.sequenceActivity.correctResponse")||"Correct response: "};m=p.extend({ui:{optionsWrapper:"#{optionsWrapperSelector}",options:"#{optionSelector}",selectBoxes:"#{selectBoxesSelector}",
handles:"#{optionHandleSelector}",solution:"#{solutionContainer}",showSolutionButton:"#{showSolutionButtonSelector}"},events:{"change @ui.selectBoxes":"optionClickHandler","click @ui.showSolutionButton":"toggleSolution"},modelBindings:{"change:answers":"updateAnswers","change:answerOrder":"randomizeAnswers"},render:function(){this.mode=null;this.generateOriginalIndexes();this.handleMode();this.randomizeAnswers();this.updateAnswers()},generateOriginalIndexes:function(){this.ui.options.each(function(a){d(this).data("original-index",
a)})},handleMode:function(){"Select Sequence Number"===this.model.get("webpresentationstyle")?(this.mode="select",this.ui.handles.hide(),this.ui.selectBoxes.show()):(this.mode="drag",this.ui.selectBoxes.hide(),this.ui.handles.show(),this.handleSortable())},handleSortable:function(){this.sortable&&this.sortable.destroy();this.sortable=n.create(this.ui.optionsWrapper[0],{animation:200,handle:"svg.SequenceActivityHandle",forceFallback:!1,ghostClass:"SequenceActivityDraggingGhost",chosenClass:"SequenceActivityDraggingChosen",
onEnd:this.dragEndHandler})},dragEndHandler:function(){var a=[];this.ui.options.each(function(){var f=d(this).data("original-index");var c=d(this).index();a[f]=c});"outside"===this.ui.optionsWrapper.css("list-style-position")?(this.ui.optionsWrapper.css("list-style-position","inside"),this.ui.optionsWrapper.css("list-style-position","outside")):(this.ui.optionsWrapper.css("list-style-position","outside"),this.ui.optionsWrapper.css("list-style-position","inside"));this.model.answerChanged(a)},updateAnswers:function(){this.renderAnswers(this.model.get("answers"))},
renderAnswers:function(a){a&&a.length||(a=this.model.get("answers"));"select"===this.mode?this.renderSelectBoxAnswers(a):this.renderDragAnswers(a)},renderSelectBoxAnswers:function(a){var f=this.config.selectBoxesSelector;this.ui.options.each(function(){var c=a[+d(this).data("original-index")];var e=d(this).find(f).find("option");!1===c||null==c?e.prop("selected",!1):e.filter('[value="'+(c+1)+'"]').prop("selected",!0)})},renderDragAnswers:function(a){this.sortAnswers(a)},randomizeAnswers:function(){this.sortAnswers(this.model.get("answerOrder"))},
sortAnswers:function(a){this.ui.options.detach();this.ui.options.sort(function(f,c){return a[+d(f).data("original-index")]-a[+d(c).data("original-index")]});this.ui.options.appendTo(this.ui.optionsWrapper)},optionClickHandler:function(a){var f=this,c=[];a.preventDefault();this.ui.options.each(function(){var a=d(this).data("original-index");var h=d(this).find(f.config.selectBoxesSelector).find("option:selected").val();h=k.normalizeType(h);c[a]=!1!==h?h-1:!1});this.model.answerChanged(c)},showResponseSpecificFeedback:function(a){var f=
this;a=a||this.model.get("answers");this.ui.options.each(function(){var c=d(this).data("original-index");a[c]===c?d(this).addClass(f.config.correctClass):d(this).addClass(f.config.incorrectClass)})},hideResponseSpecificFeedback:function(){this.ui.options.removeClass([this.config.correctClass,this.config.incorrectClass].join(" "))},enableQuestionComponents:function(){this.ui.options.removeClass(this.config.disabledClass).addClass(this.config.enabledClass);this.ui.selectBoxes.prop("disabled",!1);this.handleMode()},
disableQuestionComponents:function(){this.ui.options.removeClass(this.config.enabledClass).addClass(this.config.disabledClass);this.ui.selectBoxes.prop("disabled",!0);this.sortable&&this.sortable.option("disabled",!0)},showSolutionButton:function(){this.showSolutionButtonState="correct";this.ui.showSolutionButton.removeClass(this.config.showSolutionButtonHiddenClass)},hideSolutionButton:function(){this.ui.showSolutionButton.addClass(this.config.showSolutionButtonHiddenClass)},toggleSolution:function(){this.enabled||
("correct"===this.showSolutionButtonState?(this.ui.showSolutionButton.text(this.config.showAnswerButtonMsg),this.ui.showSolutionButton.attr("title",this.config.showAnswerButtonMsg),this.renderAnswers(this.model.get("correctAnswers")),this.showSolutionButtonState="user",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback(this.model.get("correctAnswers")))):(this.ui.showSolutionButton.text(this.config.showSolutionButtonMsg),this.ui.showSolutionButton.attr("title",
this.config.showSolutionButtonMsg),this.renderAnswers(this.model.get("answers")),this.showSolutionButtonState="correct",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback())))},turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);this.renderAnswers(this.model.get("correctAnswers"));this.hideResponseSpecificFeedback();this.showResponseSpecificFeedback(this.model.get("correctAnswers"))},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);
this.model.resetAnswers();this.renderAnswers(this.model.get("answers"))},destructor:function(){this.sortable&&this.sortable.destroy();this.constructor.__super__.destructor.call(this)}},{displayName:"sequenceActivityView",config:k.extend(h,t.configure(m.id))});q.trigger("sequenceActivityView.loaded",!0,m);return m});
define("elements/questions/sequenceActivity/sequenceActivity","module app/utilities/XyTools app/events app/configuration lang/lang elements/questions/question/question elements/questions/sequenceActivity/model/sequenceActivityModel elements/questions/sequenceActivity/views/sequenceActivityView".split(" "),function(m,d,h,n,p,q,t,k){p={name:"sequenceActivity",displayName:p.t("questions.sequenceActivity.displayName")||"Sequence Activity",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,
View:k,Model:t};m=q.extend({parseUserAnswer:function(a){return a.split(",").map(d.normalizeType)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:d.extend(p,n.configure(m.id))});h.trigger("sequenceActivity.loaded",!0,m);return m});
define("elements/questions/essayActivity/model/essayActivityModel","module elements/questions/question/model app/events underscore app/utilities/XyTools app/configuration".split(" "),function(m,d,h,n,p,q){m=d.extend({extraProperties:"allow",props:{responselines:"number",solution:"object"},changeAnswer:function(d){d?this.set("answers",[d]):this.set("answers",[])},isCorrect:function(){return!!this.get("answers").length},hasAnswers:function(){return!!this.get("answers").length}},{displayName:"essayActivityModel",
config:p.extend({},q.configure(m.id))});h.trigger("essayActivityModel.loaded",!0,m);return m});
define("app/utilities/cutCopyPaste",["jquery","app/events"],function(m,d){d.trigger("CutCopyPaste.loaded",!0,this);return function(h){this.replaceString=void 0;this.cutButton=h.cutButton;this.copyButton=h.copyButton;this.pasteButton=h.pasteButton;this.input=h.input;this.context=h.context;this.init=function(){var h=this;d.trigger("cutCopyPaste.init:before",this);this._preparePageForCCP();this.cutButton.click(function(){h.cutSelection()});this.copyButton.click(function(){h.copySelection()});this.pasteButton.click(function(){h.pasteSelection()});
d.trigger("cutCopyPaste.init:after",this)};this._preparePageForCCP=function(){d.trigger("cutCopyPaste._preparePageForCCP:before",this);this.input.on("contextmenu",function(d){d.preventDefault();return!1}).on("click",function(d){if(3===d.which)return d.preventDefault(),!1}).on("keydown",function(d){var h=[67,86,88,99,118,120];if(d.ctrlKey&&-1<h.indexOf(d.keyCode))return d.preventDefault(),!1}).on("paste",function(d){d.preventDefault();return!1});this.context.on("keypress",function(d){var h=d.which,
n=d.ctrlKey;if(2===h||n&&118===h)return d.preventDefault(),!1}).on("click",function(d){if(3===d.which)return d.preventDefault(),!1}).on("contextmenu",function(d){d.preventDefault();return!1}).on("cut",function(d){d.preventDefault();return!1}).on("paste contextmenu",function(d){d.preventDefault();return!1}).on("paste",function(d){d.preventDefault();return!1});d.trigger("cutCopyPaste._preparePageForCCP:after",this)};this.cutSelection=function(h){var n=this.input[0];d.trigger("cutCopyPaste.cutSelection:before",
this);if(n.setSelectionRange){h=n.selectionStart;var q=n.selectionEnd;this.replaceString=n.value.substring(h,q);n.value=n.value.substring(0,h)+n.value.substring(q);h!=q?this.setSelectionRange(n,h,h):(this.setCaretToPos(n,h),this.replaceString="")}else if(document.selection&&(q=document.selection.createRange(),h=this.getCaretPosition(n),q.parentElement()==n)){this.replaceString=q.text;var t=""==q.text;q.text="";t?this.setCaretToPos(n,h):q.select()}m(n).trigger("change");d.trigger("cutCopyPaste.cutSelection:after",
this)};this.copySelection=function(h){h=this.input[0];d.trigger("cutCopyPaste.copySelection:before",this);if(h.setSelectionRange){var m=h.selectionStart;var n=h.selectionEnd;this.replaceString=h.value.substring(m,n);this.setSelectionRange(h,m,n)}else document.selection&&(n=document.selection.createRange(),this.replaceString=n.text,""!=n.text?(m=n.duplicate(),m.moveToElementText(h),m.setEndPoint("EndToEnd",n),m=m.text.length-n.text.length,n=m+n.text.length):m=n=this.getCaretPosition(h),this.setSelectionRange(h,
m,n));d.trigger("cutCopyPaste.copySelection:after",this)};this.pasteSelection=function(h){h=this.input[0];d.trigger("cutCopyPaste.pasteSelection:before",this);if(null==this.replaceString||""==this.replaceString)h.focus();else{if(h.setSelectionRange){var n=h.selectionStart;var q=h.selectionEnd;h.value=h.value.substring(0,n)+this.replaceString+h.value.substring(q);n!=q&&this.setSelectionRange(h,n,n+this.replaceString.length);this.setCaretToPos(h,n+this.replaceString.length)}else document.selection&&
(q=document.selection.createRange(),""!=q.text?(n=q.duplicate(),n.moveToElementText(h),n.setEndPoint("EndToEnd",q),n=n.text.length-q.text.length,q=n+q.text.length):n=q=this.getCaretPosition(h),h.value=h.value.substring(0,n)+this.replaceString+h.value.substring(q),this.setCaretToPos(h,n+this.replaceString.length));m(h).trigger("change");d.trigger("cutCopyPaste.pasteSelection:after",this)}};this.setSelectionRange=function(h,m,q){d.trigger("cutCopyPaste.setSelectionRange:before",this);h.setSelectionRange?
(h.focus(),h.setSelectionRange(m,q)):h.createTextRange&&(h=h.createTextRange(),h.collapse(!0),h.moveEnd("character",q),h.moveStart("character",m),h.select());d.trigger("cutCopyPaste.setSelectionRange:after",this)};this.getCaretPosition=function(h){var m=0;d.trigger("cutCopyPaste.getCaretPosition:before",this);if(document.selection){h.focus();var n=document.selection.createRange();var t=n.duplicate();t.moveToElementText(h);for(m=-1;t.inRange(n);)t.moveStart("character"),m++}else if(h.selectionStart||
"0"==h.selectionStart)m=h.selectionStart;return m};this.setCaretToPos=function(h,m){d.trigger("cutCopyPaste.setCaretToPos:before",this);h.setSelectionRange?this.setSelectionRange(h,m,m):document.selection&&h.createTextRange&&(h=h.createTextRange(),h.collapse(!0),h.moveEnd("character",m),h.moveStart("character",m),h.select());d.trigger("cutCopyPaste.setCaretToPos:after",this)};this.init()}});
define("elements/questions/essayActivity/views/essayActivityView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools app/utilities/cutCopyPaste".split(" "),function(m,d,h,n,p,q,t,k){m=n.extend({ui:{textarea:"#{textareaSelector}",context:"#{contextSelector}",cut:"#{cutButtonSelector}",copy:"#{copyButtonSelector}",paste:"#{pasteButtonSelector}"},events:{"change @ui.textarea":"changeAnswer"},render:function(){this.CCP=new k({cutButton:this.ui.cut,
copyButton:this.ui.copy,pasteButton:this.ui.paste,input:this.ui.textarea,context:this.ui.context});this.renderAnswer()},renderAnswer:function(a){a=a||this.model.get("answers");this.ui.textarea.val(a[0])},changeAnswer:function(){this.model.changeAnswer(this.ui.textarea.val())},disableQuestionComponents:function(){this.enabled=!1;this.ui.textarea.attr("disabled","");this.ui.cut.attr("disabled","").addClass("Disabled");this.ui.copy.attr("disabled","").addClass("Disabled");this.ui.paste.attr("disabled",
"").addClass("Disabled")},enableQuestionComponents:function(){this.enabled=!1;this.ui.textarea.removeAttr("disabled");this.ui.cut.removeAttr("disabled").removeClass("Disabled");this.ui.copy.removeAttr("disabled").removeClass("Disabled");this.ui.paste.removeAttr("disabled").removeClass("Disabled")}},{displayName:"essayActivityView",config:t.extend({textareaSelector:".EssayTextarea",contextSelector:".Topic",cutButtonSelector:".QuestionCut",copyButtonSelector:".QuestionCopy",pasteButtonSelector:".QuestionPaste"},
q.configure(m.id))});p.trigger("essayActivityView.loaded",!0,m);return m});
define("elements/questions/essayActivity/essayActivity","module elements/questions/question/question elements/questions/essayActivity/model/essayActivityModel elements/questions/essayActivity/views/essayActivityView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(m,d,h,n,p,q,t,k){h={name:"essayActivity",displayName:k.t("questions.essayActivity.displayName")||"Essay",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:n,Model:h};
m=d.extend({},{config:p.extend(h,t.configure(m.id))});q.trigger("essayActivity.loaded",!0,m);return m});
define("elements/questions/questions","module app/events app/configuration app/utilities/XyTools elements/questions/question/behavior elements/questions/multipleChoice/multipleChoice elements/questions/selectHotText/selectHotText elements/questions/imageMapAssessment/imageMapAssessment elements/questions/matrix/matrix elements/questions/dragDrop/dragDrop elements/questions/matchingActivity/matchingActivity elements/questions/fillInBlank/fillInBlank elements/questions/binDrop/binDrop elements/questions/sequenceActivity/sequenceActivity elements/questions/essayActivity/essayActivity".split(" "),function(m,
d,h,n,p,q,t,k,a,f,l,c,e,u,z){var B=new function(){this.config={questions:{multiplechoice:q,sequenceactivity:u,essayactivity:z,selecthottext:t,fillinblank:c,imagemapassessment:k,dragdrop:f,matchingactivity:l,matrix:a,bindrop:e}};this.init=function(){n.logGroup("Questions");d.trigger("questions.init:before",this);this.config=n.extend(this.config,h.configure(m.id));d.trigger("questions.init:after",this);n.logGroupEnd()};this.initializeQuestions=function(a){d.trigger("questions.initializeQuestions:before",
a,this);Array.isArray(a)||(a=[a]);var c=a.map(function(a,c){var d=a.data;a=a.behavior;a=new p(a);d=n.normalizeTypes(d);d.behavior=a.getQuestionBehavior();if(this.config.questions[d.type.toLowerCase()])return new (this.config.questions[d.type.toLowerCase()])(d["xy:guid"],d,c)},this);d.trigger("questions.initializeQuestions:after",a,this);return c};this.renderQuestions=function(a,c){d.trigger("questions.renderQuestions:before",c,a,this);a.forEach(function(a){a.isInScope(c)?a.render():n.warn("questionLoader: Question isn't in given scope",
a,c)});d.trigger("questions.renderQuestions:after",c,a,this)};this.saveQuestions=function(a){a.forEach(function(a){a.saveData()})};this.submitQuestions=function(a){a.forEach(function(a){a.submit()})};this.hasIncompleteQuestions=function(a){return!a.every(function(a){return a.isCompleted()})};this.hasRequiredIncompleteQuestions=function(a){return!a.every(function(a){return a.isCompleted()||!a.isRequired()})};this.destroyQuestions=function(a){a.forEach(function(a){a.destructor()})}};d.trigger("questions.loaded",
!0,B);return B});
define("app/questionApi","module questionData elements/questions/questions app/submitAll app/courseApi app/events app/configuration app/utilities/XyTools notification lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a,f){var l=new function(){var c="";var e=[];var l={};this.config={incompleteQuestionNavigation:{next:!0,previous:!0},showIncompleteGatePrompt:!0,showIncompleteConfirmation:!0,incompleteNavigationControlsEnabled:{next:!0,previous:!0},generalSkipPromptText:f.t("questions.general.skip.confirmationMessage")||"You have not answered all of the questions on the page.",
generalGatePromptText:f.t("questions.general.gate")||"Please answer all questions on the page before attempting navigation.",generalSkipConfirmButtonText:f.t("questions.general.skip.confirm")||" Continue Navigation",generalSkipRejectButtonText:f.t("questions.general.skip.reject")||"Return to Page"};this.init=function(){k.logGroup("QuestionAPI");q.trigger("questionApi.init:before",this);this.config=k.extend(this.config,t.configure(m.id));q.on("player.data:load",this.initializePageQuestions.bind(this));
q.on("content.loaded",this.renderPageQuestions.bind(this));q.on("navigation:before",this.submitQuestions.bind(this));q.on("submitAll.submit:before",this.submitQuestions.bind(this));q.on("player.data:save",this.saveQuestionData.bind(this));q.on("content.unload:before",this.destroyPageQuestions.bind(this));q.on("navigation.enabled:check",this.checkPageQuestionsCompleted.bind(this));q.on("questionModel.submit:after",this.checkAllQuestionsAnswered.bind(this));q.trigger("questionApi.init:after",this);
k.logGroupEnd()};this.getFileGuid=function(a){var c=p.getPrecedingLinkedPagesCount(a);a=a.replace(".html","");/lcmsXmlGuid\/.*\//.test(a)&&(a=a.match("lcmsXmlGuid/(.*)/")[1]);/\//.test(a)&&(a=a.match("[^/]*$")[0]);0<c&&(a+="_"+c);return a};this.initializePageQuestions=function(a){q.trigger("questionApi.intializePageQuestions:before",f);c=this.getFileGuid(a);var f=d.files[c].questions;f.length&&(f=this.getPageQuestionsData(f),h.initializeQuestions(f).forEach(function(a){this.addQuestion(a)},this),
q.trigger("questionApi.intializePageQuestions:after",e))};this.getPageQuestionsData=function(a){var c=this;return a.map(function(a){var e=k.copy(d.questions[a.question]);a=k.copy(d.behaviors[a.behavior]);a=c.getInheritedBehavior(a);e.isSubmitAll=n.isSubmitAll();e.isSubmitAllSaved=n.isStatusSaved();e.isAssessment=n.isAssessment();return{data:e,behavior:a}})};this.getInheritedBehavior=function(a){for(var c=a;c=d.behaviors[c.parent];)c=this._removeEmptyProperties(c),a=k.extend(c,a);return a};this._removeEmptyProperties=
function(a){for(var c in a)""===a[c]&&delete a[c];return a};this.renderPageQuestions=function(a){h.renderQuestions(e,a);this.registerAsRequired()};this.registerAsRequired=function(){e.length&&(this.config.incompleteNavigationControlsEnabled.next&&this.config.incompleteNavigationControlsEnabled.previous||n.isSubmitAll()||this.hasIncompleteQuestions()&&q.trigger("questionApi.hasRequiredQuestions",this))};this.submitQuestions=function(){n.isSubmitAll()&&!n.isStatusSaved()&&h.submitQuestions(e)};this.destroyPageQuestions=
function(){q.trigger("questionApi.destroyPageQuestions:before",this);h.destroyQuestions(e);e=[];l={};q.trigger("questionApi.destroyPageQuestions:after",this)};this.saveQuestionData=function(){h.saveQuestions(e)};this.getFileGuids=function(){return Object.keys(d.files)};this.getPageData=function(a){return a?d.files[a]:d.files};this.getCurrentPageData=function(){return d.files[c]};this.getCurrentPageQuestions=function(){return e};this.getQuestionData=function(a){return d.questions[a]};this.getBehaviorData=
function(a){return a?d.behaviors[a]:d.behaviors};this.addQuestion=function(a){q.trigger("questionApi.addQuestion:before",a,this);if(!a.model||!a.model.attributes||!a.model.attributes["xy:guid"])return!1;var c=e.push(a)-1;l[a.model.attributes["xy:guid"]]=l[a.model.attributes["xy:guid"]]||{};l[a.model.attributes["xy:guid"]][a.model.attributes.behavior["xy:guid"]]=c;q.trigger("questionApi.addQuestion:after",a,this);return c};this.getQuestion=function(a,c){return e[l[a][c]]};this.getQuestionData=function(a){return d.questions[a]};
this.getTimeLimit=function(a){var c=null;a?this.getPageData(a):a=(a=this.getCurrentPageData().assessmentroot)?a.guid:"";""!==a&&(a=this.getPageData(a))&&a.enhancedscorecards&&0<a.enhancedscorecards.length&&(c=this.getBehaviorData(a.enhancedscorecards[0].behavior));return c?c.assessmenttimelimit:0};this.checkPageQuestionsCompleted=function(c,d,e){var f=c[0];n.isSubmitAll()||n.hasContextAwareness()&&n.isLeavingAssessment(c[0],c[1])?d():(f+="",(c=this.hasRequiredIncompleteQuestions())||d(),this.config.incompleteQuestionNavigation[f]?
c&&(this.config.showIncompleteConfirmation?a.confirm(this.config.generalSkipPromptText,d,e,{buttonOkTitle:this.config.generalSkipConfirmButtonText,buttonCancelTitle:this.config.generalSkipRejectButtonText}):d()):c&&(this.config.showIncompleteGatePrompt&&a.notify(this.config.generalGatePromptText),e()))};this.getCurrentGuid=function(){return c};this.hasIncompleteQuestions=function(){return e.length?h.hasIncompleteQuestions(e):!1};this.hasRequiredIncompleteQuestions=function(){return e.length?h.hasRequiredIncompleteQuestions(e):
!1};this.checkAllQuestionsAnswered=function(){this.hasIncompleteQuestions()||q.trigger("questionApi.allQuestionsAnswered",this)};this.getButtonsState=function(){return{origin:"QuestionApi",next:{visible:!0,enabled:!this.hasRequiredIncompleteQuestions()||this.config.incompleteNavigationControlsEnabled.next},previous:{visible:!0,enabled:!this.hasRequiredIncompleteQuestions()||this.config.incompleteNavigationControlsEnabled.previous}}};this.submitAll=function(){}};q.trigger("questionApi.loaded",!0,l);
return l});
define("elements/questions/scoreCard/model/scoreCardModel",["backbone","app/courseApi","app/navigation","app/questionApi","app/events"],function(m,d,h,n,p){m=m.Model.extend({initialize:function(h){this.set({behavior:h,isRoot:d.getRoot("id")===d.getParentActivity("id"),data:d.processScorecard(!0)})},retake:function(){h.requestRetake()},getQuestionName:function(d,h){d=n.getPageData(d);try{var k=d.questions[h].question;var a=n.getQuestionData(k);return a.name}catch(f){return!1}}});p.trigger("scoreCardModel.loaded",!0,
m);return m});
define("elements/questions/scoreCard/views/scoreCardView","module backbone lang/lang popup app/configuration app/player/communication app/utilities/XyTools app/events app/questionApi notification".split(" "),function(m,d,h,n,p,q,t,k,a,f){d=d.View.extend({config:{sectionTitleSelector:".SectionTitle",sectionScoreSelector:".SectionScore",sectionWeightSelector:".SectionWeight",feedbackSelector:".Feedback",retakeSelector:".Retake",attemptsSelector:".Attempts",subSectionInfoContainer:".SubSectionInfoContainer",subSectionTitleSelector:".SubSectionTitle",
subSectionScoreSelector:".SubSectionScore",subSectionWeightSelector:".SubSectionWeight",captionSelector:".Caption",valueSelector:".Value",questionListContainerSelector:".QuestionsListContainer",questionListSelector:".QuestionsList",questionSelector:".Question",questionBlockSelector:".QuestionBlock",questionResultSelector:".Result",questionTitleSelector:".Title",retakeAllCaption:h.t("sections.scoreCard.retake")||"Retake",courseTitleCaption:h.t("sections.scoreCard.courseTitle")||"Course Title",sectionTitleCaption:h.t("sections.scoreCard.sectionTitle")||
"Section Title",passingScoreCaption:h.t("sections.scoreCard.passingScore")||"Passing Score",passingScoreUnit:"%",currentScoreCaption:h.t("sections.scoreCard.currentScore")||"Current Score",currentScoreUnit:"%",sectionWeightCaption:h.t("sections.scoreCard.sectionWeight")||"Section Weight",singleAttemptRemaining:"{0} "+(h.t("sections.scoreCard.singleAttemptRemaining")||"attempt remaining"),multipleAttemptsRemaining:"{0} "+(h.t("sections.scoreCard.multipleAttemptsRemaining")||"attempts remaining"),resultNotAvailable:h.t("sections.scoreCard.resultNotAvailable")||
"N/A",retakeConfirmation:h.t("sections.scoreCard.retakeConfirmation")||"Are you sure you want to retake this assessment?",questionCorrectClass:"Correct",questionIncorrectClass:"Incorrect",questionReviewClass:"Review",coverClass:"NotSupported",reviewPopupTitle:h.t("sections.scoreCard.reviewPopupTitle")||"Questions Review",reviewPopupWidth:"500px",reviewPopupHeight:"500px",reviewPopupMaxHeight:"90%",reviewPopupMaxWidth:"90%",reviewPopupMinWidth:"50%",reviewPopupMinHeight:"50%"},initialize:function(){this.config=
t.extend(this.config,p.configure(m.id));this.data=this.model.get("data");this.behavior=this.model.get("behavior")},render:function(){var a=this.$el.parent();k.trigger("scoreCard.render:before",this);null==this.data?(this.$el.empty(),this.$el.append('<div class="'+this.config.coverClass+'"><span>'+(h.t("sections.scoreCard.notSupported")||"Scorecard is not supported in current mode.")+"</span></div>")):(this.$el.detach(),this.$question=this.$(this.config.questionSelector).detach(),this.$questions=this.$(this.config.questionListSelector).detach(),
this.$subSectionInfo=this.$(this.config.subSectionInfoContainer).detach(),this.$questionsContainer=this.$(this.config.questionListContainerSelector).detach(),this.renderTitle().renderScore().renderWeight().renderFeedback().handleRetake().renderQuestions(),this.$el.append(this.$questionsContainer).appendTo(a),k.trigger("scoreCard.render:after",this))},renderTitle:function(){var a=this.$(this.config.sectionTitleSelector),c=this.model.get("isRoot")?this.config.courseTitleCaption:this.config.sectionTitleCaption,
d=this.data.title.replace(/([ ]{2,})/g,'<span class="PreserveWhitespace">$1</span>').replace(/[\n\r]+/g,"<br/>");a.find(this.config.captionSelector).text(c).end().find(this.config.valueSelector).text(d);return this},renderScore:function(){var a=this.$(this.config.sectionScoreSelector),c=this.config.currentScoreCaption+' <span class="ScoreCardDivide">/</span> '+this.config.passingScoreCaption,d=this.data.score+this.config.currentScoreUnit+' <span class="ScoreCardDivide">/</span> '+this.data.passingScore+
this.config.passingScoreUnit;a.find(this.config.captionSelector).html(c).end().find(this.config.valueSelector).html(d);return this},renderWeight:function(){var a=this.$(this.config.sectionWeightSelector),c=this.config.sectionWeightCaption,d=this.data.weight;a.find(this.config.captionSelector).text(c).end().find(this.config.valueSelector).text(d+"%");return this},renderFeedback:function(){var a=this.$(this.config.feedbackSelector),c=this.data.score,d=this.behavior.scorerange,f=d.length,k;for(k=0;k<
f;k+=1)if(c>=(+d[k].min||0)&&c<=(+d[k].max||100)){a.text(d[k].message);break}return this},handleRetake:function(){var a=this,c=this.$(this.config.retakeSelector),d=this.$(this.config.attemptsSelector),f=this.behavior.retrylimit,k=this.data.attempts,h=this.data.score;if(""===f||0>f)f=Infinity;1<this.data.containers.length&&c.children("span").html(this.config.retakeAllCaption);f=+f+1-k;100>h&&0<f?(h=1===f?t.parseTemplate(this.config.singleAttemptRemaining,f):t.parseTemplate(this.config.multipleAttemptsRemaining,
f),Infinity===f&&(h=""),d.text(h),c.on("click",function(){a.retake()})):c.hide();return this},retake:function(){f.confirm(this.config.retakeConfirmation,this.model.retake)},renderQuestions:function(){/^true$/i.test(this.behavior.showquestionlist)&&(1<this.data.containers.length?this.data.containers.forEach(function(a){this.processSubSection(a)},this):(this.processQuestions(this.data.containers[0]||this.data),this.data.containers[0]&&0<this.data.containers[0].containers.length&&this.data.containers[0].containers.forEach(function(a){this.processSubSection(a)},
this)));return this},processSubSection:function(a){var c=this.$subSectionInfo.clone();this.containerHasQuestions(a)&&(this.renderSubTitle(a,c).renderSubScore(a,c).renderSubWeight(a,c),this.$questionsContainer.append(c),this.processQuestions(a),1<a.containers.length?a.containers.forEach(function(a){this.processSubSection(a)},this):1===a.containers.length&&(this.processQuestions(a.containers[0]),a.containers[0].containers.forEach(function(a){this.processSubSection(a)},this)))},renderSubTitle:function(a,
c){var d=c.find(this.config.subSectionTitleSelector),f=this.config.sectionTitleCaption;a=a.title;d.find(this.config.captionSelector).text(f).end().find(this.config.valueSelector).text(a);c.append(d);return this},renderSubScore:function(a,c){var d=c.find(this.config.subSectionScoreSelector),f=this.config.currentScoreCaption+' <span class="ScoreCardDivide">/</span> '+this.config.passingScoreCaption;a=a.score+' <span class="ScoreCardDivide">/</span> '+a.passingScore;d.find(this.config.captionSelector).html(f).end().find(this.config.valueSelector).html(a);
c.append(d);return this},renderSubWeight:function(a,c){var d=c.find(this.config.subSectionWeightSelector),f=this.config.sectionWeightCaption;a=a.weight;d.find(this.config.captionSelector).text(f).end().find(this.config.valueSelector).text(a+"%");c.append(d);return this},processQuestions:function(a){var c=this.$questions.clone(),d=this.$question.clone();a.pages.forEach(function(a){a.questions.forEach(function(e,f){c.append(this.processQuestion(d.clone(),e,a,f))},this)},this);this.$questionsContainer.append(c)},
reviewOpenedState:null,processQuestion:function(a,c,d,f){var e=this,k=a.find(this.config.questionResultSelector),h=a.find(this.config.questionTitleSelector);f=this.model.getQuestionName(d.guid,f)||d.title||"&nbsp;";if(c.result){var l=/^correct$/i.test(c.result)?this.config.questionCorrectClass:this.config.questionIncorrectClass;k.addClass(l);a.addClass(l)}else k.text("N/A");h.text(f);if(/^true$/i.test(this.behavior.reviewquestions)&&c.result)h.addClass(this.config.questionReviewClass).on("click",
function(){e.reviewOpenedState!==d.link&&e.reviewQuestion(d.link,c.guid)});return a},reviewQuestion:function(d,c){var e=this,f;this.popup&&this.popup instanceof n&&(this.popup.destroy(),this.reviewOpenedState=this.popup=null);this.popup=new n({title:this.config.reviewPopupTitle,contentUrl:d,width:this.config.reviewPopupWidth,height:this.config.reviewPopupHeight,maxHeight:this.config.reviewPopupMaxHeight,maxWidth:this.config.reviewPopupMaxWidth,minWidth:this.config.reviewPopupMinWidth,minHeight:this.config.reviewPopupMinHeight,
modal:!0,open:function(){var c=function(a){a.set("enabled",!1);a.set("remainingAttempts",0);k.off("questionModel.initialize:after",c)},h=function(a){a.closeSupplements();k.off("questionView.updateQuestionState:after",h)};k.on("questionModel.initialize:after",c);k.on("questionView.updateQuestionState:after",h);f=a.getCurrentGuid();q.loadPageData(d);e.reviewOpenedState=d;e.popup.content.html('<div class="Spinner"></div>')},close:function(){a.destroyPageQuestions();a.initializePageQuestions(f);f=null;
e.reviewOpenedState=null;e.popup.content.find(".mediaObject_player").add(".mejs-shim").add($("iframe",document).contents().find(".mediaObject_player").add(".mejs-shim")).remove();e.popup.content.empty()},ajaxComplete:function(){k.trigger("content.loaded",!1,e.popup.content);var a=e.popup.content.find("#guid_"+c).siblings().remove().end().closest(".QuestionBlock").detach();0===a.length&&(a=e.popup.content.find("#guid_"+c).detach());a.find(".QuestionSubmitWrapper").remove();e.popup.content.empty().append(a);
window.setTimeout(function(){$(window).trigger("resize")},500)}});this.popup.open()},containerHasQuestions:function(a){var c=!1;return(c=a.pages.some(function(a){return!!a.questions.length}))?c:a.containers.length?a.containers.some(function(a){return this.containerHasQuestions(a)},this):c}});k.trigger("scoreCardView.loaded",!0,d);return d});
define("elements/questions/scoreCard/scoreCard","module jquery elements/element/element questionData app/courseApi app/questionApi elements/questions/scoreCard/model/scoreCardModel elements/questions/scoreCard/views/scoreCardView app/utilities/XyTools app/configuration app/events".split(" "),function(m,d,h,n,p,q,t,k,a,f,l){m=h.extend({initialize:function(c){this.constructor.__super__.initialize.call(this,c);c=a.extend(this.config.defaultEnhancedScorecard,this.getEnhancedScoreCard());this.model=new t(c);
this.view=new k({el:this.$el,model:this.model})},render:function(){this.view.render()},getEnhancedScoreCard:function(){var a=n.files[p.getCurrentActivity("guid")].enhancedscorecards;a=0<a.length?a[0].behavior:null;if(!a)return{};a&&a.enhancedscorecards&&0<a.enhancedscorecards.length&&(a=a.enhancedscorecards[0].behavior);return(a=q.getBehaviorData(a))&&a.enhancedscorecard?this.normalizeBehavior(a.enhancedscorecard):{}},normalizeBehavior:function(a){if("object"===typeof a){for(var c in a)""===a[c]&&
delete a[c];return a}},remove:function(){this.model&&(this.model.destroy(),this.model=null);this.view&&(this.view.remove(),this.view=null);this.constructor.__super__.remove.call(this)}},{displayName:"scoreCard",config:a.extend({selector:".ScoreCard",defaultEnhancedScorecard:{bookmark:"resume",retrylimit:"",reviewquestions:"true",showquestionlist:"true",maskquestionstatus:"false",scorerange:[]}},f.configure(m.id))});l.trigger("scoreCard.loaded",!0,m);return m});
define("elements/categories/categories","module jquery elements/element/element app/utilities/XyTools app/configuration lang/lang app/events".split(" "),function(m,d,h,n,p,q,t){q={selector:".CategoriesContainer",categorySelector:".CategoryItem",panelWrapperSelector:".CategoriesContentContainer",panelSelector:".Panel",categoryContentSelector:".CategoryContent",categoryContentTitleClass:"CategoryContentTitle",activePanelClass:"Active",activeCategoryClass:"Active",activeCategoryContentClass:"Active",
hiddenLoadingClass:"HiddenLoading",hiddenClass:"Hidden",startOpen:!0,completedClass:"Completed",markCompletedCategories:!0,persistCompletion:!0,mustBeCompletedMessage:q.t("elements.categories.mustBeCompletedMessage")||"Please view all categories before proceeding."};m=h.extend({ui:{categories:"#{categorySelector}",panels:"#{panelSelector}",categoryContent:"#{categoryContentSelector}",panelWrapper:"#{panelWrapperSelector}"},events:{"click @ui.categories":"handleCategory","click @ui.categoryContent":"rollAccordion"},
render:function(){this.mustBeCompleted=/^true$/i.test(this.$el.attr("data-must-be-completed"));this.handleCompletion();this.ui.panelWrapper.removeClass(this.config.hiddenLoadingClass);this.changePanel(0)},handleCategory:function(d){d=this.ui.categories.index(d.currentTarget);this.changePanel(d)},changePanel:function(d){var a=this.ui.categories.eq(d),f=this.ui.panels.eq(d);this.ui.categories.removeClass(this.config.activeCategoryClass);a.addClass(this.config.activeCategoryClass);this.ui.panels.removeClass(this.config.activePanelClass);
f.addClass(this.config.activePanelClass);this.config.startOpen&&f.find(this.config.categoryContentSelector).eq(0).addClass(this.config.activeCategoryClass);this.setCompleted(d);this.markCompleted()},rollAccordion:function(k){d(k.target).hasClass(this.config.categoryContentTitleClass)&&d(k.currentTarget).toggleClass(this.config.activeCategoryContentClass)},markCompleted:function(){this.config.markCompletedCategories&&this.completed.forEach(function(d){this.ui.categories.eq(d).addClass(this.config.completedClass)},
this)},checkCompletion:function(){if(this.ui.panels.length!==this.completed.length)return!1;this.unregisterAsRequired();n.log(this.id+" completed");return!0}},{displayName:"categories",config:n.extend(q,p.configure(m.id))});t.trigger("categories.loaded",!0,m);return m});
define("elements/slideshow/slideshow","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events jquery.extensions".split(" "),function(m,d,h,n,p,q,t){m=n.extend({ui:{slidesContainer:"#{slidesSelector}",slides:"#{slidesSelector} #{slideSelector}",images:"#{slidesSelector} #{slideSelector} #{imageSelector}",nextButton:"#{nextButtonSelector}",prevButton:"#{prevButtonSelector}",footer:"#{footerSelector}",thumbnailsContainer:"#{thumbnailsSelector}",paginationContainer:"#{paginationSelector}"},
initialize:function(d){this.constructor.__super__.initialize.call(this,d);this.ui.thumbnails=null;this.ui.pagination=null;this.ratio=1;this.animating=!1;this.autoplayTimeout=null},render:function(){this.active={slide:this.ui.slides.eq(0),index:0};this.processConfig();this.handleConfig();this.loadImages();this.handleButtons();this.handleSwipe()},loadImages:function(){var d=this,a=this.ui.images.length,f=0;this.ui.images.on("load.slideshow",function(){++f>=a&&(d.ui.images.off("load.slideshow"),d.imagesLoaded())})},
imagesLoaded:function(){this.$el.css({opacity:"1"});this.normalizeImages().setWidth().generateThumbnails().generatePagination().handleAutoplay().handlePauseOnHover().resize()},normalizeImages:function(){this.ui.images.each(function(){"auto"===this.style.width&&(this.style.width="");"auto"===this.style.maxHeight&&(this.style.maxHeight="")})},getRatio:function(){this.ratio=Math.max.apply(null,this.ui.images.toArray().map(function(d){var a=d.naturalHeight;var f=d.naturalWidth;0===f&&/\.svg$/.test(d.src)&&
(f=d.cloneNode(!1),document.body.appendChild(f),d=f.getBoundingClientRect(),document.body.removeChild(f),f=d.width,a=d.height);return a/f}))},setWidth:function(){var d=this.ui.images.toArray().map(function(a){return+a.style.width.replace("px","")});d=Math.max.apply(null,d);this.$el.width(d||"")},handleButtons:function(){var d=this;this.ui.nextButton.on("click",function(){d.navigateNext()});this.ui.prevButton.on("click",function(){d.navigateBack()});this.updateNavigationButtons(this.active.index)},
handleSwipe:function(){var d=this;this.ui.slidesContainer.swipe({swipeLeft:function(){d.navigateNext()},swipeRight:function(){d.navigateBack()}})},processConfig:function(){function k(a){var d={},c;for(c in a)a.hasOwnProperty(c)&&""!==a[c]&&(d[c]=a[c],/^(true|false)$/i.test(d[c])&&(d[c]=/^true$/i.test(d[c])));return d}var a={};this.ui.slides.each(function(){a=p.extend(a,k(d(this).data()))});this.config=p.extend(this.config,a)},handleConfig:function(){"slide"===this.config.animation?this.$el.addClass(this.config.slideAnimationClass):
this.$el.addClass(this.config.fadeAnimationClass);this.active.slide.addClass(this.config.activeSlideClass);this.config.showTitle&&this.$el.addClass(this.config.showTitleClass);this.config.showCaption&&this.$el.addClass(this.config.showCaptionClass)},navigateNext:function(){this.active.index===this.ui.slides.length-1?this.config.infinite&&this.deliverSlide(0,"next"):this.deliverSlide(this.active.index+1,"next")},navigateBack:function(){0===this.active.index?this.config.infinite&&this.deliverSlide(this.ui.slides.length-
1,"prev"):this.deliverSlide(this.active.index-1,"prev")},deliverSlide:function(d,a){function f(){c.removeClass(k.config.activeSlideClass+" "+k.config.currentSlideClass);e.removeClass(k.config.nextSlideClass+" "+k.config.prevSlideClass);k.ui.slidesContainer.removeClass(k.config.slideLeftClass+" "+k.config.slideRightClass+" "+k.config.fadeClass);k.animating=!1;k.ui.slidesContainer[0].removeEventListener(p.has.whichTransitionEnd(),f);e.find(k.config.imageSelector).trigger("figure.resize")}var k=this,
c=this.active.slide,e=this.ui.slides.eq(d);this.animating||d===this.active.index||(e.addClass(this.config.activeSlideClass),c.addClass(this.config.currentSlideClass),"next"===a?(e.addClass(this.config.nextSlideClass),"slide"===this.config.animation?this.ui.slidesContainer.addClass(this.config.slideLeftClass):this.ui.slidesContainer.addClass(this.config.fadeClass)):(e.addClass(this.config.prevSlideClass),"slide"===this.config.animation?this.ui.slidesContainer.addClass(this.config.slideRightClass):
this.ui.slidesContainer.addClass(this.config.fadeClass)),this.animating=!0,p.has.whichTransitionEnd()?this.ui.slidesContainer[0].addEventListener(p.has.whichTransitionEnd(),f):setTimeout(f,400),this.setActiveSlide(d))},setActiveSlide:function(d){this.setActiveThumbnail(d).setActivePaginationIcon(d).updateNavigationButtons(d).updateAutoplay();this.active.index=d;this.active.slide=this.ui.slides.eq(d)},generateThumbnails:function(){var k=d("<ul>");this.config.thumbnails?(this.ui.images.each(function(){var a=
d(this).clone().css({width:"",height:""}).show();k.append(d("<li>").append(a))}),this.ui.thumbnailsContainer.append(k),this.ui.thumbnails=k,this.setActiveThumbnail(0),this.handleThumbnails()):this.hideFooter()},handleThumbnails:function(){var k=this;this.ui.thumbnails.on("click","li",function(){var a=d(this).index();k.deliverSlide(a,a>k.active.index?"next":"prev")})},setActiveThumbnail:function(d){this.config.thumbnails&&this.ui.thumbnails.find("li").removeClass("ActiveThumbnail").eq(d).addClass("ActiveThumbnail").scrollintoview({direction:"horizontal"})},
generatePagination:function(){var k=d("<ul>");this.config.pagination&&(this.ui.images.each(function(){k.append(d('<li class="PaginationIcon">'))}),this.ui.paginationContainer.append(k),this.ui.pagination=k,this.setActivePaginationIcon(0),this.handlePagination())},handlePagination:function(){var k=this;this.ui.pagination.on("click","li",function(){var a=d(this).index();k.deliverSlide(a,a>k.active.index?"next":"prev")})},setActivePaginationIcon:function(d){this.config.pagination&&this.ui.pagination.find("li").removeClass("ActivePaginationIcon").eq(d).addClass("ActivePaginationIcon")},
handleAutoplay:function(){this.config.autoplay&&this.updateAutoplay()},handlePauseOnHover:function(){if(this.config.pauseOnHover&&this.config.autoplay)this.$el.on("mouseenter",this.updateAutoplay.bind(this,!0)).on("mouseleave",this.updateAutoplay.bind(this,!1))},updateAutoplay:function(d){var a=this;this.config.autoplay&&(clearTimeout(this.autoplayTimeout),d||(this.autoplayTimeout=setTimeout(function(){a.navigateNext()},this.config.autoplayDelay)))},updateNavigationButtons:function(d){this.config.infinite||
(this.ui.nextButton.add(this.ui.prevButton).removeClass(this.config.disabledButtonClass),0===d?this.ui.prevButton.addClass(this.config.disabledButtonClass):d===this.ui.slides.length-1&&this.ui.nextButton.addClass(this.config.disabledButtonClass))},resize:function(){this.getRatio();this.ui.slidesContainer.height(this.ui.slidesContainer.width()*this.ratio);t.trigger("elements.resize",this.$el,this.$scope)},hideFooter:function(){this.ui.footer.height(0)},remove:function(){this.$el.off("mouseleave mouseenter");
this.constructor.__super__.remove.call(this)}},{displayName:"slideshow",config:p.extend({selector:".Slideshow",slidesSelector:".SlideshowSlides",slideSelector:".SlideshowSlide",imageSelector:".Figure .FigureImage",nextButtonSelector:".SlideshowNavigationButtonNext",prevButtonSelector:".SlideshowNavigationButtonPrev",footerSelector:".SlideshowFooter",thumbnailsSelector:".SlideshowThumbnails",paginationSelector:".SlideshowPagination",slideAnimationClass:"SlideAnimation",fadeAnimationClass:"FadeAnimation",
activeSlideClass:"ActiveSlide",currentSlideClass:"CurrentSlide",nextSlideClass:"NextSlide",prevSlideClass:"PrevSlide",slideLeftClass:"SlideLeft",slideRightClass:"SlideRight",disabledButtonClass:"Disabled",fadeClass:"Fade",showTitleClass:"ShowTitle",showCaptionClass:"ShowCaption",showTitle:!0,showCaption:!0,infinite:!0,thumbnails:!0,pagination:!0,animation:"slide",autoplay:!1,autoplayDelay:3E3,pauseOnHover:!0},q.configure(m.id))});t.trigger("slideshow.loaded",!0,m);return m});
define("elements/threesixty/threesixty","module underscore elements/element/element app/utilities/XyTools app/configuration app/events jquery.extensions".split(" "),function(m,d,h,n,p,q){m=h.extend({ui:{img:"#{figureSelector} img"},render:function(){this.length=this.$el.data("length");this.reverse=this.$el.data("reverse");this.ui.img.hide();/^(true|false)$/i.test(this.reverse)?this.reverse=/^true$/i.test(this.reverse):this.reverse=this.config.reverse||!1;this.renderViewer()},renderViewer:function(){var d=
this.ui.img.attr("src");var k=d.substring(0,d.lastIndexOf("/")+1);d=d.substring(d.lastIndexOf("/")+1);var a="."+d.split(".")[1];d=d.split(".")[0].replace(/[0-9]+$/,"");this.threeSixty=this.$el.ThreeSixty({totalFrames:this.length,endFrame:this.length,currentFrame:0,framerate:60,dirReverse:this.reverse,imgList:this.config.imageListSelector,progress:this.config.progressSelector,imagePath:k,filePrefix:d,ext:a,navigation:!1,responsive:!0,zeroPadding:!0,onReady:this.resize.bind(this)})},resize:function(){var d=
this.$(this.config.imageListSelector).find("img").eq(0);this.$el.height(d.height()||300)}},{displayName:"threeSixty",config:n.extend({selector:".ThreeSixty",figureSelector:".Figure",figureLOMSelector:".ThreeSixtyFigureLOM",imageListSelector:".ThreeSixtyImages",progressSelector:".ThreeSixtySpinner",reverse:!1},p.configure(m.id))});q.trigger("threeSixty.loaded",!0,m);return m});
define("elements/pageResources/pageResources","module jquery elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(m,d,h,n,p,q){m=h.extend({events:{click:"showPageResourcesComponent"},render:function(){q.on("pageResourcesComponent.initialized",this.setTitle)},showPageResourcesComponent:function(){d(this.config.skinComponentSelector).trigger("click")},setTitle:function(d){this.el.title=d.config.hotkeyCombination+" "+this.el.title}},{displayName:"pageResourcesElement",
config:n.extend({selector:".PageResourcesButton",skinComponentSelector:".PageResourcesLink"},p.configure(m.id))});q.trigger("pageResourcesElement.loaded",!0,m);return m});
define("elements/procedure/procedure","module jquery elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(m,d,h,n,p,q){m=h.extend({ui:{groups:"#{stepGroupSelector}",head:"#{stepHeadSelector}"},events:{"click @ui.groups[data-animated=true] @ui.head":"handleAnimatedStep"},render:function(){this.initHeight=this.el.scrollHeight;this.handleAnimation()},handleAnimation:function(){var h=this;this.ui.groups.filter("[data-animated=true]").each(function(){var k=d(this).find(h.config.stepSelector);
k.each(function(){d(this).find(h.config.stepActionSelector).each(function(){this.addEventListener("transitionend",function(){q.trigger("elements.resize",h.$el,h.$scope)},!1)})});if(!h.config.animateEmptyStep){var a=k.find(".StepUserAction");a.each(function(){d(this).html().trim()||d(this).parent(h.config.stepSelector).addClass(h.config.unexpandableClass)})}"collapsed"===h.config.animatedStartState?h.closeStep(k):h.openStep(k);h.config.expandFirstStep&&h.openStep(k.eq(0))})},handleAnimatedStep:function(h){h=
d(h.currentTarget).parent(this.config.stepSelector);h.hasClass(this.config.unexpandableClass)||("collapsed"===this.config.animatedStartState?this.config.allowCollapseAllSteps?this.toggleStep(h):(this.closeStep(h.siblings()),this.openStep(h)):this.toggleStep(h))},openStep:function(h){var k=this;h.removeClass(this.config.closedStepClass).addClass(this.config.openStepClass);this.resizeStep(h);h.find(this.config.figureSelector).each(function(a,f){if(!f.complete)d(f).on("load.procedure",function(){k.resizeStep(h)})})},
closeStep:function(h){var k=this.config.stepActionSelector;h.removeClass(this.config.openStepClass).addClass(this.config.closedStepClass).each(function(a,f){d(f).find(k).eq(0).css({"max-height":0})})},toggleStep:function(d){d.hasClass(this.config.openStepClass)?this.closeStep(d):this.openStep(d)},resizeStep:function(h){var k=this.config.stepActionSelector,a=this.initHeight;h.each(function(f,h){d(h).find(k).eq(0)[0].style.maxHeight=a+"px"})}},{displayName:"procedure",config:n.extend({selector:".Procedure",
stepGroupSelector:".StepGroup",stepSelector:".Step",stepHeadSelector:".StepHead",stepActionSelector:".StepUserAction",figureSelector:".Figure .FigureImage",openStepClass:"Open",closedStepClass:"Closed",unexpandableClass:"Unexpandable",expandFirstStep:!0,animatedStartState:"collapsed",allowCollapseAllSteps:!0,animateEmptyStep:!0},p.configure(m.id))});q.trigger("procedure.loaded",!0,m);return m});
define("elements/docWriter/docWriter","module jquery underscore elements/element/element app/utilities/helper/helperView app/utilities/XyTools app/configuration app/events lang/lang popup notification".split(" "),function(m,d,h,n,p,q,t,k,a,f,l){a={selector:".DocWriter",entrySelector:".Entry",entryNameSelector:".EntryName",entryFieldContainer:".EntryFieldContainer",userPrompt:".UserPrompt",entryField:".EntryField",showCharLimit:".ShowCharLimit",defaultCharMessage:a.t("elements.docWriter.charsLeft")||
"characters left",charsLeft:".CharsLeft",docWriterButtons:".DocWriterButtons",docWriterTemplateContainer:".DocWriterTemplateContainer",docWriterContentSelector:".DocWriterContent",generateDocumentButton:".GenerateDocumentButton",startOver:".StartOver",startOverConfirmMessage:a.t("elements.docWriter.startOverConfirmMessage"),printButton:".PrintButton",printTitle:a.t("elements.docWriter.print")||"Print",showModelResponse:".EntryShowModelResponse",showModelResponseTitle:a.t("elements.docWriter.modelResponseTitle")||
"Show Model Response",adviceLink:".EntryAdviceLink",adviceContent:".EntryAdviceContent",adviceTitle:a.t("elements.docWriter.advice")||"Advice",activeClass:"Active",popupRole:"dialog",tabindex:0,popup:{height:"auto",width:"auto",minWidth:"250px",minHeight:"250px",maxWidth:"70%",title:a.t("elements.docWriter.title")||"DocWriter",modal:!1,draggable:!0,closeOnEscape:!0,inclusive:!0,contentContainerSelector:"*"}};n=n.extend({ui:{entries:"#{entrySelector}",placeholder:"#{docWriterTemplateContainer}"},events:{"click #{entryNameSelector}":"entryNameClickHandler",
"click #{startOver}":"startOverHandler","click #{generateDocumentButton}":"generateDocument"},render:function(){this.entries=[];this.templateUri=this.convertURI(this.$el.data("template-uri"));this.$el.find(this.config.generateDocumentButton).attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.initializeEntries();this.renderEntries();this.handlePersistance();this.showEntry(0);this.createPopups()},initializeEntries:function(){var a=this;this.ui.entries.each(function(d,e){d=
new c({el:e,index:d});a.entries.push(d);d.on("docWriter.gotResponse",a.setResponse,a)})},renderEntries:function(){this.entries.forEach(function(a){a.render()})},showEntry:function(a){this.ui.entries.removeClass(this.config.activeClass).eq(a).addClass(this.config.activeClass)},entryNameClickHandler:function(a){a=d(a.target).parent();this.showEntry(this.ui.entries.index(a))},startOverHandler:function(){l.confirm(this.config.startOverConfirmMessage,this.startOver.bind(this))},startOver:function(){this.entries.forEach(function(a){a.startOver()})},
createPopups:function(){this.userResponsePopup=new f(q.extend(this.config.popup,{contentUrl:this.templateUri,ajaxComplete:this.renderUserResponse.bind(this),popupWrapperClass:"DocWriterPopup",buttons:[{text:this.config.printTitle,buttonClass:"PrintButton",click:this.print.bind(this)},{text:this.config.showModelResponseTitle,buttonClass:"ShowModelResponseButton",click:this.showModelResponse.bind(this)}]}));this.modelResponsePopup=new f(q.extend(this.config.popup,{contentUrl:this.templateUri,ajaxComplete:this.renderModelResponse.bind(this)}))},
renderUserResponse:function(a){this.entries.map(function(a){return a.getResponse()}).forEach(function(c,d){a.find("#blank"+(d+1)).text(c)})},renderModelResponse:function(a){this.entries.map(function(a){return a.getModelResponse()}).forEach(function(c,d){a.find("#blank"+(d+1)).text(c)})},showModelResponse:function(){this.modelResponsePopup.open()},print:function(){var a=d('<iframe name="printWin" style="display: none;"></iframe>');a.insertAfter(this.userResponsePopup.content);var c=window.open("",
"printWin","menubar=0,location=0,resizable=1,status=0,left=0,top=0,width=1,height=1,toolbar=0,scrollbars=0,status=0");c.document.write(this.userResponsePopup.content.html());c.document.close();c.focus();c.print();c.close();a.remove()},generateDocument:function(){this.userResponsePopup.open()},handlePersistance:function(){k.on("player.data:save",this.saveData);this.completed=this.getData();this.markCompleted()},markCompleted:function(){this.entries.forEach(function(a,c){this.completed[c]&&a.setResponse(this.completed[c])},
this)},setResponse:function(a,c){this.completed[a]=c},convertURI:function(a){return a?a.replace(/^.*\/media-service\//,"media/"):""},remove:function(){this.entries.forEach(function(a){a.remove()});this.entries=[];this.userResponsePopup.destroy();this.modelResponsePopup.destroy();this.constructor.__super__.remove.call(this)}},{displayName:"docWriter",config:q.extend(a,t.configure(m.id))});var c=p.extend({ui:{textarea:"#{entryField}",advice:"#{adviceContent}",charsLeft:"#{charsLeft}",adviceLink:"#{adviceLink}",
showModelResponse:"#{showModelResponse}"},events:{"click @ui.adviceLink":"showAdvice"},initialize:function(a){this.index=a.index},render:function(){this.modelResponse=this.ui.showModelResponse.text();this.textareaEvents=["change","keyup","blur","paste"];this.maxlength=this.ui.textarea.attr("maxlength");this.popup=new f(q.extend(this.config.popup,{content:this.ui.advice}));this.ui.textarea.on(this.textareaEvents.join(" "),h.throttle(this.textareaChange.bind(this),50))},showAdvice:function(){this.popup.open()},
textareaChange:function(){var a=this.ui.textarea.val();this.maxlength&&(q.detect.browser.ie||a.length>this.maxlength)&&(a=a.substr(0,this.maxlength),this.ui.textarea.val(a));this.trigger("docWriter.gotResponse",this.index,a);this.ui.charsLeft.text(this.maxlength-a.length)},startOver:function(){this.setResponse("")},setResponse:function(a){this.ui.textarea.val(a);this.textareaChange()},getResponse:function(){return this.ui.textarea.val()},getModelResponse:function(){return this.modelResponse},remove:function(){this.popup.destroy();
delete this.popup;this.ui.textarea.off(this.textareaEvents.join(" "))}},{displayName:"docWriterEntry",config:q.extend(a,t.configure(m.id))});k.trigger("docWriter.loaded",!0,n);return n});
!function(m,d){if("object"==typeof exports&&"undefined"!=typeof module){m=module;a:{try{var h=require("moment");break a}catch(n){}h=void 0}m.exports=d(h)}else"function"==typeof define&&define.amd?define("chart",["require"],function(h){a:{try{var m=h("moment");break a}catch(q){}m=void 0}return d(m)}):m.Chart=d(m.moment)}(this,function(m){function d(a){var c,d,e=a[0]/255,f=a[1]/255;a=a[2]/255;var w=Math.min(e,f,a),k=Math.max(e,f,a),h=k-w;return k==w?c=0:e==k?c=(f-a)/h:f==k?c=2+(a-e)/h:a==k&&(c=4+(e-
f)/h),0>(c=Math.min(60*c,360))&&(c+=360),d=(w+k)/2,[c,100*(k==w?0:.5>=d?h/(k+w):h/(2-k-w)),100*d]}function h(a){var c,d,e=a[0],f=a[1];a=a[2];var w=Math.min(e,f,a),k=Math.max(e,f,a),h=k-w;return d=0==k?0:h/k*1E3/10,k==w?c=0:e==k?c=(f-a)/h:f==k?c=2+(a-e)/h:a==k&&(c=4+(e-f)/h),0>(c=Math.min(60*c,360))&&(c+=360),[c,d,k/255*1E3/10]}function n(a){var c=a[0],e=a[1],f=a[2];return[d(a)[0],1/255*100*Math.min(c,Math.min(e,f)),100*(1-1/255*Math.max(c,Math.max(e,f)))]}function p(a){var c,d=a[0]/255,e=a[1]/255;
a=a[2]/255;return[100*((1-d-(c=Math.min(1-d,1-e,1-a)))/(1-c)||0),100*((1-e-c)/(1-c)||0),100*((1-a-c)/(1-c)||0),100*c]}function q(a){return Lb[JSON.stringify(a)]}function t(a){var c=a[0]/255,d=a[1]/255;a=a[2]/255;return[100*(.4124*(c=.04045<c?Math.pow((c+.055)/1.055,2.4):c/12.92)+.3576*(d=.04045<d?Math.pow((d+.055)/1.055,2.4):d/12.92)+.1805*(a=.04045<a?Math.pow((a+.055)/1.055,2.4):a/12.92)),100*(.2126*c+.7152*d+.0722*a),100*(.0193*c+.1192*d+.9505*a)]}function k(a){var c=t(a);a=c[0];var d=c[1];c=c[2];
return d/=100,c/=108.883,a=.008856<(a/=95.047)?Math.pow(a,1/3):7.787*a+16/116,[116*(d=.008856<d?Math.pow(d,1/3):7.787*d+16/116)-16,500*(a-d),200*(d-(.008856<c?Math.pow(c,1/3):7.787*c+16/116))]}function a(a){var c,d,e=a[0]/360;var f=a[1]/100;a=a[2]/100;if(0==f)return[d=255*a,d,d];f=2*a-(a=.5>a?a*(1+f):a+f-a*f);var w=[0,0,0];for(var k=0;3>k;k++)0>(c=e+1/3*-(k-1))&&c++,1<c&&c--,d=1>6*c?f+6*(a-f)*c:1>2*c?a:2>3*c?f+(a-f)*(2/3-c)*6:f,w[k]=255*d;return w}function f(a){var c=a[0]/60,d=a[1]/100;a=a[2]/100;
var e=Math.floor(c)%6,f=c-Math.floor(c);c=255*a*(1-d);var w=255*a*(1-d*f);d=255*a*(1-d*(1-f));a*=255;switch(e){case 0:return[a,d,c];case 1:return[w,a,c];case 2:return[c,a,d];case 3:return[c,w,a];case 4:return[d,c,a];case 5:return[a,c,w]}}function l(a){var c,d;var e=a[0]/360;var f=a[1]/100;a=a[2]/100;var w=f+a;switch(1<w&&(f/=w,a/=w),d=6*e-(c=Math.floor(6*e)),0!=(1&c)&&(d=1-d),w=f+d*((e=1-a)-f),c){default:case 6:case 0:r=e;g=w;b=f;break;case 1:r=w;g=e;b=f;break;case 2:r=f;g=e;b=w;break;case 3:r=f;
g=w;b=e;break;case 4:r=w;g=f;b=e;break;case 5:r=e,g=f,b=w}return[255*r,255*g,255*b]}function c(a){var c=a[3]/100;return[255*(1-Math.min(1,a[0]/100*(1-c)+c)),255*(1-Math.min(1,a[1]/100*(1-c)+c)),255*(1-Math.min(1,a[2]/100*(1-c)+c))]}function e(a){var c,d,e,f=a[0]/100,w=a[1]/100;a=a[2]/100;return d=-.9689*f+1.8758*w+.0415*a,e=.0557*f+-.204*w+1.057*a,c=.0031308<(c=3.2406*f+-1.5372*w+-.4986*a)?1.055*Math.pow(c,1/2.4)-.055:c*=12.92,d=.0031308<d?1.055*Math.pow(d,1/2.4)-.055:d*=12.92,e=.0031308<e?1.055*
Math.pow(e,1/2.4)-.055:e*=12.92,[255*Math.min(Math.max(0,c),1),255*Math.min(Math.max(0,d),1),255*Math.min(Math.max(0,e),1)]}function u(a){var c=a[0],d=a[1];a=a[2];return d/=100,a/=108.883,c=.008856<(c/=95.047)?Math.pow(c,1/3):7.787*c+16/116,[116*(d=.008856<d?Math.pow(d,1/3):7.787*d+16/116)-16,500*(c-d),200*(d-(.008856<a?Math.pow(a,1/3):7.787*a+16/116))]}function z(a){var c,d,e=a[0],f=a[1];a=a[2];return 8>=e?d=(c=100*e/903.3)/100*7.787+16/116:(c=100*Math.pow((e+16)/116,3),d=Math.pow(c/100,1/3)),[95.047*
Math.pow(f/500+d,3),c,108.883*Math.pow(d-a/200,3)]}function B(a){var c,d=a[0],e=a[1];a=a[2];return 0>(c=360*Math.atan2(a,e)/2/Math.PI)&&(c+=360),[d,Math.sqrt(e*e+a*a),c]}function G(a){return e(z(a))}function x(a){var c,d=a[0],e=a[1];return c=a[2]/360*2*Math.PI,[d,e*Math.cos(c),e*Math.sin(c)]}function I(a){if(a){var c=[0,0,0],d=1,e=a.match(/^#([a-fA-F0-9]{3,4})$/i);if(e){a=(e=e[1])[3];for(var f=0;f<c.length;f++)c[f]=parseInt(e[f]+e[f],16);a&&(d=Math.round(parseInt(a+a,16)/255*100)/100)}else if(e=a.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){a=
e[2];e=e[1];for(f=0;f<c.length;f++)c[f]=parseInt(e.slice(2*f,2*f+2),16);a&&(d=Math.round(parseInt(a,16)/255*100)/100)}else if(e=a.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(f=0;f<c.length;f++)c[f]=parseInt(e[f+1]);d=parseFloat(e[4])}else if(e=a.match(/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(f=0;f<c.length;f++)c[f]=Math.round(2.55*parseFloat(e[f+1]));d=parseFloat(e[4])}else if(e=
a.match(/(\w+)/)){if("transparent"==e[1])return[0,0,0,0];if(!(c=Qb[e[1]]))return}for(f=0;f<c.length;f++)c[f]=E(c[f],0,255);return d=d||0==d?E(d,0,1):1,c[3]=d,c}}function H(a){if(a&&(a=a.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/))){var c=parseFloat(a[4]);return[E(parseInt(a[1]),0,360),E(parseFloat(a[2]),0,100),E(parseFloat(a[3]),0,100),E(isNaN(c)?1:c,0,1)]}}function A(a){if(a&&(a=a.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/))){var c=
parseFloat(a[4]);return[E(parseInt(a[1]),0,360),E(parseFloat(a[2]),0,100),E(parseFloat(a[3]),0,100),E(isNaN(c)?1:c,0,1)]}}function D(a,c){return void 0===c&&(c=void 0!==a[3]?a[3]:1),"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+c+")"}function C(a,c){return"rgba("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%, "+(c||a[3]||1)+")"}function F(a,c){return void 0===c&&(c=void 0!==a[3]?a[3]:1),"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+c+")"}function E(a,c,d){return Math.min(Math.max(c,
a),d)}function K(a){a=a.toString(16).toUpperCase();return 2>a.length?"0"+a:a}function N(a,c){var d=a._chartjs;d&&(d=d.listeners,c=d.indexOf(c),-1!==c&&d.splice(c,1),0<d.length||(Nb.forEach(function(c){delete a[c]}),delete a._chartjs))}function Y(a){var c=this._view;return!!c&&Math.abs(a-c.x)<c.radius+c.hitRadius}function P(a){return a&&void 0!==a.width}function W(a){var c,d,e,f,w;return P(a)?(w=a.width/2,c=a.x-w,d=a.x+w,e=Math.min(a.y,a.base),f=Math.max(a.y,a.base)):(w=a.height/2,c=Math.min(a.x,a.base),
d=Math.max(a.x,a.base),e=a.y-w,f=a.y+w),{left:c,top:e,right:d,bottom:f}}function ha(a,c,d){var e=null===c,f=null===d;return(a=!(!a||e&&f)&&W(a))&&(e||c>=a.left&&c<=a.right)&&(f||d>=a.top&&d<=a.bottom)}function ja(a,c){return a.native?{x:a.x,y:a.y}:y.getRelativePosition(a,c)}function ba(a,c){var d,e,f;var w=0;for(e=a.data.datasets.length;w<e;++w)if(a.isDatasetVisible(w)){var k=0;for(f=(d=a.getDatasetMeta(w)).data.length;k<f;++k){var h=d.data[k];h._view.skip||c(h)}}}function Z(a,c){var d=[];return ba(a,
function(a){a.inRange(c.x,c.y)&&d.push(a)}),d}function R(a,c,d,e){var f=Number.POSITIVE_INFINITY,w=[];return ba(a,function(a){if(!d||a.inRange(c.x,c.y)){var k=a.getCenterPoint();k=e(c,k);k<f?(w=[a],f=k):k===f&&w.push(a)}}),w}function cb(a){var c=-1!==a.indexOf("x"),d=-1!==a.indexOf("y");return function(a,e){return Math.sqrt(Math.pow(c?Math.abs(a.x-e.x):0,2)+Math.pow(d?Math.abs(a.y-e.y):0,2))}}function Qa(a,c,d){c=ja(c,a);d.axis=d.axis||"x";var e=cb(d.axis),f=d.intersect?Z(a,c):R(a,c,!1,e),w=[];return f.length?
(a.data.datasets.forEach(function(c,d){a.isDatasetVisible(d)&&(c=a.getDatasetMeta(d).data[f[0]._index])&&!c._view.skip&&w.push(c)}),w):[]}function S(a,c){return y.where(a,function(a){return a.position===c})}function U(a,c){a.forEach(function(a,c){return a._tmpIndex_=c,a});a.sort(function(a,d){var e=c?d:a;a=c?a:d;return e.weight===a.weight?e._tmpIndex_-a._tmpIndex_:e.weight-a.weight});a.forEach(function(a){delete a._tmpIndex_})}function da(a,c){y.each(a,function(a){c[a.position]+=a.isHorizontal()?
a.height:a.width})}function Cb(a,c){return(a=(a=y.getStyle(a,c))&&a.match(/^(\d+)(\.\d+)?px$/))?Number(a[1]):void 0}function La(a,c,d){a.addEventListener(c,d,Kc)}function Pa(a,c,d){a.removeEventListener(c,d,Kc)}function db(a,c,d,e,f){return{type:a,chart:c,native:f||null,x:void 0!==d?d:null,y:void 0!==e?e:null}}function oa(a){var c=document.createElement("div");return c.className=a||"",c}function M(a,c,d){var e,f,w,k,h=a.$chartjs||(a.$chartjs={}),l=h.resizer=function(a){var c=oa("chartjs-size-monitor"),
d=oa("chartjs-size-monitor-expand"),e=oa("chartjs-size-monitor-shrink");d.appendChild(oa());e.appendChild(oa());c.appendChild(d);c.appendChild(e);c._reset=function(){d.scrollLeft=1E6;d.scrollTop=1E6;e.scrollLeft=1E6;e.scrollTop=1E6};var f=function(){c._reset();a()};return La(d,"scroll",f.bind(d,"expand")),La(e,"scroll",f.bind(e,"shrink")),c}((e=function(){if(h.resizer){var e=d.options.maintainAspectRatio&&a.parentNode,f=e?e.clientWidth:0;c(db("resize",d));e&&e.clientWidth<f&&d.canvas&&c(db("resize",
d))}},w=!1,k=[],function(){k=Array.prototype.slice.call(arguments);f=f||this;w||(w=!0,y.requestAnimFrame.call(window,function(){w=!1;e.apply(f,k)}))}));!function(a,c){var d=a.$chartjs||(a.$chartjs={}),e=d.renderProxy=function(a){"chartjs-render-animation"===a.animationName&&c()};y.each(zc,function(c){La(a,c,e)});d.reflow=!!a.offsetParent;a.classList.add("chartjs-render-monitor")}(a,function(){if(h.resizer){var c=a.parentNode;c&&c!==l.parentNode&&c.insertBefore(l,c.firstChild);l._reset()}})}function Ra(a){var c=
a.$chartjs||{},d=c.resizer;delete c.resizer;(function(a){var c=a.$chartjs||{},d=c.renderProxy;d&&(y.each(zc,function(c){Pa(a,c,d)}),delete c.renderProxy);a.classList.remove("chartjs-render-monitor")})(a);d&&d.parentNode&&d.parentNode.removeChild(d)}function Va(a,c){return c&&(y.isArray(c)?Array.prototype.push.apply(a,c):a.push(c)),a}function Sa(a){return("string"==typeof a||a instanceof String)&&-1<a.indexOf("\n")?a.split("\n"):a}function jb(a){var c=O.global;return{xPadding:a.xPadding,yPadding:a.yPadding,
xAlign:a.xAlign,yAlign:a.yAlign,bodyFontColor:a.bodyFontColor,_bodyFontFamily:ac(a.bodyFontFamily,c.defaultFontFamily),_bodyFontStyle:ac(a.bodyFontStyle,c.defaultFontStyle),_bodyAlign:a.bodyAlign,bodyFontSize:ac(a.bodyFontSize,c.defaultFontSize),bodySpacing:a.bodySpacing,titleFontColor:a.titleFontColor,_titleFontFamily:ac(a.titleFontFamily,c.defaultFontFamily),_titleFontStyle:ac(a.titleFontStyle,c.defaultFontStyle),titleFontSize:ac(a.titleFontSize,c.defaultFontSize),_titleAlign:a.titleAlign,titleSpacing:a.titleSpacing,
titleMarginBottom:a.titleMarginBottom,footerFontColor:a.footerFontColor,_footerFontFamily:ac(a.footerFontFamily,c.defaultFontFamily),_footerFontStyle:ac(a.footerFontStyle,c.defaultFontStyle),footerFontSize:ac(a.footerFontSize,c.defaultFontSize),_footerAlign:a.footerAlign,footerSpacing:a.footerSpacing,footerMarginTop:a.footerMarginTop,caretSize:a.caretSize,cornerRadius:a.cornerRadius,backgroundColor:a.backgroundColor,opacity:0,legendColorBackground:a.multiKeyBackground,displayColors:a.displayColors,
borderColor:a.borderColor,borderWidth:a.borderWidth}}function va(a,c){return"center"===c?a.x+a.width/2:"right"===c?a.x+a.width-a.xPadding:a.x+a.xPadding}function Kb(){return y.merge({},[].slice.call(arguments),{merger:function(a,c,d,e){if("xAxes"===a||"yAxes"===a){var f=d[a].length;c[a]||(c[a]=[]);for(e=0;e<f;++e){var w=d[a][e];var k=Bc(w.type,"xAxes"===a?"category":"linear");e>=c[a].length&&c[a].push({});!c[a][e].type||w.type&&w.type!==c[a][e].type?y.merge(c[a][e],[qc.getScaleDefaults(k),w]):y.merge(c[a][e],
w)}}else y._merger(a,c,d,e)}})}function pb(){return y.merge({},[].slice.call(arguments),{merger:function(a,c,d,e){var f=c[a]||{},w=d[a];"scales"===a?c[a]=Kb(f,w):"scale"===a?c[a]=y.merge(f,[qc.getScaleDefaults(w.type),w]):y._merger(a,c,d,e)}})}function fa(a){return"top"===a||"bottom"===a}function v(){throw Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.");}function Db(a){this.options=a||{}}function Xb(a){var c,d=[];var e=0;for(c=a.length;e<
c;++e)d.push(a[e].label);return d}function Yb(a,c,d){return y.isArray(c)?y.longestText(a,d,c):a.measureText(c).width}function mb(a,c){return y.isFinite(a)&&0<=a?a:c}function ra(a){var c=a.options;return c.angleLines.display||c.pointLabels.display?a.chart.data.labels.length:0}function Xa(a){var c=a.ticks;return c.display&&a.display?yc(c.fontSize,O.global.defaultFontSize)+2*c.backdropPaddingY:0}function Ub(a,c,d,e,f){return a===e||a===f?{start:c-d/2,end:c+d/2}:a<e||a>f?{start:c-d,end:c}:{start:c,end:c+
d}}function qb(a){return y.isNumber(a)?a:0}function ec(a,c){return a-c}function Oa(a){var c,d,e={},f=[];var w=0;for(c=a.length;w<c;++w)e[d=a[w]]||(e[d]=!0,f.push(d));return f}function L(a,c,d,e){var f,w;a:{for(var k,h=0,l=a.length-1;0<=h&&h<=l;){if(w=a[(f=h+l>>1)-1]||null,k=a[f],!w){f=null;w=k;break a}if(k[c]<d)h=f+1;else{if(!(w[c]>d)){f=w;w=k;break a}l=f-1}}f=k;w=null}k=f?w?f:a[a.length-2]:a[0];a=f?w?w:a[a.length-1]:a[1];f=a[c]-k[c];return k[e]+(a[e]-k[e])*(f?(d-k[c])/f:0)}function ta(a,c){var d=
a._adapter,e=a.options.time;e=(a=e.parser)||e.format;var f=c;return"function"==typeof a&&(f=a(f)),y.isFinite(f)||(f="string"==typeof e?d.parse(f,e):d.parse(f)),null!==f?+f:(a||"function"!=typeof e||(f=e(c),y.isFinite(f)||(f=d.parse(f))),f)}function X(a,c){if(y.isNullOrUndef(c))return null;var d=a.options.time;c=ta(a,a.getRightValue(c));return null===c?c:(d.round&&(c=+a._adapter.startOf(c,d.round)),c)}function ua(a){a=wb.indexOf(a)+1;for(var c=wb.length;a<c;++a)if(oc[wb[a]].common)return wb[a]}function Ga(a,
c,d,e){var f=a._adapter,w=a.options;a=w.time;var k=a.unit||function(a,c,d,e){var f,w,k=wb.length;for(a=wb.indexOf(a);a<k-1;++a)if(w=(f=oc[wb[a]]).steps?f.steps[f.steps.length-1]:Hc,f.common&&Math.ceil((d-c)/(w*f.size))<=e)return wb[a];return wb[k-1]}(a.minUnit,c,d,e),h=ua(k),l=Dc(a.stepSize,a.unitStepSize),m="week"===k&&a.isoWeekday;w=w.ticks.major.enabled;var n=oc[k],J=c,Q=d,u=[];l||(l=function(a,c,d,e){var f,w;a=c-a;c=oc[d];d=c.size;var k=c.steps;if(!k)return Math.ceil(a/(e*d));c=0;for(f=k.length;c<
f&&(w=k[c],!(Math.ceil(a/(d*w))<=e));++c);return w}(c,d,k,e));m&&(J=+f.startOf(J,"isoWeek",m),Q=+f.startOf(Q,"isoWeek",m));J=+f.startOf(J,m?"day":k);(Q=+f.startOf(Q,m?"day":k))<d&&(Q=+f.add(Q,1,k));c=J;for(w&&h&&!m&&!a.round&&(c=+f.startOf(c,h),c=+f.add(c,~~((J-c)/(n.size*l))*l,k));c<Q;c=+f.add(c,l,k))u.push(+c);return u.push(+c),u}function eb(a,c,d){var e;a=a._model||{};var f=a.fill;if(void 0===f&&(f=!!a.backgroundColor),!1===f||null===f)return!1;if(!0===f)return"origin";if(e=parseFloat(f,10),isFinite(e)&&
Math.floor(e)===e)return"-"!==f[0]&&"+"!==f[0]||(e=c+e),!(e===c||0>e||e>=d)&&e;switch(f){case "bottom":return"start";case "top":return"end";case "zero":return"origin";case "origin":case "start":case "end":return f;default:return!1}}function pa(a){var c,d=a.el._model||{},e=a.el._scale||{};a=a.fill;var f=null;if(isFinite(a))return null;if("start"===a?f=void 0===d.scaleBottom?e.bottom:d.scaleBottom:"end"===a?f=void 0===d.scaleTop?e.top:d.scaleTop:void 0!==d.scaleZero?f=d.scaleZero:e.getBasePosition?
f=e.getBasePosition():e.getBasePixel&&(f=e.getBasePixel()),null!=f){if(void 0!==f.x&&void 0!==f.y)return f;if(y.isFinite(f))return{x:(c=e.isHorizontal())?f:null,y:c?null:f}}return null}function Za(a,c,d,e,f){var w;if(e&&f){a.moveTo(c[0].x,c[0].y);for(w=1;w<e;++w)y.canvas.lineTo(a,c[w-1],c[w]);a.lineTo(d[f-1].x,d[f-1].y);for(w=f-1;0<w;--w)y.canvas.lineTo(a,d[w],d[w-1],!0)}}function V(a,c){var d=new Sc({ctx:a.ctx,options:c,chart:a});Hb.configure(a,d,c);Hb.addBox(a,d);a.legend=d}function na(a,c){var d=
new Pc({ctx:a.ctx,options:c,chart:a});Hb.configure(a,d,c);Hb.addBox(a,d);a.titleBlock=d}m=m&&m.hasOwnProperty("default")?m.default:m;var Ab={rgb2hsl:d,rgb2hsv:h,rgb2hwb:n,rgb2cmyk:p,rgb2keyword:q,rgb2xyz:t,rgb2lab:k,rgb2lch:function(a){return B(k(a))},hsl2rgb:a,hsl2hsv:function(a){var c=a[1]/100,d=a[2]/100;return 0===d?[0,0,0]:[a[0],100*(2*(c*=1>=(d*=2)?d:2-d)/(d+c)),(d+c)/2*100]},hsl2hwb:function(c){return n(a(c))},hsl2cmyk:function(c){return p(a(c))},hsl2keyword:function(c){return q(a(c))},hsv2rgb:f,
hsv2hsl:function(a){var c,d,e=a[0],f=a[1]/100;a=a[2]/100;return c=f*a,[e,100*(c/(1>=(d=(2-f)*a)?d:2-d)||0),d/2*100]},hsv2hwb:function(a){return n(f(a))},hsv2cmyk:function(a){return p(f(a))},hsv2keyword:function(a){return q(f(a))},hwb2rgb:l,hwb2hsl:function(a){return d(l(a))},hwb2hsv:function(a){return h(l(a))},hwb2cmyk:function(a){return p(l(a))},hwb2keyword:function(a){return q(l(a))},cmyk2rgb:c,cmyk2hsl:function(a){return d(c(a))},cmyk2hsv:function(a){return h(c(a))},cmyk2hwb:function(a){return n(c(a))},
cmyk2keyword:function(a){return q(c(a))},keyword2rgb:function(a){return Ja[a]},keyword2hsl:function(a){return d(Ja[a])},keyword2hsv:function(a){return h(Ja[a])},keyword2hwb:function(a){return n(Ja[a])},keyword2cmyk:function(a){return p(Ja[a])},keyword2lab:function(a){return k(Ja[a])},keyword2xyz:function(a){return t(Ja[a])},xyz2rgb:e,xyz2lab:u,xyz2lch:function(a){return B(u(a))},lab2xyz:z,lab2rgb:G,lab2lch:B,lch2lab:x,lch2xyz:function(a){return z(x(a))},lch2rgb:function(a){return G(x(a))}},Ja={aliceblue:[240,
248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,
11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],
firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,
230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],
mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,
170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,
90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Lb={},wa;for(wa in Ja)Lb[JSON.stringify(Ja[wa])]=wa;var Da=function(){return new Ba},Ya;for(Ya in Ab){Da[Ya+"Raw"]=function(a){return function(c){return"number"==
typeof c&&(c=Array.prototype.slice.call(arguments)),Ab[a](c)}}(Ya);var Mb=/(\w+)2(\w+)/.exec(Ya),xa=Mb[1],qa=Mb[2];(Da[xa]=Da[xa]||{})[qa]=Da[Ya]=function(a){return function(c){"number"==typeof c&&(c=Array.prototype.slice.call(arguments));var d=Ab[a](c);if("string"==typeof d||void 0===d)return d;for(var e=0;e<d.length;e++)d[e]=Math.round(d[e]);return d}}(Ya)}var Ba=function(){this.convs={}};Ba.prototype.routeSpace=function(a,c){var d=c[0];return void 0===d?this.getValues(a):("number"==typeof d&&(d=
Array.prototype.slice.call(c)),this.setValues(a,d))};Ba.prototype.setValues=function(a,c){return this.space=a,this.convs={},this.convs[a]=c,this};Ba.prototype.getValues=function(a){var c=this.convs[a];c||(c=this.space,c=Da[c][a](this.convs[c]),this.convs[a]=c);return c};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(a){Ba.prototype[a]=function(c){return this.routeSpace(a,arguments)}});var Qb={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,
255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,
107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],
gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],
lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,
179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,
239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,
255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$a={getRgba:I,getHsla:H,getRgb:function(a){return(a=I(a))&&a.slice(0,3)},getHsl:function(a){return(a=H(a))&&a.slice(0,3)},getHwb:A,getAlpha:function(a){var c=I(a);if(c||(c=H(a))||(c=A(a)))return c[3]},hexString:function(a,c){c=void 0!==c&&
3===a.length?c:a[3];return"#"+K(a[0])+K(a[1])+K(a[2])+(0<=c&&1>c?K(Math.round(255*c)):"")},rgbString:function(a,c){return 1>c||a[3]&&1>a[3]?D(a,c):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"},rgbaString:D,percentString:function(a,c){return 1>c||a[3]&&1>a[3]?C(a,c):"rgb("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%)"},percentaString:C,hslString:function(a,c){return 1>c||a[3]&&1>a[3]?F(a,c):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"},hslaString:F,hwbString:function(a,
c){void 0===c&&(c=void 0!==a[3]?a[3]:1);return"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+(void 0!==c&&1!==c?", "+c:"")+")"},keyword:function(a){return xb[a.slice(0,3)]}},xb={},yb;for(yb in Qb)xb[Qb[yb]]=yb;var Ca=function(a){return a instanceof Ca?a:this instanceof Ca?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof a?(c=$a.getRgba(a))?this.setValues("rgb",c):(c=$a.getHsla(a))?this.setValues("hsl",c):(c=$a.getHwb(a))&&this.setValues("hwb",
c):"object"==typeof a&&(void 0!==(c=a).r||void 0!==c.red?this.setValues("rgb",c):void 0!==c.l||void 0!==c.lightness?this.setValues("hsl",c):void 0!==c.v||void 0!==c.value?this.setValues("hsv",c):void 0!==c.w||void 0!==c.whiteness?this.setValues("hwb",c):void 0===c.c&&void 0===c.cyan||this.setValues("cmyk",c)))):new Ca(a);var c};Ca.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",
arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var a=this.values;return 1!==a.alpha?a.hwb.concat([a.alpha]):a.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values;return a.rgb.concat([a.alpha])},hslaArray:function(){var a=this.values;return a.hsl.concat([a.alpha])},
alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return a&&(a=0>(a%=360)?360+a:a),this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},whiteness:function(a){return this.setChannel("hwb",
1,a)},blackness:function(a){return this.setChannel("hwb",2,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return $a.hexString(this.values.rgb)},rgbString:function(){return $a.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return $a.rgbaString(this.values.rgb,
this.values.alpha)},percentString:function(){return $a.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return $a.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return $a.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return $a.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return $a.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var a=this.values.rgb;return a[0]<<16|a[1]<<8|a[2]},luminosity:function(){for(var a=
this.values.rgb,c=[],d=0;d<a.length;d++){var e=a[d]/255;c[d]=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4)}return.2126*c[0]+.7152*c[1]+.0722*c[2]},contrast:function(a){var c=this.luminosity();a=a.luminosity();return c>a?(c+.05)/(a+.05):(a+.05)/(c+.05)},level:function(a){a=this.contrast(a);return 7.1<=a?"AAA":4.5<=a?"AA":""},dark:function(){var a=this.values.rgb;return 128>(299*a[0]+587*a[1]+114*a[2])/1E3},light:function(){return!this.dark()},negate:function(){for(var a=[],c=0;3>c;c++)a[c]=255-this.values.rgb[c];
return this.setValues("rgb",a),this},lighten:function(a){var c=this.values.hsl;return c[2]+=c[2]*a,this.setValues("hsl",c),this},darken:function(a){var c=this.values.hsl;return c[2]-=c[2]*a,this.setValues("hsl",c),this},saturate:function(a){var c=this.values.hsl;return c[1]+=c[1]*a,this.setValues("hsl",c),this},desaturate:function(a){var c=this.values.hsl;return c[1]-=c[1]*a,this.setValues("hsl",c),this},whiten:function(a){var c=this.values.hwb;return c[1]+=c[1]*a,this.setValues("hwb",c),this},blacken:function(a){var c=
this.values.hwb;return c[2]+=c[2]*a,this.setValues("hwb",c),this},greyscale:function(){var a=this.values.rgb;a=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[a,a,a]),this},clearer:function(a){var c=this.values.alpha;return this.setValues("alpha",c-c*a),this},opaquer:function(a){var c=this.values.alpha;return this.setValues("alpha",c+c*a),this},rotate:function(a){var c=this.values.hsl;a=(c[0]+a)%360;return c[0]=0>a?360+a:a,this.setValues("hsl",c),this},mix:function(a,c){c=void 0===c?.5:c;var d=
2*c-1,e=this.alpha()-a.alpha();d=((-1==d*e?d:(d+e)/(1+d*e))+1)/2;e=1-d;return this.rgb(d*this.red()+e*a.red(),d*this.green()+e*a.green(),d*this.blue()+e*a.blue()).alpha(this.alpha()*c+a.alpha()*(1-c))},toJSON:function(){return this.rgb()},clone:function(){var a,c,d=new Ca,e=this.values,f=d.values,k;for(k in e)e.hasOwnProperty(k)&&(a=e[k],"[object Array]"===(c={}.toString.call(a))?f[k]=a.slice(0):"[object Number]"===c?f[k]=a:console.error("unexpected color value:",a));return d}};Ca.prototype.spaces=
{rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};Ca.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};Ca.prototype.getValues=function(a){for(var c=this.values,d={},e=0;e<a.length;e++)d[a.charAt(e)]=c[a][e];return 1!==c.alpha&&(d.a=c.alpha),d};Ca.prototype.setValues=function(a,c){var d=this.values,e=this.spaces,
f=this.maxes;var k=1;if(this.valid=!0,"alpha"===a)k=c;else if(c.length)d[a]=c.slice(0,a.length),k=c[a.length];else if(void 0!==c[a.charAt(0)]){for(k=0;k<a.length;k++)d[a][k]=c[a.charAt(k)];k=c.a}else if(void 0!==c[e[a][0]]){var h=e[a];for(k=0;k<a.length;k++)d[a][k]=c[h[k]];k=c.alpha}if(d.alpha=Math.max(0,Math.min(1,void 0===k?d.alpha:k)),"alpha"===a)return!1;for(k=0;k<a.length;k++)c=Math.max(0,Math.min(f[a][k],d[a][k])),d[a][k]=Math.round(c);for(var w in e)w!==a&&(d[w]=Da[a][w](d[a]));return!0};Ca.prototype.setSpace=
function(a,c){var d=c[0];return void 0===d?this.getValues(a):("number"==typeof d&&(d=Array.prototype.slice.call(c)),this.setValues(a,d),this)};Ca.prototype.setChannel=function(a,c,d){var e=this.values[a];return void 0===d?e[c]:d===e[c]?this:(e[c]=d,this.setValues(a,e),this)};"undefined"!=typeof window&&(window.Color=Ca);var rb,bb=Ca,ca={noop:function(){},uid:(rb=0,function(){return rb++}),isNullOrUndef:function(a){return null==a},isArray:function(a){if(Array.isArray&&Array.isArray(a))return!0;a=Object.prototype.toString.call(a);
return"[object"===a.substr(0,7)&&"Array]"===a.substr(-6)},isObject:function(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)},isFinite:function(a){return("number"==typeof a||a instanceof Number)&&isFinite(a)},valueOrDefault:function(a,c){return void 0===a?c:a},valueAtIndexOrDefault:function(a,c,d){return ca.valueOrDefault(ca.isArray(a)?a[c]:a,d)},callback:function(a,c,d){if(a&&"function"==typeof a.call)return a.apply(d,c)},each:function(a,c,d,e){var f,k;if(ca.isArray(a))if(f=
a.length,e)for(e=f-1;0<=e;e--)c.call(d,a[e],e);else for(e=0;e<f;e++)c.call(d,a[e],e);else if(ca.isObject(a))for(f=(k=Object.keys(a)).length,e=0;e<f;e++)c.call(d,a[k[e]],k[e])},arrayEquals:function(a,c){var d,e,f;if(!a||!c||a.length!==c.length)return!1;var k=0;for(d=a.length;k<d;++k)if(e=a[k],f=c[k],e instanceof Array&&f instanceof Array){if(!ca.arrayEquals(e,f))return!1}else if(e!==f)return!1;return!0},clone:function(a){if(ca.isArray(a))return a.map(ca.clone);if(ca.isObject(a)){for(var c={},d=Object.keys(a),
e=d.length,f=0;f<e;++f)c[d[f]]=ca.clone(a[d[f]]);return c}return a},_merger:function(a,c,d,e){var f=c[a];d=d[a];ca.isObject(f)&&ca.isObject(d)?ca.merge(f,d,e):c[a]=ca.clone(d)},_mergerIf:function(a,c,d){var e=c[a];d=d[a];ca.isObject(e)&&ca.isObject(d)?ca.mergeIf(e,d):c.hasOwnProperty(a)||(c[a]=ca.clone(d))},merge:function(a,c,d){var e,f,k,h=ca.isArray(c)?c:[c],w=h.length;if(!ca.isObject(a))return a;var l=(d=d||{}).merger||ca._merger;for(e=0;e<w;++e)if(c=h[e],ca.isObject(c)){var m=0;for(k=(f=Object.keys(c)).length;m<
k;++m)l(f[m],a,c,d)}return a},mergeIf:function(a,c){return ca.merge(a,c,{merger:ca._mergerIf})},extend:function(a){for(var c=function(c,d){a[d]=c},d=1,e=arguments.length;d<e;++d)ca.each(arguments[d],c);return a},inherits:function(a){var c=this,d=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return c.apply(this,arguments)},e=function(){this.constructor=d};return e.prototype=c.prototype,d.prototype=new e,d.extend=ca.inherits,a&&ca.extend(d.prototype,a),d.__super__=c.prototype,d}},Wa=ca;
ca.callCallback=ca.callback;ca.indexOf=function(a,c,d){return Array.prototype.indexOf.call(a,c,d)};ca.getValueOrDefault=ca.valueOrDefault;ca.getValueAtIndexOrDefault=ca.valueAtIndexOrDefault;var ya={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return 1>(a/=.5)?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return 1>(a/=.5)?.5*a*
a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-(--a*a*a*a-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return--a*a*a*a*a+1},easeInOutQuint:function(a){return 1>(a/=.5)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return 1-Math.cos(Math.PI/2*a)},easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*
a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return 1<=a?a:-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1- --a*a)},easeInOutCirc:function(a){return 1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var c=1.70158,d=0,e=1;return 0===
a?0:1===a?1:(d||(d=.3),1>e?(e=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/e),-e*Math.pow(2,10*--a)*Math.sin(2*(a-c)*Math.PI/d))},easeOutElastic:function(a){var c=1.70158,d=0,e=1;return 0===a?0:1===a?1:(d||(d=.3),1>e?(e=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/e),e*Math.pow(2,-10*a)*Math.sin(2*(a-c)*Math.PI/d)+1)},easeInOutElastic:function(a){var c=1.70158,d=0,e=1;return 0===a?0:2==(a/=.5)?1:(d||(d=.45),1>e?(e=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/e),1>a?e*Math.pow(2,10*--a)*Math.sin(2*(a-c)*Math.PI/d)*-.5:e*
Math.pow(2,-10*--a)*Math.sin(2*(a-c)*Math.PI/d)*.5+1)},easeInBack:function(a){return a*a*(2.70158*a-1.70158)},easeOutBack:function(a){return--a*a*(2.70158*a+1.70158)+1},easeInOutBack:function(a){var c=1.70158;return 1>(a/=.5)?a*a*((1+(c*=1.525))*a-c)*.5:.5*((a-=2)*a*((1+(c*=1.525))*a+c)+2)},easeInBounce:function(a){return 1-ya.easeOutBounce(1-a)},easeOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*
a+.984375},easeInOutBounce:function(a){return.5>a?.5*ya.easeInBounce(2*a):.5*ya.easeOutBounce(2*a-1)+.5}},Wb={effects:ya};Wa.easingEffects=ya;var Ka=Math.PI,Ib=Ka/180,Bb=2*Ka,Ta=Ka/2,sb=Ka/4,fb=2*Ka/3,gb={clear:function(a){a.ctx.clearRect(0,0,a.width,a.height)},roundedRect:function(a,c,d,e,f,k){if(k){k=Math.min(k,f/2,e/2);var h=c+k,w=d+k;e=c+e-k;f=d+f-k;a.moveTo(c,w);h<e&&w<f?(a.arc(h,w,k,-Ka,-Ta),a.arc(e,w,k,-Ta,0),a.arc(e,f,k,0,Ta),a.arc(h,f,k,Ta,Ka)):h<e?(a.moveTo(h,d),a.arc(e,w,k,-Ta,Ta),a.arc(h,
w,k,Ta,Ka+Ta)):w<f?(a.arc(h,w,k,-Ka,0),a.arc(h,f,k,0,Ka)):a.arc(h,w,k,-Ka,Ka);a.closePath();a.moveTo(c,d)}else a.rect(c,d,e,f)},drawPoint:function(a,c,d,e,f,k){var h,l=(k||0)*Ib;if(!c||"object"!=typeof c||"[object HTMLImageElement]"!==(h=c.toString())&&"[object HTMLCanvasElement]"!==h){if(!(isNaN(d)||0>=d)){switch(a.beginPath(),c){default:a.arc(e,f,d,0,Bb);a.closePath();break;case "triangle":a.moveTo(e+Math.sin(l)*d,f-Math.cos(l)*d);l+=fb;a.lineTo(e+Math.sin(l)*d,f-Math.cos(l)*d);l+=fb;a.lineTo(e+
Math.sin(l)*d,f-Math.cos(l)*d);a.closePath();break;case "rectRounded":k=d-(d*=.516);c=Math.cos(l+sb)*k;k*=Math.sin(l+sb);a.arc(e-c,f-k,d,l-Ka,l-Ta);a.arc(e+k,f-c,d,l-Ta,l);a.arc(e+c,f+k,d,l,l+Ta);a.arc(e-k,f+c,d,l+Ta,l+Ka);a.closePath();break;case "rect":if(!k){k=Math.SQRT1_2*d;a.rect(e-k,f-k,2*k,2*k);break}l+=sb;case "rectRot":c=Math.cos(l)*d;k=Math.sin(l)*d;a.moveTo(e-c,f-k);a.lineTo(e+k,f-c);a.lineTo(e+c,f+k);a.lineTo(e-k,f+c);a.closePath();break;case "crossRot":l+=sb;case "cross":c=Math.cos(l)*
d;k=Math.sin(l)*d;a.moveTo(e-c,f-k);a.lineTo(e+c,f+k);a.moveTo(e+k,f-c);a.lineTo(e-k,f+c);break;case "star":c=Math.cos(l)*d;k=Math.sin(l)*d;a.moveTo(e-c,f-k);a.lineTo(e+c,f+k);a.moveTo(e+k,f-c);a.lineTo(e-k,f+c);l+=sb;c=Math.cos(l)*d;k=Math.sin(l)*d;a.moveTo(e-c,f-k);a.lineTo(e+c,f+k);a.moveTo(e+k,f-c);a.lineTo(e-k,f+c);break;case "line":c=Math.cos(l)*d;k=Math.sin(l)*d;a.moveTo(e-c,f-k);a.lineTo(e+c,f+k);break;case "dash":a.moveTo(e,f),a.lineTo(e+Math.cos(l)*d,f+Math.sin(l)*d)}a.fill();a.stroke()}}else a.drawImage(c,
e-c.width/2,f-c.height/2,c.width,c.height)},_isPointInArea:function(a,c){return a.x>c.left-1E-6&&a.x<c.right+1E-6&&a.y>c.top-1E-6&&a.y<c.bottom+1E-6},clipArea:function(a,c){a.save();a.beginPath();a.rect(c.left,c.top,c.right-c.left,c.bottom-c.top);a.clip()},unclipArea:function(a){a.restore()},lineTo:function(a,c,d,e){var f=d.steppedLine;f?("middle"===f?(f=(c.x+d.x)/2,a.lineTo(f,e?d.y:c.y),a.lineTo(f,e?c.y:d.y)):"after"===f&&!e||"after"!==f&&e?a.lineTo(c.x,d.y):a.lineTo(d.x,c.y),a.lineTo(d.x,d.y)):
d.tension?a.bezierCurveTo(e?c.controlPointPreviousX:c.controlPointNextX,e?c.controlPointPreviousY:c.controlPointNextY,e?d.controlPointNextX:d.controlPointPreviousX,e?d.controlPointNextY:d.controlPointPreviousY,d.x,d.y):a.lineTo(d.x,d.y)}};Wa.clear=gb.clear;Wa.drawRoundedRectangle=function(a){a.beginPath();gb.roundedRect.apply(gb,arguments)};var fc={_set:function(a,c){return Wa.merge(this[a]||(this[a]={}),c)}};fc._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var O=fc,Jb=Wa.valueOrDefault,y=Wa;y.easing=Wb;y.canvas=gb;y.options={toLineHeight:function(a,c){var d=(""+a).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!d||"normal"===d[1])return 1.2*c;switch(a=+d[2],d[3]){case "px":return a;case "%":a/=100}return c*a},toPadding:function(a){var c,d,e,f;return Wa.isObject(a)?(c=+a.top||0,d=+a.right||0,e=+a.bottom||0,f=+a.left||0):c=d=e=f=+a||0,{top:c,right:d,bottom:e,left:f,height:c+
e,width:f+d}},_parseFont:function(a){var c=O.global,d=Jb(a.fontSize,c.defaultFontSize);a={family:Jb(a.fontFamily,c.defaultFontFamily),lineHeight:Wa.options.toLineHeight(Jb(a.lineHeight,c.defaultLineHeight),d),size:d,style:Jb(a.fontStyle,c.defaultFontStyle),weight:null,string:""};c=!a||Wa.isNullOrUndef(a.size)||Wa.isNullOrUndef(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family;return a.string=c,a},resolve:function(a,c,d){var e,f;var k=0;for(e=a.length;k<e;++k)if(void 0!==
(f=a[k])&&(void 0!==c&&"function"==typeof f&&(f=f(c)),void 0!==d&&Wa.isArray(f)&&(f=f[d]),void 0!==f))return f}};var Ia=function(a){y.extend(this,a);this.initialize.apply(this,arguments)};y.extend(Ia.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=y.clone(this._model)),this._start={},this},transition:function(a){var c=this._model,d=this._start,e=this._view;if(c&&1!==a){e||(e=this._view={});d||(d=this._start={});var f,k,h,l,w,m,n=Object.keys(c);var u=
0;for(f=n.length;u<f;++u)if(l=c[k=n[u]],e.hasOwnProperty(k)||(e[k]=l),(h=e[k])!==l&&"_"!==k[0]){if(d.hasOwnProperty(k)||(d[k]=h),(w=typeof l)==typeof(h=d[k]))if("string"===w){if((h=bb(h)).valid&&(m=bb(l)).valid){e[k]=m.mix(h,a).rgbString();continue}}else if(y.isFinite(h)&&y.isFinite(l)){e[k]=h+(l-h)*a;continue}e[k]=l}a=this}else a=(this._view=c,this._start=null,this);return a},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return y.isNumber(this._model.x)&&
y.isNumber(this._model.y)}});Ia.extend=y.inherits;var kb=Ia.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null});Object.defineProperty(kb.prototype,"animationObject",{get:function(){return this}});Object.defineProperty(kb.prototype,"chartInstance",{get:function(){return this.chart},set:function(a){this.chart=a}});O._set("global",{animation:{duration:1E3,easing:"easeOutQuart",onProgress:y.noop,onComplete:y.noop}});var gc={animations:[],
request:null,addAnimation:function(a,c,d,e){var f=this.animations;c.chart=a;c.startTime=Date.now();c.duration=d;e||(a.animating=!0);d=0;for(e=f.length;d<e;++d)if(f[d].chart===a)return void(f[d]=c);f.push(c);1===f.length&&this.requestAnimationFrame()},cancelAnimation:function(a){var c=y.findIndex(this.animations,function(c){return c.chart===a});-1!==c&&(this.animations.splice(c,1),a.animating=!1)},requestAnimationFrame:function(){var a=this;null===a.request&&(a.request=y.requestAnimFrame.call(window,
function(){a.request=null;a.startDigest()}))},startDigest:function(){this.advance();0<this.animations.length&&this.requestAnimationFrame()},advance:function(){for(var a,c,d,e,f=this.animations,k=0;k<f.length;)c=(a=f[k]).chart,d=a.numSteps,e=Math.floor((Date.now()-a.startTime)/a.duration*d)+1,a.currentStep=Math.min(e,d),y.callback(a.render,[c,a],c),y.callback(a.onAnimationProgress,[a],c),a.currentStep>=d?(y.callback(a.onAnimationComplete,[a],c),c.animating=!1,f.splice(k,1)):++k}},ka=y.options.resolve,
Nb=["push","pop","shift","splice","unshift"],hb=function(a,c){this.initialize(a,c)};y.extend(hb.prototype,{datasetElementType:null,dataElementType:null,initialize:function(a,c){this.chart=a;this.index=c;this.linkScales();this.addElements()},updateIndex:function(a){this.index=a},linkScales:function(){var a=this.getMeta(),c=this.getDataset();null!==a.xAxisID&&a.xAxisID in this.chart.scales||(a.xAxisID=c.xAxisID||this.chart.options.scales.xAxes[0].id);null!==a.yAxisID&&a.yAxisID in this.chart.scales||
(a.yAxisID=c.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(a){return this.chart.scales[a]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},
reset:function(){this.update(!0)},destroy:function(){this._data&&N(this._data,this)},createMetaDataset:function(){var a=this.datasetElementType;return a&&new a({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(a){var c=this.dataElementType;return c&&new c({_chart:this.chart,_datasetIndex:this.index,_index:a})},addElements:function(){var a=this.getMeta();var c=this.getDataset().data||[];var d=a.data;var e=0;for(c=c.length;e<c;++e)d[e]=d[e]||this.createMetaData(e);a.dataset=a.dataset||
this.createMetaDataset()},addElementAndReset:function(a){var c=this.createMetaData(a);this.getMeta().data.splice(a,0,c);this.updateElement(c,a,!0)},buildOrUpdateElements:function(){var a=this.getDataset(),c=a.data||(a.data=[]);this._data!==c&&(this._data&&N(this._data,this),c&&Object.isExtensible(c)&&(c._chartjs?c._chartjs.listeners.push(this):(Object.defineProperty(c,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),Nb.forEach(function(a){var d="onData"+a.charAt(0).toUpperCase()+
a.slice(1),e=c[a];Object.defineProperty(c,a,{configurable:!0,enumerable:!1,value:function(){var a=Array.prototype.slice.call(arguments),f=e.apply(this,a);return y.each(c._chartjs.listeners,function(c){"function"==typeof c[d]&&c[d].apply(c,a)}),f}})}))),this._data=c);this.resyncElements()},update:y.noop,transition:function(a){for(var c=this.getMeta(),d=c.data||[],e=d.length,f=0;f<e;++f)d[f].transition(a);c.dataset&&c.dataset.transition(a)},draw:function(){var a=this.getMeta(),c=a.data||[],d=c.length,
e=0;for(a.dataset&&a.dataset.draw();e<d;++e)c[e].draw()},removeHoverStyle:function(a){y.merge(a._model,a.$previousStyle||{});delete a.$previousStyle},setHoverStyle:function(a){var c=this.chart.data.datasets[a._datasetIndex],d=a._index,e=a.custom||{},f=a._model,k=y.getHoverColor;a.$previousStyle={backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth};f.backgroundColor=ka([e.hoverBackgroundColor,c.hoverBackgroundColor,k(f.backgroundColor)],void 0,d);f.borderColor=ka([e.hoverBorderColor,
c.hoverBorderColor,k(f.borderColor)],void 0,d);f.borderWidth=ka([e.hoverBorderWidth,c.hoverBorderWidth,f.borderWidth],void 0,d)},resyncElements:function(){var a=this.getMeta(),c=this.getDataset().data,d=a.data.length;c=c.length;c<d?a.data.splice(c,d-c):c>d&&this.insertElements(d,c-d)},insertElements:function(a,c){for(var d=0;d<c;++d)this.addElementAndReset(a+d)},onDataPush:function(){var a=arguments.length;this.insertElements(this.getDataset().data.length-a,a)},onDataPop:function(){this.getMeta().data.pop()},
onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(a,c){this.getMeta().data.splice(a,c);this.insertElements(a,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}});hb.extend=y.inherits;O._set("global",{elements:{arc:{backgroundColor:O.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var hc=Ia.extend({inLabelRange:function(a){var c=this._view;return!!c&&Math.pow(a-c.x,2)<Math.pow(c.radius+c.hoverRadius,2)},inRange:function(a,
c){var d=this._view;if(d){c=y.getAngleFromPoint(d,{x:a,y:c});a=c.angle;var e=c.distance;c=d.startAngle;for(var f=d.endAngle;f<c;)f+=2*Math.PI;for(;a>f;)a-=2*Math.PI;for(;a<c;)a+=2*Math.PI;d=e>=d.innerRadius&&e<=d.outerRadius;return a>=c&&a<=f&&d}return!1},getCenterPoint:function(){var a=this._view,c=(a.startAngle+a.endAngle)/2,d=(a.innerRadius+a.outerRadius)/2;return{x:a.x+Math.cos(c)*d,y:a.y+Math.sin(c)*d}},getArea:function(){var a=this._view;return(a.endAngle-a.startAngle)/(2*Math.PI)*Math.PI*(Math.pow(a.outerRadius,
2)-Math.pow(a.innerRadius,2))},tooltipPosition:function(){var a=this._view,c=a.startAngle+(a.endAngle-a.startAngle)/2,d=(a.outerRadius-a.innerRadius)/2+a.innerRadius;return{x:a.x+Math.cos(c)*d,y:a.y+Math.sin(c)*d}},draw:function(){var a,c=this._chart.ctx,d=this._view,e=d.startAngle,f=d.endAngle,k="inner"===d.borderAlign?.33:0;c.save();c.beginPath();c.arc(d.x,d.y,Math.max(d.outerRadius-k,0),e,f);c.arc(d.x,d.y,d.innerRadius,f,e,!0);c.closePath();c.fillStyle=d.backgroundColor;c.fill();d.borderWidth&&
("inner"===d.borderAlign?(c.beginPath(),a=k/d.outerRadius,c.arc(d.x,d.y,d.outerRadius,e-a,f+a),d.innerRadius>k?(a=k/d.innerRadius,c.arc(d.x,d.y,d.innerRadius-k,f+a,e-a,!0)):c.arc(d.x,d.y,k,f+Math.PI/2,e-Math.PI/2),c.closePath(),c.clip(),c.beginPath(),c.arc(d.x,d.y,d.outerRadius,e,f),c.arc(d.x,d.y,d.innerRadius,f,e,!0),c.closePath(),c.lineWidth=2*d.borderWidth,c.lineJoin="round"):(c.lineWidth=d.borderWidth,c.lineJoin="bevel"),c.strokeStyle=d.borderColor,c.stroke());c.restore()}}),Eb=y.valueOrDefault,
Fb=O.global.defaultColor;O._set("global",{elements:{line:{tension:.4,backgroundColor:Fb,borderWidth:3,borderColor:Fb,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Zb=Ia.extend({draw:function(){var a=this._view;var c=this._chart.ctx,d=a.spanGaps,e=this._children.slice();var f=O.global;var k=f.elements.line;this._loop&&e.length&&e.push(e[0]);c.save();c.lineCap=a.borderCapStyle||k.borderCapStyle;c.setLineDash&&c.setLineDash(a.borderDash||
k.borderDash);c.lineDashOffset=Eb(a.borderDashOffset,k.borderDashOffset);c.lineJoin=a.borderJoinStyle||k.borderJoinStyle;c.lineWidth=Eb(a.borderWidth,k.borderWidth);c.strokeStyle=a.borderColor||f.defaultColor;c.beginPath();var h=-1;for(a=0;a<e.length;++a){f=e[a];k=y.previousItem(e,a);var l=f._view;0===a?l.skip||(c.moveTo(l.x,l.y),h=a):(k=-1===h?k:e[h],l.skip||(h!==a-1&&!d||-1===h?c.moveTo(l.x,l.y):y.canvas.lineTo(c,k._view,f._view),h=a))}c.stroke();c.restore()}}),nb=y.valueOrDefault,tb=O.global.defaultColor;
O._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:tb,borderColor:tb,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Vb=Ia.extend({inRange:function(a,c){var d=this._view;return!!d&&Math.pow(a-d.x,2)+Math.pow(c-d.y,2)<Math.pow(d.hitRadius+d.radius,2)},inLabelRange:Y,inXRange:Y,inYRange:function(a){var c=this._view;return!!c&&Math.abs(a-c.y)<c.radius+c.hitRadius},getCenterPoint:function(){var a=this._view;return{x:a.x,y:a.y}},getArea:function(){return Math.PI*
Math.pow(this._view.radius,2)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y,padding:a.radius+a.borderWidth}},draw:function(a){var c=this._view,d=this._chart.ctx,e=c.pointStyle,f=c.rotation,k=c.radius,h=c.x,l=c.y,w=O.global,m=w.defaultColor;c.skip||(void 0===a||y.canvas._isPointInArea(c,a))&&(d.strokeStyle=c.borderColor||m,d.lineWidth=nb(c.borderWidth,w.elements.point.borderWidth),d.fillStyle=c.backgroundColor||m,y.canvas.drawPoint(d,e,k,h,l,f))}}),Ea=O.global.defaultColor;O._set("global",
{elements:{rectangle:{backgroundColor:Ea,borderColor:Ea,borderSkipped:"bottom",borderWidth:0}}});var T={},Ua=Ia.extend({draw:function(){var a,c,d=this._chart.ctx,e=this._view,f=W(e),k=f.right-f.left,h=f.bottom-f.top;var l=k/2;var m=h/2,n,u,q=e.borderWidth;var t=e.borderSkipped;var p={};t?(e.horizontal?e.base>e.x&&(t="left"===t?"right":"right"===t?"left":t):e.base<e.y&&(t="bottom"===t?"top":"top"===t?"bottom":t),t=(p[t]=!0,p)):t=p;l=(y.isObject(q)?(a=+q.top||0,c=+q.right||0,n=+q.bottom||0,u=+q.left||
0):a=c=n=u=+q||0,{t:t.top||0>a?0:a>m?m:a,r:t.right||0>c?0:c>l?l:c,b:t.bottom||0>n?0:n>m?m:n,l:t.left||0>u?0:u>l?l:u});a=f.left;c=f.top;n=f.left+l.l;f=f.top+l.t;u=k-l.l-l.r;l=h-l.t-l.b;d.fillStyle=e.backgroundColor;d.fillRect(a,c,k,h);k===u&&h===l||(d.save(),d.beginPath(),d.rect(a,c,k,h),d.clip(),d.fillStyle=e.borderColor,d.rect(n,f,u,l),d.fill("evenodd"),d.restore())},height:function(){var a=this._view;return a.base-a.y},inRange:function(a,c){return ha(this._view,a,c)},inLabelRange:function(a,c){var d=
this._view;return P(d)?ha(d,a,null):ha(d,null,c)},inXRange:function(a){return ha(this._view,a,null)},inYRange:function(a){return ha(this._view,null,a)},getCenterPoint:function(){var a,c,d=this._view;return P(d)?(a=d.x,c=(d.y+d.base)/2):(a=(d.x+d.base)/2,c=d.y),{x:a,y:c}},getArea:function(){var a=this._view;return P(a)?a.width*Math.abs(a.y-a.base):a.height*Math.abs(a.x-a.base)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y}}});T.Arc=hc;T.Line=Zb;T.Point=Vb;T.Rectangle=Ua;var Ob=y.options.resolve;
O._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var Ma=hb.extend({dataElementType:T.Rectangle,initialize:function(){var a;hb.prototype.initialize.apply(this,arguments);(a=this.getMeta()).stack=this.getDataset().stack;a.bar=!0},update:function(a){var c,d=this.getMeta().data;this._ruler=this.getRuler();var e=0;for(c=d.length;e<c;++e)this.updateElement(d[e],e,a)},updateElement:function(a,
c,d){var e=this.getMeta(),f=this.getDataset(),k=this._resolveElementOptions(a,c);a._xScale=this.getScaleForId(e.xAxisID);a._yScale=this.getScaleForId(e.yAxisID);a._datasetIndex=this.index;a._index=c;a._model={backgroundColor:k.backgroundColor,borderColor:k.borderColor,borderSkipped:k.borderSkipped,borderWidth:k.borderWidth,datasetLabel:f.label,label:this.chart.data.labels[c]};this._updateElementGeometry(a,c,d);a.pivot()},_updateElementGeometry:function(a,c,d){a=a._model;var e=this._getValueScale(),
f=e.getBasePixel();e=e.isHorizontal();var k=this._ruler||this.getRuler(),h=this.calculateBarValuePixels(this.index,c);c=this.calculateBarIndexPixels(this.index,c,k);a.horizontal=e;a.base=d?f:h.base;a.x=e?d?f:h.head:c.center;a.y=e?c.center:d?f:h.head;a.height=e?c.size:void 0;a.width=e?void 0:c.size},_getStacks:function(a){var c,d=this.chart,e=this._getIndexScale().options.stacked,f=void 0===a?d.data.datasets.length:a+1,k=[];for(a=0;a<f;++a)(c=d.getDatasetMeta(a)).bar&&d.isDatasetVisible(a)&&(!1===
e||!0===e&&-1===k.indexOf(c.stack)||void 0===e&&(void 0===c.stack||-1===k.indexOf(c.stack)))&&k.push(c.stack);return k},getStackCount:function(){return this._getStacks().length},getStackIndex:function(a,c){a=this._getStacks(a);c=void 0!==c?a.indexOf(c):-1;return-1===c?a.length-1:c},getRuler:function(){var a,c=this._getIndexScale(),d=this.getStackCount(),e=this.index,f=c.isHorizontal(),k=f?c.left:c.top;f=k+(f?c.width:c.height);var h=[];var l=0;for(a=this.getMeta().data.length;l<a;++l)h.push(c.getPixelForValue(null,
l,e));if(y.isNullOrUndef(c.options.barThickness)){a=c.isHorizontal()?c.width:c.height;var m=c.getTicks();e=1;for(l=h.length;e<l;++e)a=Math.min(a,Math.abs(h[e]-h[e-1]));e=0;for(l=m.length;e<l;++e){m=c.getPixelForTick(e);a=0<e?Math.min(a,m-n):a;var n=m}n=a}else n=-1;return{min:n,pixels:h,start:k,end:f,stackCount:d,scale:c}},calculateBarValuePixels:function(a,c){var d,e,f,k,h,l=this.chart,m=this.getMeta(),w=this._getValueScale(),n=w.isHorizontal(),u=l.data.datasets,q=+w.getRightValue(u[a].data[c]),J=
w.options.minBarLength;var t=w.options.stacked;m=m.stack;var p=0;if(t||void 0===t&&void 0!==m)for(t=0;t<a;++t)(d=l.getDatasetMeta(t)).bar&&d.stack===m&&d.controller._getValueScaleId()===w.id&&l.isDatasetVisible(t)&&(e=+w.getRightValue(u[t].data[c]),(0>q&&0>e||0<=q&&0<e)&&(p+=e));return f=w.getPixelForValue(p),h=(k=w.getPixelForValue(p+q))-f,void 0!==J&&Math.abs(h)<J&&(h=J,k=0<=q&&!n||0>q&&n?f-J:f+J),{size:h,base:f,head:k,center:k+h/2}},calculateBarIndexPixels:function(a,c,d){var e=d.scale.options;
c="flex"===e.barThickness?function(a,c,d){var e,f=c.pixels,k=f[a],h=0<a?f[a-1]:null;a=a<f.length-1?f[a+1]:null;f=d.categoryPercentage;return null===h&&(h=k-(null===a?c.end-c.start:a-k)),null===a&&(a=k+k-h),e=k-(k-Math.min(h,a))/2*f,{chunk:Math.abs(a-h)/2*f/c.stackCount,ratio:d.barPercentage,start:e}}(c,d,e):function(a,c,d){var e,f,k=d.barThickness,h=c.stackCount;a=c.pixels[a];return y.isNullOrUndef(k)?(e=c.min*d.categoryPercentage,f=d.barPercentage):(e=k*h,f=1),{chunk:e/h,ratio:f,start:a-e/2}}(c,
d,e);a=this.getStackIndex(a,this.getMeta().stack);a=c.start+c.chunk*a+c.chunk/2;e=Math.min(y.valueOrDefault(e.maxBarThickness,1/0),c.chunk*c.ratio);return{base:a-e/2,head:a+e/2,center:a,size:e}},draw:function(){var a=this.chart,c=this._getValueScale(),d=this.getMeta().data,e=this.getDataset(),f=d.length,k=0;for(y.canvas.clipArea(a.ctx,a.chartArea);k<f;++k)isNaN(c.getRightValue(e.data[k]))||d[k].draw();y.canvas.unclipArea(a.ctx)},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var k=
f.data.datasets[this.index];a=a.custom||{};var h=f.options.elements.rectangle,l={},m={chart:f,dataIndex:c,dataset:k,datasetIndex:this.index},w=["backgroundColor","borderColor","borderSkipped","borderWidth"];f=0;for(d=w.length;f<d;++f)l[e=w[f]]=Ob([a[e],k[e],h[e]],m,c);return l}}),ub=y.valueOrDefault,Fa=y.options.resolve;O._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},
label:function(a,c){return(c.datasets[a.datasetIndex].label||"")+": ("+a.xLabel+", "+a.yLabel+", "+c.datasets[a.datasetIndex].data[a.index].r+")"}}}});var vb=hb.extend({dataElementType:T.Point,update:function(a){var c=this,d=c.getMeta().data;y.each(d,function(d,e){c.updateElement(d,e,a)})},updateElement:function(a,c,d){var e=this.getMeta(),f=a.custom||{},k=this.getScaleForId(e.xAxisID);e=this.getScaleForId(e.yAxisID);var h=this._resolveElementOptions(a,c),l=this.getDataset().data[c],m=this.index,
w=d?k.getPixelForDecimal(.5):k.getPixelForValue("object"==typeof l?l:NaN,c,m);l=d?e.getBasePixel():e.getPixelForValue(l,c,m);a._xScale=k;a._yScale=e;a._options=h;a._datasetIndex=m;a._index=c;a._model={backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:h.borderWidth,hitRadius:h.hitRadius,pointStyle:h.pointStyle,rotation:h.rotation,radius:d?0:h.radius,skip:f.skip||isNaN(w)||isNaN(l),x:w,y:l};a.pivot()},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor;a.$previousStyle=
{backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius};c.backgroundColor=ub(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=ub(d.hoverBorderColor,e(d.borderColor));c.borderWidth=ub(d.hoverBorderWidth,d.borderWidth);c.radius=d.radius+d.hoverRadius},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var k=f.data.datasets[this.index];a=a.custom||{};var h=f.options.elements.point,l=k.data[c],m={},w={chart:f,dataIndex:c,dataset:k,datasetIndex:this.index},
n="backgroundColor borderColor borderWidth hoverBackgroundColor hoverBorderColor hoverBorderWidth hoverRadius hitRadius pointStyle rotation".split(" ");f=0;for(d=n.length;f<d;++f)m[e=n[f]]=Fa([a[e],k[e],h[e]],w,c);return m.radius=Fa([a.radius,l?l.r:void 0,k.radius,h.radius],w,c),m}}),la=y.options.resolve,ib=y.valueOrDefault;O._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(a){var c=[];c.push('<ul class="'+a.id+'-legend">');var d=a.data;a=
d.datasets;d=d.labels;if(a.length)for(var e=0;e<a[0].data.length;++e)c.push('<li><span style="background-color:'+a[0].backgroundColor[e]+'"></span>'),d[e]&&c.push(d[e]),c.push("</li>");return c.push("</ul>"),c.join("")},legend:{labels:{generateLabels:function(a){var c=a.data;return c.labels.length&&c.datasets.length?c.labels.map(function(d,e){var f=a.getDatasetMeta(0),k=c.datasets[0],h=f.data[e];h=h&&h.custom||{};var l=a.options.elements.arc;return{text:d,fillStyle:la([h.backgroundColor,k.backgroundColor,
l.backgroundColor],void 0,e),strokeStyle:la([h.borderColor,k.borderColor,l.borderColor],void 0,e),lineWidth:la([h.borderWidth,k.borderWidth,l.borderWidth],void 0,e),hidden:isNaN(k.data[e])||f.data[e].hidden,index:e}}):[]}},onClick:function(a,c){var d,e=c.index,f=this.chart;a=0;for(c=(f.data.datasets||[]).length;a<c;++a)(d=f.getDatasetMeta(a)).data[e]&&(d.data[e].hidden=!d.data[e].hidden);f.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},
label:function(a,c){var d=c.labels[a.index];a=": "+c.datasets[a.datasetIndex].data[a.index];return y.isArray(d)?(d=d.slice())[0]+=a:d+=a,d}}}});var Gb=hb.extend({dataElementType:T.Arc,linkScales:y.noop,getRingIndex:function(a){for(var c=0,d=0;d<a;++d)this.chart.isDatasetVisible(d)&&++c;return c},update:function(a){var c=this.chart,d=c.chartArea,e=c.options;var f=d.right-d.left;var k=d.bottom-d.top;var h=Math.min(f,k),l=0,m=0;d=this.getMeta();var n=d.data,w=e.cutoutPercentage,u=e.circumference,q=this._getRingWeight(this.index);
if(u<2*Math.PI){h=e.rotation%(2*Math.PI);e=(h+=2*Math.PI*(h>=Math.PI?-1:h<-Math.PI?1:0))+u;var t=Math.cos(h);u=Math.sin(h);var p=Math.cos(e),A=Math.sin(e),B=w/100;l=h<=-Math.PI&&-Math.PI<=e||h<=Math.PI&&Math.PI<=e?-1:Math.min(t*(0>t?1:B),p*(0>p?1:B));m=h<=.5*-Math.PI&&.5*-Math.PI<=e||h<=1.5*Math.PI&&1.5*Math.PI<=e?-1:Math.min(u*(0>u?1:B),A*(0>A?1:B));t=0>=h&&0<=e||h<=2*Math.PI&&2*Math.PI<=e?1:Math.max(t*(0<t?1:B),p*(0<p?1:B));e=h<=.5*Math.PI&&.5*Math.PI<=e||h<=2.5*Math.PI&&2.5*Math.PI<=e?1:Math.max(u*
(0<u?1:B),A*(0<A?1:B));h=Math.min(f/(.5*(t-l)),k/(.5*(e-m)));l=-.5*(t+l);m=-.5*(e+m)}f=0;for(k=n.length;f<k;++f)n[f]._options=this._resolveElementOptions(n[f],f);c.borderWidth=this.getMaxBorderWidth();c.outerRadius=Math.max((h-c.borderWidth)/2,0);c.innerRadius=Math.max(w?c.outerRadius/100*w:0,0);c.radiusLength=(c.outerRadius-c.innerRadius)/(this._getVisibleDatasetWeightTotal()||1);c.offsetX=l*c.outerRadius;c.offsetY=m*c.outerRadius;d.total=this.calculateTotal();this.outerRadius=c.outerRadius-c.radiusLength*
this._getRingWeightOffset(this.index);this.innerRadius=Math.max(this.outerRadius-c.radiusLength*q,0);f=0;for(k=n.length;f<k;++f)this.updateElement(n[f],f,a)},updateElement:function(a,c,d){var e=this.chart,f=e.chartArea,k=e.options,h=k.animation,l=(f.left+f.right)/2;f=(f.top+f.bottom)/2;var m=k.rotation,n=k.rotation,w=this.getDataset(),u=d&&h.animateRotate?0:a.hidden?0:this.calculateCircumference(w.data[c])*(k.circumference/(2*Math.PI)),q=a._options||{};y.extend(a,{_datasetIndex:this.index,_index:c,
_model:{backgroundColor:q.backgroundColor,borderColor:q.borderColor,borderWidth:q.borderWidth,borderAlign:q.borderAlign,x:l+e.offsetX,y:f+e.offsetY,startAngle:m,endAngle:n,circumference:u,outerRadius:d&&h.animateScale?0:this.outerRadius,innerRadius:d&&h.animateScale?0:this.innerRadius,label:y.valueAtIndexOrDefault(w.label,c,e.data.labels[c])}});e=a._model;d&&h.animateRotate||(e.startAngle=0===c?k.rotation:this.getMeta().data[c-1]._model.endAngle,e.endAngle=e.startAngle+e.circumference);a.pivot()},
calculateTotal:function(){var a,c=this.getDataset(),d=this.getMeta(),e=0;return y.each(d.data,function(d,f){a=c.data[f];isNaN(a)||d.hidden||(e+=Math.abs(a))}),e},calculateCircumference:function(a){var c=this.getMeta().total;return 0<c&&!isNaN(a)?Math.abs(a)/c*Math.PI*2:0},getMaxBorderWidth:function(a){var c,d,e,f,k,h=0;var l=this.chart;if(!a){var m=0;for(c=l.data.datasets.length;m<c;++m)if(l.isDatasetVisible(m)){a=(c=l.getDatasetMeta(m)).data;m!==this.index&&(d=c.controller);break}}if(!a)return 0;
m=0;for(c=a.length;m<c;++m)l=a[m],"inner"!==(e=d?d._resolveElementOptions(l,m):l._options).borderAlign&&(f=e.borderWidth,h=(k=e.hoverBorderWidth)>(h=f>h?f:h)?k:h);return h},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth};c.backgroundColor=ib(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=ib(d.hoverBorderColor,e(d.borderColor));c.borderWidth=ib(d.hoverBorderWidth,
d.borderWidth)},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var k=this.getDataset();a=a.custom||{};var h=f.options.elements.arc,l={},m={chart:f,dataIndex:c,dataset:k,datasetIndex:this.index},n="backgroundColor borderColor borderWidth borderAlign hoverBackgroundColor hoverBorderColor hoverBorderWidth".split(" ");f=0;for(d=n.length;f<d;++f)l[e=n[f]]=la([a[e],k[e],h[e]],m,c);return l},_getRingWeightOffset:function(a){for(var c=0,d=0;d<a;++d)this.chart.isDatasetVisible(d)&&(c+=this._getRingWeight(d));
return c},_getRingWeight:function(a){return Math.max(ib(this.chart.data.datasets[a].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});O._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",
axis:"y"}});var za=Ma.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),sa=y.valueOrDefault,zb=y.options.resolve,$b=y.canvas._isPointInArea;O._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Pb=hb.extend({datasetElementType:T.Line,dataElementType:T.Point,update:function(a){var c=this.getMeta(),d=c.dataset,e=c.data||[];
var f=this.getScaleForId(c.yAxisID);var k=this.getDataset();(c=sa(k.showLine,this.chart.options.showLines))&&(void 0!==k.tension&&void 0===k.lineTension&&(k.lineTension=k.tension),d._scale=f,d._datasetIndex=this.index,d._children=e,d._model=this._resolveLineOptions(d),d.pivot());f=0;for(k=e.length;f<k;++f)this.updateElement(e[f],f,a);c&&0!==d._model.tension&&this.updateBezierControlPoints();f=0;for(k=e.length;f<k;++f)e[f].pivot()},updateElement:function(a,c,d){var e=this.getMeta();var f=a.custom||
{},k=this.getDataset(),h=this.index,l=k.data[c];k=this.getScaleForId(e.yAxisID);var m=this.getScaleForId(e.xAxisID),n=e.dataset._model,w=this._resolvePointOptions(a,c);e=m.getPixelForValue("object"==typeof l?l:NaN,c,h);d=d?k.getBasePixel():this.calculatePointY(l,c,h);a._xScale=m;a._yScale=k;a._options=w;a._datasetIndex=h;a._index=c;a._model={x:e,y:d,skip:f.skip||isNaN(e)||isNaN(d),radius:w.radius,pointStyle:w.pointStyle,rotation:w.rotation,backgroundColor:w.backgroundColor,borderColor:w.borderColor,
borderWidth:w.borderWidth,tension:sa(f.tension,n?n.tension:0),steppedLine:!!n&&n.steppedLine,hitRadius:w.hitRadius}},_resolvePointOptions:function(a,c){var d,e;var f=this.chart;var k=f.data.datasets[this.index];a=a.custom||{};var h=f.options.elements.point,l={},m={chart:f,dataIndex:c,dataset:k,datasetIndex:this.index},n={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",
hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},w=Object.keys(n);f=0;for(d=w.length;f<d;++f)l[e=w[f]]=zb([a[e],k[n[e]],k[e],h[e]],m,c);return l},_resolveLineOptions:function(a){var c,d;var e=this.chart;var f=e.data.datasets[this.index];a=a.custom||{};var k=e.options,h=k.elements.line,l={},m="backgroundColor borderWidth borderColor borderCapStyle borderDash borderDashOffset borderJoinStyle fill cubicInterpolationMode".split(" ");
e=0;for(c=m.length;e<c;++e)l[d=m[e]]=zb([a[d],f[d],h[d]]);return l.spanGaps=sa(f.spanGaps,k.spanGaps),l.tension=sa(f.lineTension,h.tension),l.steppedLine=zb([a.steppedLine,f.steppedLine,h.stepped]),l},calculatePointY:function(a,c,d){var e,f,k,h=this.chart,l=this.getMeta();l=this.getScaleForId(l.yAxisID);var m=0,n=0;if(l.options.stacked){for(e=0;e<d;e++)if(f=h.data.datasets[e],"line"===(k=h.getDatasetMeta(e)).type&&k.yAxisID===l.id&&h.isDatasetVisible(e))f=Number(l.getRightValue(f.data[c])),0>f?n+=
f||0:m+=f||0;a=Number(l.getRightValue(a));return 0>a?l.getPixelForValue(n+a):l.getPixelForValue(m+a)}return l.getPixelForValue(a)},updateBezierControlPoints:function(){var a,c=this.chart;var d=this.getMeta();var e=d.dataset._model,f=c.chartArea,k=d.data||[];if(e.spanGaps&&(k=k.filter(function(a){return!a._model.skip})),"monotone"===e.cubicInterpolationMode)y.splineCurveMonotone(k);else for(d=0,a=k.length;d<a;++d){var h=k[d]._model;var l=y.splineCurve(y.previousItem(k,d)._model,h,y.nextItem(k,d)._model,
e.tension);h.controlPointPreviousX=l.previous.x;h.controlPointPreviousY=l.previous.y;h.controlPointNextX=l.next.x;h.controlPointNextY=l.next.y}if(c.options.elements.line.capBezierPoints)for(d=0,a=k.length;d<a;++d)h=k[d]._model,$b(h,f)&&(0<d&&$b(k[d-1]._model,f)&&(h.controlPointPreviousX=Math.max(Math.min(h.controlPointPreviousX,f.right),f.left),h.controlPointPreviousY=Math.max(Math.min(h.controlPointPreviousY,f.bottom),f.top)),d<k.length-1&&$b(k[d+1]._model,f)&&(h.controlPointNextX=Math.max(Math.min(h.controlPointNextX,
f.right),f.left),h.controlPointNextY=Math.max(Math.min(h.controlPointNextY,f.bottom),f.top)))},draw:function(){var a,c=this.chart,d=this.getMeta(),e=d.data||[],f=c.chartArea,k=e.length,h=0,l=this.getDataset();for(sa(l.showLine,c.options.showLines)&&(a=(d.dataset._model.borderWidth||0)/2,y.canvas.clipArea(c.ctx,{left:f.left,right:f.right,top:f.top-a,bottom:f.bottom+a}),d.dataset.draw(),y.canvas.unclipArea(c.ctx));h<k;++h)e[h].draw(f)},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor;
a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius};c.backgroundColor=sa(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=sa(d.hoverBorderColor,e(d.borderColor));c.borderWidth=sa(d.hoverBorderWidth,d.borderWidth);c.radius=sa(d.hoverRadius,d.radius)}}),lb=y.options.resolve;O._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,
animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(a){var c=[];c.push('<ul class="'+a.id+'-legend">');var d=a.data;a=d.datasets;d=d.labels;if(a.length)for(var e=0;e<a[0].data.length;++e)c.push('<li><span style="background-color:'+a[0].backgroundColor[e]+'"></span>'),d[e]&&c.push(d[e]),c.push("</li>");return c.push("</ul>"),c.join("")},legend:{labels:{generateLabels:function(a){var c=a.data;return c.labels.length&&c.datasets.length?c.labels.map(function(d,e){var f=a.getDatasetMeta(0),
k=c.datasets[0],h=f.data[e].custom||{},l=a.options.elements.arc;return{text:d,fillStyle:lb([h.backgroundColor,k.backgroundColor,l.backgroundColor],void 0,e),strokeStyle:lb([h.borderColor,k.borderColor,l.borderColor],void 0,e),lineWidth:lb([h.borderWidth,k.borderWidth,l.borderWidth],void 0,e),hidden:isNaN(k.data[e])||f.data[e].hidden,index:e}}):[]}},onClick:function(a,c){var d,e=c.index,f=this.chart;a=0;for(c=(f.data.datasets||[]).length;a<c;++a)(d=f.getDatasetMeta(a)).data[e].hidden=!d.data[e].hidden;
f.update()}},tooltips:{callbacks:{title:function(){return""},label:function(a,c){return c.labels[a.index]+": "+a.yLabel}}}});var ea=hb.extend({dataElementType:T.Arc,linkScales:y.noop,update:function(a){var c=this.getDataset();var d=this.getMeta();var e=this.chart.options.startAngle||0,f=this._starts=[],k=this._angles=[],h=d.data;this._updateRadius();d.count=this.countVisibleElements();d=0;for(c=c.data.length;d<c;d++){f[d]=e;var l=this._computeAngle(d);k[d]=l;e+=l}d=0;for(c=h.length;d<c;++d)h[d]._options=
this._resolveElementOptions(h[d],d),this.updateElement(h[d],d,a)},_updateRadius:function(){var a=this.chart,c=a.chartArea,d=a.options;a.outerRadius=Math.max(Math.min(c.right-c.left,c.bottom-c.top)/2,0);a.innerRadius=Math.max(d.cutoutPercentage?a.outerRadius/100*d.cutoutPercentage:1,0);a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount();this.outerRadius=a.outerRadius-a.radiusLength*this.index;this.innerRadius=this.outerRadius-a.radiusLength},updateElement:function(a,c,d){var e=
this.chart,f=this.getDataset(),k=e.options,h=k.animation,l=e.scale;e=e.data.labels;var m=l.xCenter,n=l.yCenter;k=k.startAngle;var w=a.hidden?0:l.getDistanceFromCenterForValue(f.data[c]),u=this._starts[c],q=u+(a.hidden?0:this._angles[c]);f=h.animateScale?0:l.getDistanceFromCenterForValue(f.data[c]);var t=a._options||{};y.extend(a,{_datasetIndex:this.index,_index:c,_scale:l,_model:{backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,borderAlign:t.borderAlign,x:m,y:n,
innerRadius:0,outerRadius:d?f:w,startAngle:d&&h.animateRotate?k:u,endAngle:d&&h.animateRotate?k:q,label:y.valueAtIndexOrDefault(e,c,e[c])}});a.pivot()},countVisibleElements:function(){var a=this.getDataset(),c=this.getMeta(),d=0;return y.each(c.data,function(c,e){isNaN(a.data[e])||c.hidden||d++}),d},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor,f=y.valueOrDefault;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth};c.backgroundColor=
f(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=f(d.hoverBorderColor,e(d.borderColor));c.borderWidth=f(d.hoverBorderWidth,d.borderWidth)},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var k=this.getDataset();a=a.custom||{};var h=f.options.elements.arc,l={},m={chart:f,dataIndex:c,dataset:k,datasetIndex:this.index},n="backgroundColor borderColor borderWidth borderAlign hoverBackgroundColor hoverBorderColor hoverBorderWidth".split(" ");f=0;for(d=n.length;f<d;++f)l[e=n[f]]=
lb([a[e],k[e],h[e]],m,c);return l},_computeAngle:function(a){var c=this.getMeta().count,d=this.getDataset(),e=this.getMeta();return isNaN(d.data[a])||e.data[a].hidden?0:lb([this.chart.options.elements.arc.angle,2*Math.PI/c],{chart:this.chart,dataIndex:a,dataset:d,datasetIndex:this.index},a)}});O._set("pie",y.clone(O.doughnut));O._set("pie",{cutoutPercentage:0});var ia=y.valueOrDefault,Na=y.options.resolve;O._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var ob=hb.extend({datasetElementType:T.Line,
dataElementType:T.Point,linkScales:y.noop,update:function(a){var c=this.getMeta();var d=c.dataset;c=c.data||[];var e=this.chart.scale;var f=this.getDataset();void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension);d._scale=e;d._datasetIndex=this.index;d._children=c;d._loop=!0;d._model=this._resolveLineOptions(d);d.pivot();d=0;for(e=c.length;d<e;++d)this.updateElement(c[d],d,a);this.updateBezierControlPoints();d=0;for(e=c.length;d<e;++d)c[d].pivot()},updateElement:function(a,c,d){var e=
a.custom||{},f=this.getDataset(),k=this.chart.scale,h=k.getPointPositionForValue(c,f.data[c]);f=this._resolvePointOptions(a,c);var l=this.getMeta().dataset._model,m=d?k.xCenter:h.x;d=d?k.yCenter:h.y;a._scale=k;a._options=f;a._datasetIndex=this.index;a._index=c;a._model={x:m,y:d,skip:e.skip||isNaN(m)||isNaN(d),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:ia(e.tension,l?l.tension:0),hitRadius:f.hitRadius}},
_resolvePointOptions:function(a,c){var d,e;var f=this.chart;var k=f.data.datasets[this.index];a=a.custom||{};var h=f.options.elements.point,l={},m={chart:f,dataIndex:c,dataset:k,datasetIndex:this.index},n={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",
radius:"pointRadius",rotation:"pointRotation"},w=Object.keys(n);f=0;for(d=w.length;f<d;++f)l[e=w[f]]=Na([a[e],k[n[e]],k[e],h[e]],m,c);return l},_resolveLineOptions:function(a){var c,d;var e=this.chart;var f=e.data.datasets[this.index];a=a.custom||{};var k=e.options.elements.line,h={},l="backgroundColor borderWidth borderColor borderCapStyle borderDash borderDashOffset borderJoinStyle fill".split(" ");e=0;for(c=l.length;e<c;++e)h[d=l[e]]=Na([a[d],f[d],k[d]]);return h.tension=ia(f.lineTension,k.tension),
h},updateBezierControlPoints:function(){var a;var c=this.getMeta();var d=this.chart.chartArea,e=c.data||[];c=0;for(a=e.length;c<a;++c){var f=e[c]._model;var k=y.splineCurve(y.previousItem(e,c,!0)._model,f,y.nextItem(e,c,!0)._model,f.tension);f.controlPointPreviousX=Math.max(Math.min(k.previous.x,d.right),d.left);f.controlPointPreviousY=Math.max(Math.min(k.previous.y,d.bottom),d.top);f.controlPointNextX=Math.max(Math.min(k.next.x,d.right),d.left);f.controlPointNextY=Math.max(Math.min(k.next.y,d.bottom),
d.top)}},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius};c.backgroundColor=ia(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=ia(d.hoverBorderColor,e(d.borderColor));c.borderWidth=ia(d.hoverBorderWidth,d.borderWidth);c.radius=ia(d.hoverRadius,d.radius)}});O._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],
yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(a){return"("+a.xLabel+", "+a.yLabel+")"}}}});var ab={bar:Ma,bubble:vb,doughnut:Gb,horizontalBar:za,line:Pb,polarArea:ea,pie:Gb,radar:ob,scatter:Pb},ma={modes:{single:function(a,c){var d=ja(c,a),e=[];return ba(a,function(a){if(a.inRange(d.x,d.y))return e.push(a),e}),e.slice(0,1)},label:Qa,index:Qa,dataset:function(a,c,d){c=ja(c,a);d.axis=d.axis||"xy";var e=cb(d.axis);d=
d.intersect?Z(a,c):R(a,c,!1,e);return 0<d.length&&(d=a.getDatasetMeta(d[0]._datasetIndex).data),d},"x-axis":function(a,c){return Qa(a,c,{intersect:!1})},point:function(a,c){return Z(a,ja(c,a))},nearest:function(a,c,d){c=ja(c,a);d.axis=d.axis||"xy";var e=cb(d.axis);return R(a,c,d.intersect,e)},x:function(a,c,d){var e=ja(c,a),f=[],k=!1;return ba(a,function(a){a.inXRange(e.x)&&f.push(a);a.inRange(e.x,e.y)&&(k=!0)}),d.intersect&&!k&&(f=[]),f},y:function(a,c,d){var e=ja(c,a),f=[],k=!1;return ba(a,function(a){a.inYRange(e.y)&&
f.push(a);a.inRange(e.x,e.y)&&(k=!0)}),d.intersect&&!k&&(f=[]),f}}};O._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Hb={defaults:{},addBox:function(a,c){a.boxes||(a.boxes=[]);c.fullWidth=c.fullWidth||!1;c.position=c.position||"top";c.weight=c.weight||0;a.boxes.push(c)},removeBox:function(a,c){c=a.boxes?a.boxes.indexOf(c):-1;-1!==c&&a.boxes.splice(c,1)},configure:function(a,c,d){for(var e=["fullWidth","position","weight"],f=e.length,k=0;k<f;++k)a=e[k],d.hasOwnProperty(a)&&(c[a]=
d[a])},update:function(a,c,d){function e(a){var c=y.findNextWhere(I,function(c){return c.box===a});c&&(c.horizontal?a.update(a.fullWidth?Q:z,B/2,{left:Math.max(C.left,H.left),right:Math.max(C.right,H.right),top:0,bottom:0}):a.update(c.width,v))}function f(a){a.isHorizontal()?(a.left=a.fullWidth?h:C.left,a.right=a.fullWidth?c-l:C.left+z,a.top=ea,a.bottom=ea+a.height,ea=a.bottom):(a.left=G,a.right=G+a.width,a.top=C.top,a.bottom=C.top+v,G=a.right)}if(a){var k=y.options.toPadding((a.options.layout||{}).padding),
h=k.left,l=k.right,m=k.top,n=k.bottom;k=S(a.boxes,"left");var w=S(a.boxes,"right"),u=S(a.boxes,"top"),q=S(a.boxes,"bottom"),t=S(a.boxes,"chartArea");U(k,!0);U(w,!1);U(u,!0);U(q,!1);var p=k.concat(w),A=u.concat(q),J=p.concat(A),Q=c-h-l,B=d-m-n,x=(c-Q/2)/p.length,z=Q,v=B,C={top:m,left:h,bottom:n,right:l},I=[];y.each(J,function(a){var c,d=a.isHorizontal();d?(c=a.update(a.fullWidth?Q:z,B/2),v-=c.height):(c=a.update(x,v),z-=c.width);I.push({horizontal:d,width:c.width,box:a})});var H=function(a){var c=
0,d=0,e=0,f=0;return y.each(a,function(a){a.getPadding&&(a=a.getPadding(),c=Math.max(c,a.top),d=Math.max(d,a.left),e=Math.max(e,a.bottom),f=Math.max(f,a.right))}),{top:c,left:d,bottom:e,right:f}}(J);y.each(p,e);da(p,C);y.each(A,e);da(A,C);y.each(p,function(a){var c=y.findNextWhere(I,function(c){return c.box===a}),d={left:0,right:0,top:C.top,bottom:C.bottom};c&&a.update(c.width,v,d)});da(J,C={top:m,left:h,bottom:n,right:l});n=Math.max(H.left-C.left,0);C.left+=n;C.right+=Math.max(H.right-C.right,0);
J=Math.max(H.top-C.top,0);C.top+=J;C.bottom+=Math.max(H.bottom-C.bottom,0);var D=d-C.top-C.bottom,E=c-C.left-C.right;E===z&&D===v||(y.each(p,function(a){a.height=D}),y.each(A,function(a){a.fullWidth||(a.width=E)}),v=D,z=E);var G=h+n,ea=m+J;y.each(k.concat(u),f);G+=z;ea+=v;y.each(w,f);y.each(q,f);a.chartArea={left:C.left,top:C.top,right:C.left+z,bottom:C.top+v};y.each(t,function(c){c.left=a.chartArea.left;c.top=a.chartArea.top;c.right=a.chartArea.right;c.bottom=a.chartArea.bottom;c.update(z,v)})}}},
pc,Uc=(pc=Object.freeze({default:"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&
pc.default||pc,zc=["animationstart","webkitAnimationStart"],tc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kc=!!function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("e",null,c)}catch(Q){}return a}()&&{passive:!0},uc={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=
typeof document,_ensureLoaded:function(){var a,c;this._loaded||(this._loaded=!0,this.disableCSSInjection||(a=Uc,c=this._style||document.createElement("style"),this._style||(this._style=c,a="/* Chart.js */\n"+a,c.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(c)),c.appendChild(document.createTextNode(a))))},acquireContext:function(a,c){"string"==typeof a?a=document.getElementById(a):a.length&&(a=a[0]);a&&a.canvas&&(a=a.canvas);var d=a&&a.getContext&&a.getContext("2d");
this._ensureLoaded();if(d&&d.canvas===a){var e=a.style,f=a.getAttribute("height"),k=a.getAttribute("width");if(a.$chartjs={initial:{height:f,width:k,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",null===k||""===k){var h=Cb(a,"width");void 0!==h&&(a.width=h)}if(null===f||""===f)""===a.style.height?a.height=a.width/(c.options.aspectRatio||2):(c=Cb(a,"height"),void 0!==h&&(a.height=c))}else d=null;return d},releaseContext:function(a){var c=a.canvas;if(c.$chartjs){var d=
c.$chartjs.initial;["height","width"].forEach(function(a){var e=d[a];y.isNullOrUndef(e)?c.removeAttribute(a):c.setAttribute(a,e)});y.each(d.style||{},function(a,d){c.style[d]=a});c.width=c.width;delete c.$chartjs}},addEventListener:function(a,c,d){var e=a.canvas;if("resize"!==c){var f=d.$chartjs||(d.$chartjs={});La(e,c,(f.proxies||(f.proxies={}))[a.id+"_"+c]=function(c){var e=tc[c.type]||c.type,f=y.getRelativePosition(c,a);c=db(e,a,f.x,f.y,c);d(c)})}else M(e,d,a)},removeEventListener:function(a,c,
d){var e=a.canvas;"resize"!==c?(a=((d.$chartjs||{}).proxies||{})[a.id+"_"+c])&&Pa(e,c,a):Ra(e)}};y.addEvent=La;y.removeEvent=Pa;var mc=y.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},uc._enabled?uc:{acquireContext:function(a){return a&&a.canvas&&(a=a.canvas),a&&a.getContext("2d")||null}});O._set("global",{plugins:{}});var Aa={_plugins:[],_cacheId:0,register:function(a){var c=this._plugins;[].concat(a).forEach(function(a){-1===
c.indexOf(a)&&c.push(a)});this._cacheId++},unregister:function(a){var c=this._plugins;[].concat(a).forEach(function(a){a=c.indexOf(a);-1!==a&&c.splice(a,1)});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(a,c,d){var e,f,k,h,l,m=this.descriptors(a),n=m.length;for(e=0;e<n;++e)if("function"==typeof(l=(k=(f=m[e]).plugin)[c])&&((h=[a].concat(d||[])).push(f.options),!1===l.apply(k,
h)))return!1;return!0},descriptors:function(a){var c=a.$plugins||(a.$plugins={});if(c.id===this._cacheId)return c.descriptors;var d=[],e=[];a=a&&a.config||{};var f=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(a){if(-1===d.indexOf(a)){var c=a.id,k=f[c];!1!==k&&(!0===k&&(k=y.clone(O.global.plugins[c])),d.push(a),e.push({plugin:a,options:k||{}}))}}),c.descriptors=e,c.id=this._cacheId,e},_invalidate:function(a){delete a.$plugins}},qc={constructors:{},defaults:{},
registerScaleType:function(a,c,d){this.constructors[a]=c;this.defaults[a]=y.clone(d)},getScaleConstructor:function(a){return this.constructors.hasOwnProperty(a)?this.constructors[a]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?y.merge({},[O.scale,this.defaults[a]]):{}},updateScaleDefaults:function(a,c){this.defaults.hasOwnProperty(a)&&(this.defaults[a]=y.extend(this.defaults[a],c))},addScalesToLayout:function(a){y.each(a.scales,function(c){c.fullWidth=c.options.fullWidth;
c.position=c.options.position;c.weight=c.options.weight;Hb.addBox(a,c)})}},ac=y.valueOrDefault;O._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,
caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:y.noop,title:function(a,c){var d="",e=(c=c.labels)?c.length:0;0<a.length&&(a=a[0],a.label?d=a.label:a.xLabel?d=a.xLabel:0<e&&a.index<e&&(d=c[a.index]));return d},afterTitle:y.noop,beforeBody:y.noop,beforeLabel:y.noop,label:function(a,c){c=c.datasets[a.datasetIndex].label||"";return c&&(c+=": "),y.isNullOrUndef(a.value)?c+=a.yLabel:c+=a.value,c},labelColor:function(a,
c){a=c.getDatasetMeta(a.datasetIndex).data[a.index]._view;return{borderColor:a.borderColor,backgroundColor:a.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:y.noop,afterBody:y.noop,beforeFooter:y.noop,footer:y.noop,afterFooter:y.noop}}});var vc={average:function(a){if(!a.length)return!1;var c,d=0,e=0,f=0;var k=0;for(c=a.length;k<c;++k){var h=a[k];h&&h.hasValue()&&(h=h.tooltipPosition(),d+=h.x,e+=h.y,++f)}return{x:d/f,y:e/f}},nearest:function(a,c){var d,e,
f=c.x,k=c.y,h=Number.POSITIVE_INFINITY;var l=0;for(d=a.length;l<d;++l){var m=a[l];if(m&&m.hasValue()){var n=m.getCenterPoint();n=y.distanceBetweenPoints(c,n);n<h&&(h=n,e=m)}}e&&(a=e.tooltipPosition(),f=a.x,k=a.y);return{x:f,y:k}}},Ac=Ia.extend({initialize:function(){this._model=jb(this._options);this._lastActive=[]},getTitle:function(){var a=this._options.callbacks,c=a.beforeTitle.apply(this,arguments),d=a.title.apply(this,arguments);a=a.afterTitle.apply(this,arguments);var e=[];return e=Va(e,Sa(c)),
e=Va(e,Sa(d)),Va(e,Sa(a))},getBeforeBody:function(){return Va([],Sa(this._options.callbacks.beforeBody.apply(this,arguments)))},getBody:function(a,c){var d=this,e=d._options.callbacks,f=[];return y.each(a,function(a){var k={before:[],lines:[],after:[]};Va(k.before,Sa(e.beforeLabel.call(d,a,c)));Va(k.lines,e.label.call(d,a,c));Va(k.after,Sa(e.afterLabel.call(d,a,c)));f.push(k)}),f},getAfterBody:function(){return Va([],Sa(this._options.callbacks.afterBody.apply(this,arguments)))},getFooter:function(){var a=
this._options.callbacks,c=a.beforeFooter.apply(this,arguments),d=a.footer.apply(this,arguments);a=a.afterFooter.apply(this,arguments);var e=[];return e=Va(e,Sa(c)),e=Va(e,Sa(d)),Va(e,Sa(a))},update:function(a){var c,d,e,f,k,h,l,m,n=this,u=n._options,w=n._model,q=n._model=jb(u),t=n._active,p=n._data;var A={xAlign:w.xAlign,yAlign:w.yAlign};var B={x:w.x,y:w.y};var z={width:w.width,height:w.height};w={x:w.caretX,y:w.caretY};if(t.length){q.opacity=1;var x=[],C=[];w=vc[u.position].call(n,t,n._eventPosition);
z=[];A=0;for(B=t.length;A<B;++A)z.push((c=t[A],d=void 0,e=void 0,f=void 0,k=void 0,h=void 0,l=void 0,m=void 0,d=c._xScale,e=c._yScale||c._scale,f=c._index,k=c._datasetIndex,h=c._chart.getDatasetMeta(k).controller,l=h._getIndexScale(),m=h._getValueScale(),{xLabel:d?d.getLabelForIndex(f,k):"",yLabel:e?e.getLabelForIndex(f,k):"",label:l?""+l.getLabelForIndex(f,k):"",value:m?""+m.getLabelForIndex(f,k):"",index:f,datasetIndex:k,x:c._model.x,y:c._model.y}));u.filter&&(z=z.filter(function(a){return u.filter(a,
p)}));u.itemSort&&(z=z.sort(function(a,c){return u.itemSort(a,c,p)}));y.each(z,function(a){x.push(u.callbacks.labelColor.call(n,a,n._chart));C.push(u.callbacks.labelTextColor.call(n,a,n._chart))});q.title=n.getTitle(z,p);q.beforeBody=n.getBeforeBody(z,p);q.body=n.getBody(z,p);q.afterBody=n.getAfterBody(z,p);q.footer=n.getFooter(z,p);q.x=w.x;q.y=w.y;q.caretPadding=u.caretPadding;q.labelColors=x;q.labelTextColors=C;q.dataPoints=z;z=function(a,c){var d=a._chart.ctx;a=2*c.yPadding;var e=0,f=c.body,k=
f.reduce(function(a,c){return a+c.before.length+c.lines.length+c.after.length},0);k+=c.beforeBody.length+c.afterBody.length;var h=c.title.length,l=c.footer.length,m=c.titleFontSize,n=c.bodyFontSize,u=c.footerFontSize;a=a+h*m+(h?(h-1)*c.titleSpacing:0);a+=h?c.titleMarginBottom:0;a+=k*n;a+=k?(k-1)*c.bodySpacing:0;a+=l?c.footerMarginTop:0;a+=l*u;a+=l?(l-1)*c.footerSpacing:0;var w=0,q=function(a){e=Math.max(e,d.measureText(a).width+w)};return d.font=y.fontString(m,c._titleFontStyle,c._titleFontFamily),
y.each(c.title,q),d.font=y.fontString(n,c._bodyFontStyle,c._bodyFontFamily),y.each(c.beforeBody.concat(c.afterBody),q),w=c.displayColors?n+2:0,y.each(f,function(a){y.each(a.before,q);y.each(a.lines,q);y.each(a.after,q)}),w=0,d.font=y.fontString(u,c._footerFontStyle,c._footerFontFamily),y.each(c.footer,q),{width:e+=2*c.xPadding,height:a}}(this,q);B=function(a,c,d,e){var f=a.x,k=a.y,h=a.caretPadding,l=d.xAlign;d=d.yAlign;var m=a.caretSize+h;a=a.cornerRadius+h;return"right"===l?f-=c.width:"center"===
l&&((f-=c.width/2)+c.width>e.width&&(f=e.width-c.width),0>f&&(f=0)),"top"===d?k+=m:k-="bottom"===d?c.height+m:c.height/2,"center"===d?"left"===l?f+=m:"right"===l&&(f-=m):"left"===l?f-=a:"right"===l&&(f+=a),{x:f,y:k}}(q,z,A=function(a,c){var d,e,f=a._model,k=a._chart;var h=a._chart.chartArea;var l="center",m="center";f.y<c.height?m="top":f.y>k.height-c.height&&(m="bottom");var n=(h.left+h.right)/2,u=(h.top+h.bottom)/2;"center"===m?(d=function(a){return a<=n},e=function(a){return a>n}):(d=function(a){return a<=
c.width/2},e=function(a){return a>=k.width-c.width/2});h=function(a){return a+c.width+f.caretSize+f.caretPadding>k.width};var w=function(a){return 0>a-c.width-f.caretSize-f.caretPadding};var q=function(a){return a<=u?"top":"bottom"};d(f.x)?(l="left",h(f.x)&&(l="center",m=q(f.y))):e(f.x)&&(l="right",w(f.x)&&(l="center",m=q(f.y)));a=a._options;return{xAlign:a.xAlign?a.xAlign:l,yAlign:a.yAlign?a.yAlign:m}}(this,z),n._chart)}else q.opacity=0;return q.xAlign=A.xAlign,q.yAlign=A.yAlign,q.x=B.x,q.y=B.y,
q.width=z.width,q.height=z.height,q.caretX=w.x,q.caretY=w.y,n._model=q,a&&u.custom&&u.custom.call(n,q),n},drawCaret:function(a,c){var d=this._chart.ctx;a=this.getCaretPosition(a,c,this._view);d.lineTo(a.x1,a.y1);d.lineTo(a.x2,a.y2);d.lineTo(a.x3,a.y3)},getCaretPosition:function(a,c,d){var e,f,k,h,l,m=d.caretSize,n=d.cornerRadius,u=d.xAlign,w=d.yAlign,q=a.x,t=a.y;a=c.width;c=c.height;"center"===w?(d=t+c/2,"left"===u?(f=(e=q)-m,k=e,h=d+m,l=d-m):(f=(e=q+a)+m,k=e,h=d-m,l=d+m)):("left"===u?(e=(f=q+n+m)-
m,k=f+m):"right"===u?(e=(f=q+a-n-m)-m,k=f+m):(e=(f=d.caretX)-m,k=f+m),"top"===w)?(d=(h=t)-m,l=h):(d=(h=t+c)+m,l=h,m=k,k=e,e=m);return{x1:e,x2:f,x3:k,y1:h,y2:d,y3:l}},drawTitle:function(a,c,d){var e=c.title;if(e.length){a.x=va(c,c._titleAlign);d.textAlign=c._titleAlign;d.textBaseline="top";var f,k=c.titleFontSize,h=c.titleSpacing;d.fillStyle=c.titleFontColor;d.font=y.fontString(k,c._titleFontStyle,c._titleFontFamily);var l=0;for(f=e.length;l<f;++l)d.fillText(e[l],a.x,a.y),a.y+=k+h,l+1===e.length&&
(a.y+=c.titleMarginBottom-h)}},drawBody:function(a,c,d){var e,f=c.bodyFontSize,k=c.bodySpacing,h=c._bodyAlign,l=c.body,m=c.displayColors,n=c.labelColors,u=0,w=m?va(c,"left"):0;d.textAlign=h;d.textBaseline="top";d.font=y.fontString(f,c._bodyFontStyle,c._bodyFontFamily);a.x=va(c,h);var q=function(c){d.fillText(c,a.x+u,a.y);a.y+=f+k};d.fillStyle=c.bodyFontColor;y.each(c.beforeBody,q);u=m&&"right"!==h?"center"===h?f/2+1:f+2:0;y.each(l,function(k,h){e=c.labelTextColors[h];d.fillStyle=e;y.each(k.before,
q);y.each(k.lines,function(k){m&&(d.fillStyle=c.legendColorBackground,d.fillRect(w,a.y,f,f),d.lineWidth=1,d.strokeStyle=n[h].borderColor,d.strokeRect(w,a.y,f,f),d.fillStyle=n[h].backgroundColor,d.fillRect(w+1,a.y+1,f-2,f-2),d.fillStyle=e);q(k)});y.each(k.after,q)});u=0;y.each(c.afterBody,q);a.y-=k},drawFooter:function(a,c,d){var e=c.footer;e.length&&(a.x=va(c,c._footerAlign),a.y+=c.footerMarginTop,d.textAlign=c._footerAlign,d.textBaseline="top",d.fillStyle=c.footerFontColor,d.font=y.fontString(c.footerFontSize,
c._footerFontStyle,c._footerFontFamily),y.each(e,function(e){d.fillText(e,a.x,a.y);a.y+=c.footerFontSize+c.footerSpacing}))},drawBackground:function(a,c,d,e){d.fillStyle=c.backgroundColor;d.strokeStyle=c.borderColor;d.lineWidth=c.borderWidth;var f=c.xAlign,k=c.yAlign,h=a.x,l=a.y,m=e.width,n=e.height,u=c.cornerRadius;d.beginPath();d.moveTo(h+u,l);"top"===k&&this.drawCaret(a,e);d.lineTo(h+m-u,l);d.quadraticCurveTo(h+m,l,h+m,l+u);"center"===k&&"right"===f&&this.drawCaret(a,e);d.lineTo(h+m,l+n-u);d.quadraticCurveTo(h+
m,l+n,h+m-u,l+n);"bottom"===k&&this.drawCaret(a,e);d.lineTo(h+u,l+n);d.quadraticCurveTo(h,l+n,h,l+n-u);"center"===k&&"left"===f&&this.drawCaret(a,e);d.lineTo(h,l+u);d.quadraticCurveTo(h,l,h+u,l);d.closePath();d.fill();0<c.borderWidth&&d.stroke()},draw:function(){var a=this._chart.ctx,c=this._view;if(0!==c.opacity){var d={width:c.width,height:c.height},e={x:c.x,y:c.y},f=Math.abs(.001>c.opacity)?0:c.opacity,k=c.title.length||c.beforeBody.length||c.body.length||c.afterBody.length||c.footer.length;this._options.enabled&&
k&&(a.save(),a.globalAlpha=f,this.drawBackground(e,c,a,d),e.y+=c.yPadding,this.drawTitle(e,c,a),this.drawBody(e,c,a),this.drawFooter(e,c,a),a.restore())}},handleEvent:function(a){var c,d=this._options;return this._lastActive=this._lastActive||[],"mouseout"===a.type?this._active=[]:this._active=this._chart.getElementsAtEventForMode(a,d.mode,d),(c=!y.arrayEquals(this._active,this._lastActive))&&(this._lastActive=this._active,(d.enabled||d.custom)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0),
this.pivot())),c}});Ac.positioners=vc;var Bc=y.valueOrDefault;O._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var aa=function(a,c){return this.construct(a,c),this};y.extend(aa.prototype,{construct:function(a,c){var d=this;c=function(a){var c=(a=a||{}).data=a.data||{};return c.datasets=c.datasets||[],c.labels=
c.labels||[],a.options=pb(O.global,O[a.type],a.options||{}),a}(c);var e=(a=mc.acquireContext(a,c))&&a.canvas,f=e&&e.height,k=e&&e.width;d.id=y.uid();d.ctx=a;d.canvas=e;d.config=c;d.width=k;d.height=f;d.aspectRatio=f?k/f:null;d.options=c.options;d._bufferedRender=!1;d.chart=d;d.controller=d;aa.instances[d.id]=d;Object.defineProperty(d,"data",{get:function(){return d.config.data},set:function(a){d.config.data=a}});a&&e?(d.initialize(),d.update()):console.error("Failed to create chart: can't acquire context from the given item")},
initialize:function(){return Aa.notify(this,"beforeInit"),y.retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.options.responsive&&this.resize(!0),this.ensureScalesHaveIDs(),this.buildOrUpdateScales(),this.initToolTip(),Aa.notify(this,"afterInit"),this},clear:function(){return y.canvas.clear(this),this},stop:function(){return gc.cancelAnimation(this),this},resize:function(a){var c=this.options,d=this.canvas,e=c.maintainAspectRatio&&this.aspectRatio||null,f=Math.max(0,Math.floor(y.getMaximumWidth(d)));
e=Math.max(0,Math.floor(e?f/e:y.getMaximumHeight(d)));this.width===f&&this.height===e||(d.width=this.width=f,d.height=this.height=e,d.style.width=f+"px",d.style.height=e+"px",y.retinaScale(this,c.devicePixelRatio),a)||(a={width:f,height:e},Aa.notify(this,"resize",[a]),c.onResize&&c.onResize(this,a),this.stop(),this.update({duration:c.responsiveAnimationDuration}))},ensureScalesHaveIDs:function(){var a=this.options,c=a.scales||{};a=a.scale;y.each(c.xAxes,function(a,c){a.id=a.id||"x-axis-"+c});y.each(c.yAxes,
function(a,c){a.id=a.id||"y-axis-"+c});a&&(a.id=a.id||"scale")},buildOrUpdateScales:function(){var a=this,c=a.options,d=a.scales||{},e=[],f=Object.keys(d).reduce(function(a,c){return a[c]=!1,a},{});c.scales&&(e=e.concat((c.scales.xAxes||[]).map(function(a){return{options:a,dtype:"category",dposition:"bottom"}}),(c.scales.yAxes||[]).map(function(a){return{options:a,dtype:"linear",dposition:"left"}})));c.scale&&e.push({options:c.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"});y.each(e,
function(c){var e=c.options,k=e.id,h=Bc(e.type,c.dtype);fa(e.position)!==fa(c.dposition)&&(e.position=c.dposition);f[k]=!0;if(k in d&&d[k].type===h)(k=d[k]).options=e,k.ctx=a.ctx,k.chart=a;else{var l=qc.getScaleConstructor(h);if(!l)return;k=new l({id:k,type:h,options:e,ctx:a.ctx,chart:a});d[k.id]=k}k.mergeTicksOptions();c.isDefault&&(a.scale=k)});y.each(f,function(a,c){a||delete d[c]});a.scales=d;qc.addScalesToLayout(this)},buildOrUpdateControllers:function(){var a=this,c=[];return y.each(a.data.datasets,
function(d,e){var f=a.getDatasetMeta(e);d=d.type||a.config.type;if(f.type&&f.type!==d&&(a.destroyDatasetMeta(e),f=a.getDatasetMeta(e)),f.type=d,f.controller)f.controller.updateIndex(e),f.controller.linkScales();else{d=ab[f.type];if(void 0===d)throw Error('"'+f.type+'" is not a chart type.');f.controller=new d(a,e);c.push(f.controller)}},a),c},resetElements:function(){var a=this;y.each(a.data.datasets,function(c,d){a.getDatasetMeta(d).controller.reset()},a)},reset:function(){this.resetElements();this.tooltip.initialize()},
update:function(a,c){var d,e=this;if(a&&"object"==typeof a||(a={duration:a,lazy:c}),d=e.options,y.each(e.scales,function(a){Hb.removeBox(e,a)}),d=pb(O.global,O[e.config.type],d),e.options=e.config.options=d,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=d.tooltips,e.tooltip.initialize(),Aa._invalidate(e),!1!==Aa.notify(e,"beforeUpdate"))e.tooltip._data=e.data,c=e.buildOrUpdateControllers(),y.each(e.data.datasets,function(a,c){e.getDatasetMeta(c).controller.buildOrUpdateElements()},
e),e.updateLayout(),e.options.animation&&e.options.animation.duration&&y.each(c,function(a){a.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],Aa.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:a.duration,easing:a.easing,lazy:a.lazy}:e.render(a)},updateLayout:function(){!1!==Aa.notify(this,"beforeLayout")&&(Hb.update(this,this.width,this.height),Aa.notify(this,"afterScaleUpdate"),Aa.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==Aa.notify(this,
"beforeDatasetsUpdate")){for(var a=0,c=this.data.datasets.length;a<c;++a)this.updateDataset(a);Aa.notify(this,"afterDatasetsUpdate")}},updateDataset:function(a){var c=this.getDatasetMeta(a);a={meta:c,index:a};!1!==Aa.notify(this,"beforeDatasetUpdate",[a])&&(c.controller.update(),Aa.notify(this,"afterDatasetUpdate",[a]))},render:function(a,c){var d=this;a&&"object"==typeof a||(a={duration:a,lazy:c});var e=d.options.animation;c=Bc(a.duration,e&&e.duration);var f=a.lazy;if(!1!==Aa.notify(d,"beforeRender")){var k=
function(a){Aa.notify(d,"afterRender");y.callback(e&&e.onComplete,[a],d)};e&&c?(a=new kb({numSteps:c/16.66,easing:a.easing||e.easing,render:function(a,c){var d=c.currentStep,e=d/c.numSteps;a.draw((0,y.easing.effects[c.easing])(e),e,d)},onAnimationProgress:e.onProgress,onAnimationComplete:k}),gc.addAnimation(d,a,c,f)):(d.draw(),k(new kb({numSteps:0,chart:d})));return d}},draw:function(a){var c=this;c.clear();y.isNullOrUndef(a)&&(a=1);c.transition(a);0>=c.width||0>=c.height||!1!==Aa.notify(c,"beforeDraw",
[a])&&(y.each(c.boxes,function(a){a.draw(c.chartArea)},c),c.drawDatasets(a),c._drawTooltip(a),Aa.notify(c,"afterDraw",[a]))},transition:function(a){for(var c=0,d=(this.data.datasets||[]).length;c<d;++c)this.isDatasetVisible(c)&&this.getDatasetMeta(c).controller.transition(a);this.tooltip.transition(a)},drawDatasets:function(a){if(!1!==Aa.notify(this,"beforeDatasetsDraw",[a])){for(var c=(this.data.datasets||[]).length-1;0<=c;--c)this.isDatasetVisible(c)&&this.drawDataset(c,a);Aa.notify(this,"afterDatasetsDraw",
[a])}},drawDataset:function(a,c){var d=this.getDatasetMeta(a);a={meta:d,index:a,easingValue:c};!1!==Aa.notify(this,"beforeDatasetDraw",[a])&&(d.controller.draw(c),Aa.notify(this,"afterDatasetDraw",[a]))},_drawTooltip:function(a){var c=this.tooltip;a={tooltip:c,easingValue:a};!1!==Aa.notify(this,"beforeTooltipDraw",[a])&&(c.draw(),Aa.notify(this,"afterTooltipDraw",[a]))},getElementAtEvent:function(a){return ma.modes.single(this,a)},getElementsAtEvent:function(a){return ma.modes.label(this,a,{intersect:!0})},
getElementsAtXAxis:function(a){return ma.modes["x-axis"](this,a,{intersect:!0})},getElementsAtEventForMode:function(a,c,d){c=ma.modes[c];return"function"==typeof c?c(this,a,d):[]},getDatasetAtEvent:function(a){return ma.modes.dataset(this,a,{intersect:!0})},getDatasetMeta:function(a){a=this.data.datasets[a];a._meta||(a._meta={});var c=a._meta[this.id];return c||(c=a._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),c},getVisibleDatasetCount:function(){for(var a=
0,c=0,d=this.data.datasets.length;c<d;++c)this.isDatasetVisible(c)&&a++;return a},isDatasetVisible:function(a){var c=this.getDatasetMeta(a);return"boolean"==typeof c.hidden?!c.hidden:!this.data.datasets[a].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(a){var c=this.id;a=this.data.datasets[a];var d=a._meta&&a._meta[c];d&&(d.controller.destroy(),delete a._meta[c])},destroy:function(){var a,c=this.canvas;this.stop();var d=0;for(a=this.data.datasets.length;d<
a;++d)this.destroyDatasetMeta(d);c&&(this.unbindEvents(),y.canvas.clear(this),mc.releaseContext(this.ctx),this.canvas=null,this.ctx=null);Aa.notify(this,"destroy");delete aa.instances[this.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){this.tooltip=new Ac({_chart:this,_chartInstance:this,_data:this.data,_options:this.options.tooltips},this)},bindEvents:function(){var a=this,c=a._listeners={},d=function(){a.eventHandler.apply(a,arguments)};
y.each(a.options.events,function(e){mc.addEventListener(a,e,d);c[e]=d});a.options.responsive&&(d=function(){a.resize()},mc.addEventListener(a,"resize",d),c.resize=d)},unbindEvents:function(){var a=this,c=a._listeners;c&&(delete a._listeners,y.each(c,function(c,d){mc.removeEventListener(a,d,c)}))},updateHoverStyle:function(a,c,d){var e,f=d?"setHoverStyle":"removeHoverStyle";c=0;for(d=a.length;c<d;++c)(e=a[c])&&this.getDatasetMeta(e._datasetIndex).controller[f](e)},eventHandler:function(a){var c=this.tooltip;
if(!1!==Aa.notify(this,"beforeEvent",[a])){this._bufferedRender=!0;this._bufferedRequest=null;var d=this.handleEvent(a);c&&(d=c._start?c.handleEvent(a):d|c.handleEvent(a));Aa.notify(this,"afterEvent",[a]);a=this._bufferedRequest;return a?this.render(a):d&&!this.animating&&(this.stop(),this.render({duration:this.options.hover.animationDuration,lazy:!0})),this._bufferedRender=!1,this._bufferedRequest=null,this}},handleEvent:function(a){var c,d=this.options||{},e=d.hover;return this.lastActive=this.lastActive||
[],"mouseout"===a.type?this.active=[]:this.active=this.getElementsAtEventForMode(a,e.mode,e),y.callback(d.onHover||d.hover.onHover,[a.native,this.active],this),"mouseup"!==a.type&&"click"!==a.type||d.onClick&&d.onClick.call(this,a.native,this.active),this.lastActive.length&&this.updateHoverStyle(this.lastActive,e.mode,!1),this.active.length&&e.mode&&this.updateHoverStyle(this.active,e.mode,!0),c=!y.arrayEquals(this.active,this.lastActive),this.lastActive=this.active,c}});aa.instances={};aa.Controller=
aa;aa.types={};y.configMerge=pb;y.scaleMerge=Kb;y.extend(Db.prototype,{formats:v,parse:v,format:v,add:v,diff:v,startOf:v,endOf:v,_create:function(a){return a}});Db.override=function(a){y.extend(Db.prototype,a)};var Ec={_date:Db},rc={formatters:{values:function(a){return y.isArray(a)?a:""+a},linear:function(a,c,d){c=3<d.length?d[2]-d[1]:d[1]-d[0];1<Math.abs(c)&&a!==Math.floor(a)&&(c=a-Math.floor(a));c=y.log10(Math.abs(c));0!==a?1E-4>Math.max(Math.abs(d[0]),Math.abs(d[d.length-1]))?(d=y.log10(Math.abs(a)),
a=a.toExponential(Math.floor(d)-Math.floor(c))):(d=-1*Math.floor(c),d=Math.max(Math.min(d,20),0),a=a.toFixed(d)):a="0";return a},logarithmic:function(a,c,d){var e=a/Math.pow(10,Math.floor(y.log10(a)));return 0===a?"0":1===e||2===e||5===e||0===c||c===d.length-1?a.toExponential():""}}},Fc=y.valueOrDefault,sc=y.valueAtIndexOrDefault;O._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,
zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:rc.formatters.values,minor:{},major:{}}});var Rb=Ia.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||
0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var a=this.options.ticks,c;for(c in!1===a.minor&&(a.minor={display:!1}),!1===a.major&&(a.major={display:!1}),a)"major"!==c&&"minor"!==c&&(void 0===a.minor[c]&&(a.minor[c]=a[c]),void 0===a.major[c]&&(a.major[c]=a[c]))},beforeUpdate:function(){y.callback(this.options.beforeUpdate,[this])},update:function(a,c,d){var e;this.beforeUpdate();this.maxWidth=a;this.maxHeight=c;this.margins=y.extend({left:0,
right:0,top:0,bottom:0},d);this.longestLabelWidth=this._maxLabelLines=0;this.longestTextCache=this.longestTextCache||{};this.beforeSetDimensions();this.setDimensions();this.afterSetDimensions();this.beforeDataLimits();this.determineDataLimits();this.afterDataLimits();this.beforeBuildTicks();var f=this.buildTicks()||[];f=this.afterBuildTicks(f)||f;this.beforeTickToLabelConversion();d=this.convertTicksToLabels(f)||this.ticks;this.afterTickToLabelConversion();this.ticks=d;a=0;for(c=d.length;a<c;++a){var k=
d[a];(e=f[a])?e.label=k:f.push(e={label:k,major:!1})}return this._ticks=f,this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){y.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){y.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):
(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=0},afterSetDimensions:function(){y.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){y.callback(this.options.beforeDataLimits,[this])},determineDataLimits:y.noop,afterDataLimits:function(){y.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){y.callback(this.options.beforeBuildTicks,[this])},buildTicks:y.noop,afterBuildTicks:function(a){return y.isArray(a)&&
a.length?y.callback(this.options.afterBuildTicks,[this,a]):(this.ticks=y.callback(this.options.afterBuildTicks,[this,this.ticks])||this.ticks,a)},beforeTickToLabelConversion:function(){y.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var a=this.options.ticks;this.ticks=this.ticks.map(a.userCallback||a.callback,this)},afterTickToLabelConversion:function(){y.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){y.callback(this.options.beforeCalculateTickRotation,
[this])},calculateTickRotation:function(){var a=this.ctx,c=this.options.ticks,d=Xb(this._ticks),e=y.options._parseFont(c);a.font=e.string;var f=c.minRotation||0;if(d.length&&this.options.display&&this.isHorizontal())for(e=a=y.longestText(a,e.string,d,this.longestTextCache),d=this.getPixelForTick(1)-this.getPixelForTick(0)-6;e>d&&f<c.maxRotation;){var k=y.toRadians(f);if(e=Math.cos(k),Math.sin(k)*a>this.maxHeight){f--;break}f++;e*=a}this.labelRotation=f},afterCalculateTickRotation:function(){y.callback(this.options.afterCalculateTickRotation,
[this])},beforeFit:function(){y.callback(this.options.beforeFit,[this])},fit:function(){var a=this.minSize={width:0,height:0},c=Xb(this._ticks),d=this.options,e=d.ticks,f=d.scaleLabel,k=d.gridLines,h=this._isVisible(),l=d.position,m=this.isHorizontal(),n=y.options._parseFont,u=n(e);d=d.gridLines.tickMarkLength;if(a.width=m?this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:h&&k.drawTicks?d:0,a.height=m?h&&k.drawTicks?d:0:this.maxHeight,f.display&&h)k=n(f),f=y.options.toPadding(f.padding),
f=k.lineHeight+f.height,m?a.height+=f:a.width+=f;if(e.display&&h)if(f=y.longestText(this.ctx,u.string,c,this.longestTextCache),k=y.numberOfLabelLines(c),h=.5*u.size,n=this.options.ticks.padding,this._maxLabelLines=k,this.longestLabelWidth=f,m){m=y.toRadians(this.labelRotation);e=Math.cos(m);a.height=Math.min(this.maxHeight,a.height+(Math.sin(m)*f+u.lineHeight*k+h)+n);this.ctx.font=u.string;var q,t;m=Yb(this.ctx,c[0],u.string);u=Yb(this.ctx,c[c.length-1],u.string);f=this.getPixelForTick(0)-this.left;
c=this.right-this.getPixelForTick(c.length-1);0!==this.labelRotation?(q="bottom"===l?e*m:e*h,t="bottom"===l?e*h:e*u):(q=m/2,t=u/2);this.paddingLeft=Math.max(q-f,0)+3;this.paddingRight=Math.max(t-c,0)+3}else e.mirror?f=0:f+=n+h,a.width=Math.min(this.maxWidth,a.width+f),this.paddingTop=u.size/2,this.paddingBottom=u.size/2;this.handleMargins();this.width=a.width;this.height=a.height},handleMargins:function(){this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=
Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0))},afterFit:function(){y.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(a){if(y.isNullOrUndef(a)||("number"==typeof a||a instanceof Number)&&!isFinite(a))return NaN;
if(a)if(this.isHorizontal()){if(void 0!==a.x)return this.getRightValue(a.x)}else if(void 0!==a.y)return this.getRightValue(a.y);return a},getLabelForIndex:y.noop,getPixelForValue:y.noop,getValueForPixel:y.noop,getPixelForTick:function(a){var c=this.options.offset;if(this.isHorizontal()){var d=(this.width-(this.paddingLeft+this.paddingRight))/Math.max(this._ticks.length-(c?0:1),1);a=d*a+this.paddingLeft;c&&(a+=d/2);return this.left+a+(this.isFullWidth()?this.margins.left:0)}return this.top+(this.height-
(this.paddingTop+this.paddingBottom))/(this._ticks.length-1)*a},getPixelForDecimal:function(a){return this.isHorizontal()?this.left+((this.width-(this.paddingLeft+this.paddingRight))*a+this.paddingLeft)+(this.isFullWidth()?this.margins.left:0):this.top+a*this.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var a=this.min,c=this.max;return this.beginAtZero?0:0>a&&0>c?c:0<a&&0<c?a:0},_autoSkip:function(a){var c=this.isHorizontal(),d=a.length,
e=!1;var f=this.options.ticks.minor.maxTicksLimit;var k=this._tickSize()*(d-1);var h=c?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.PaddingBottom);c=[];k>h&&(e=1+Math.floor(k/h));d>f&&(e=Math.max(e,1+Math.floor(d/f)));for(f=0;f<d;f++)k=a[f],1<e&&0<f%e&&delete k.label,c.push(k);return c},_tickSize:function(){var a=this.isHorizontal(),c=this.options.ticks.minor,d=y.toRadians(this.labelRotation),e=Math.abs(Math.cos(d));d=Math.abs(Math.sin(d));var f=c.autoSkipPadding||
0,k=this.longestLabelWidth+f||0;c=y.options._parseFont(c);c=this._maxLabelLines*c.lineHeight+f||0;return a?c*e>k*d?k/e:c/d:c*d<k*e?c/e:k/d},_isVisible:function(){var a,c,d=this.chart;var e=this.options.display;if("auto"!==e)return!!e;e=0;for(a=d.data.datasets.length;e<a;++e)if(d.isDatasetVisible(e)&&((c=d.getDatasetMeta(e)).xAxisID===this.id||c.yAxisID===this.id))return!0;return!1},draw:function(a){var c=this,d=c.options;if(c._isVisible()){var e,f,k,h=c.chart,l=c.ctx,m=O.global.defaultFontColor,n=
d.ticks.minor,u=d.ticks.major||n,q=d.gridLines,t=d.scaleLabel,w=d.position,p=0!==c.labelRotation,A=n.mirror,B=c.isHorizontal(),z=y.options._parseFont,x=n.display&&n.autoSkip?c._autoSkip(c.getTicks()):c.getTicks(),C=Fc(n.fontColor,m),v=z(n),I=v.lineHeight,H=Fc(u.fontColor,m),D=z(u),E=n.padding,G=n.labelOffset,ea=q.drawTicks?q.tickMarkLength:0;m=Fc(t.fontColor,m);z=z(t);var ia=y.options.toPadding(t.padding),K=y.toRadians(c.labelRotation),Y=[],F=q.drawBorder?sc(q.lineWidth,0,0):0,Na=y._alignPixel;"top"===
w?(e=Na(h,c.bottom,F),f=c.bottom-ea,k=e-F/2):"bottom"===w?(e=Na(h,c.top,F),f=e+F/2,k=c.top+ea):"left"===w?(e=Na(h,c.right,F),f=c.right-ea,k=e-F/2):(e=Na(h,c.left,F),f=e+F/2,k=c.left+ea);if(y.each(x,function(e,l){if(!y.isNullOrUndef(e.label)){var m,n,u,t,z,x,C,v,H,Q,D,J=e.label;l===c.zeroLineIndex&&d.offset===q.offsetGridLines?(m=q.zeroLineWidth,n=q.zeroLineColor,u=q.zeroLineBorderDash||[],t=q.zeroLineBorderDashOffset||0):(m=sc(q.lineWidth,l),n=sc(q.color,l),u=q.borderDash||[],t=q.borderDashOffset||
0);var ia=y.isArray(J)?J.length:1;var Sb=q.offsetGridLines;var N=c.getPixelForTick(l);var P=(Sb&&(1===c.getTicks().length?N-=c.isHorizontal()?Math.max(N-c.left,c.right-N):Math.max(N-c.top,c.bottom-N):N-=0===l?(c.getPixelForTick(1)-N)/2:(N-c.getPixelForTick(l-1))/2),N);if(B){var Tb=ea+E;P<c.left-1E-7&&(n="rgba(0,0,0,0)");N=Sb=z=C=Na(h,P,m);P=f;var ab=k;var ob=c.getPixelForTick(l)+G;"top"===w?(x=Na(h,a.top,F)+F/2,v=a.bottom,Q=((p?1:.5)-ia)*I,D=p?"left":"center",H=c.bottom-Tb):(x=a.top,v=Na(h,a.bottom,
F)-F/2,Q=(p?0:.5)*I,D=p?"right":"center",H=c.top+Tb)}else Tb=(A?0:ea)+E,P<c.top-1E-7&&(n="rgba(0,0,0,0)"),N=f,Sb=k,P=ab=x=v=Na(h,P,m),H=c.getPixelForTick(l)+G,Q=(1-ia)*I/2,"left"===w?(z=Na(h,a.left,F)+F/2,C=a.right,D=A?"left":"right",ob=c.right-Tb):(z=a.left,C=Na(h,a.right,F)-F/2,D=A?"right":"left",ob=c.left+Tb);Y.push({tx1:N,ty1:P,tx2:Sb,ty2:ab,x1:z,y1:x,x2:C,y2:v,labelX:ob,labelY:H,glWidth:m,glColor:n,glBorderDash:u,glBorderDashOffset:t,rotation:-1*K,label:J,major:e.major,textOffset:Q,textAlign:D})}}),
y.each(Y,function(a){var c=a.glWidth,d=a.glColor;if(q.display&&c&&d&&(l.save(),l.lineWidth=c,l.strokeStyle=d,l.setLineDash&&(l.setLineDash(a.glBorderDash),l.lineDashOffset=a.glBorderDashOffset),l.beginPath(),q.drawTicks&&(l.moveTo(a.tx1,a.ty1),l.lineTo(a.tx2,a.ty2)),q.drawOnChartArea&&(l.moveTo(a.x1,a.y1),l.lineTo(a.x2,a.y2)),l.stroke(),l.restore()),n.display){l.save();l.translate(a.labelX,a.labelY);l.rotate(a.rotation);l.font=a.major?D.string:v.string;l.fillStyle=a.major?H:C;l.textBaseline="middle";
l.textAlign=a.textAlign;c=a.label;a=a.textOffset;if(y.isArray(c))for(d=0;d<c.length;++d)l.fillText(""+c[d],0,a),a+=I;else l.fillText(c,0,a);l.restore()}}),t.display){var N=0,P=z.lineHeight/2;B?(u=c.left+(c.right-c.left)/2,ia="bottom"===w?c.bottom-P-ia.bottom:c.top+P+ia.top):(u=(N="left"===w)?c.left+P+ia.top:c.right-P-ia.top,ia=c.top+(c.bottom-c.top)/2,N=N?-.5*Math.PI:.5*Math.PI);l.save();l.translate(u,ia);l.rotate(N);l.textAlign="center";l.textBaseline="middle";l.fillStyle=m;l.font=z.string;l.fillText(t.labelString,
0,0);l.restore()}if(F){var ab,ob,W,ma;t=sc(q.lineWidth,x.length-1,0);B?(ab=Na(h,c.left,F)-F/2,ob=Na(h,c.right,t)+t/2,W=ma=e):(W=Na(h,c.top,F)-F/2,ma=Na(h,c.bottom,t)+t/2,ab=ob=e);l.lineWidth=F;l.strokeStyle=sc(q.color,0);l.beginPath();l.moveTo(ab,W);l.lineTo(ob,ma);l.stroke()}}}}),nc=Rb.extend({getLabels:function(){var a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels},determineDataLimits:function(){var a,c=this.getLabels();this.minIndex=0;this.maxIndex=
c.length-1;void 0!==this.options.ticks.min&&(a=c.indexOf(this.options.ticks.min),this.minIndex=-1!==a?a:this.minIndex);void 0!==this.options.ticks.max&&(a=c.indexOf(this.options.ticks.max),this.maxIndex=-1!==a?a:this.maxIndex);this.min=c[this.minIndex];this.max=c[this.maxIndex]},buildTicks:function(){var a=this.getLabels();this.ticks=0===this.minIndex&&this.maxIndex===a.length-1?a:a.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(a,c){var d=this.chart;return d.getDatasetMeta(c).controller._getValueScaleId()===
this.id?this.getRightValue(d.data.datasets[c].data[a]):this.ticks[a-this.minIndex]},getPixelForValue:function(a,c){var d,e=this.options.offset,f=Math.max(this.maxIndex+1-this.minIndex-(e?0:1),1);if(null!=a&&(d=this.isHorizontal()?a.x:a.y),void 0!==d||void 0!==a&&isNaN(c))a=d||a,a=this.getLabels().indexOf(a),c=-1!==a?a:c;if(this.isHorizontal())return f=this.width/f,c=f*(c-this.minIndex),e&&(c+=f/2),this.left+c;f=this.height/f;c=f*(c-this.minIndex);return e&&(c+=f/2),this.top+c},getPixelForTick:function(a){return this.getPixelForValue(this.ticks[a],
a+this.minIndex,null)},getValueForPixel:function(a){var c=this.options.offset,d=Math.max(this._ticks.length-(c?0:1),1),e=this.isHorizontal();d=(e?this.width:this.height)/d;return a-=e?this.left:this.top,c&&(a-=d/2),(0>=a?0:Math.round(a/d))+this.minIndex},getBasePixel:function(){return this.bottom}});nc._defaults={position:"bottom"};var lc=y.isNullOrUndef,wc=Rb.extend({getRightValue:function(a){return"string"==typeof a?+a:Rb.prototype.getRightValue.call(this,a)},handleTickRangeOptions:function(){var a=
this.options.ticks;if(a.beginAtZero){var c=y.sign(this.min),d=y.sign(this.max);0>c&&0>d?this.max=0:0<c&&0<d&&(this.min=0)}c=void 0!==a.min||void 0!==a.suggestedMin;d=void 0!==a.max||void 0!==a.suggestedMax;void 0!==a.min?this.min=a.min:void 0!==a.suggestedMin&&(null===this.min?this.min=a.suggestedMin:this.min=Math.min(this.min,a.suggestedMin));void 0!==a.max?this.max=a.max:void 0!==a.suggestedMax&&(null===this.max?this.max=a.suggestedMax:this.max=Math.max(this.max,a.suggestedMax));c!==d&&this.min>=
this.max&&(c?this.max=this.min+1:this.min=this.max-1);this.min===this.max&&(this.max++,a.beginAtZero||this.min--)},getTickLimit:function(){var a,c=this.options.ticks,d=c.stepSize;c=c.maxTicksLimit;return d?a=Math.ceil(this.max/d)-Math.floor(this.min/d)+1:(a=this._computeTickLimit(),c=c||11),c&&(a=Math.min(c,a)),a},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:y.noop,buildTicks:function(){var a=this.options.ticks,c=this.getTickLimit(),d=Math.max(2,c),e=a.min;
c=a.max;var f=a.precision;var k,h=[],l=y.valueOrDefault(a.fixedStepSize,a.stepSize);var m=l||1;var n=d-1,u=this.min,q=this.max;d=y.niceNum((q-u)/n/m)*m;if(1E-14>d&&lc(e)&&lc(c))var t=[u,q];else{(k=Math.ceil(q/d)-Math.floor(u/d))>n&&(d=y.niceNum(k*d/n/m)*m);l||lc(f)?t=Math.pow(10,y._decimalPlaces(d)):(t=Math.pow(10,f),d=Math.ceil(d*t)/t);f=Math.floor(u/d)*d;m=Math.ceil(q/d)*d;l&&(!lc(e)&&y.almostWhole(e/d,d/1E3)&&(f=e),!lc(c)&&y.almostWhole(c/d,d/1E3)&&(m=c));k=(m-f)/d;k=y.almostEquals(k,Math.round(k),
d/1E3)?Math.round(k):Math.ceil(k);f=Math.round(f*t)/t;m=Math.round(m*t)/t;h.push(lc(e)?f:e);for(e=1;e<k;++e)h.push(Math.round((f+e*d)*t)/t);t=(h.push(lc(c)?m:c),h)}t=this.ticks=t;this.handleDirectionalChanges();this.max=y.max(t);this.min=y.min(t);a.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice();this.zeroLineIndex=this.ticks.indexOf(0);Rb.prototype.convertTicksToLabels.call(this)}}),
ad={position:"left",ticks:{callback:rc.formatters.linear}},Mc=wc.extend({determineDataLimits:function(){function a(a){return k?a.xAxisID===c.id:a.yAxisID===c.id}var c=this,d=c.options,e=c.chart,f=e.data.datasets,k=c.isHorizontal();c.min=null;c.max=null;var h=d.stacked;if(void 0===h&&y.each(f,function(c,d){h||(c=e.getDatasetMeta(d),e.isDatasetVisible(d)&&a(c)&&void 0!==c.stack&&(h=!0))}),d.stacked||h){var l={};y.each(f,function(f,k){var h=e.getDatasetMeta(k),m=[h.type,void 0===d.stacked&&void 0===
h.stack?k:"",h.stack].join(".");void 0===l[m]&&(l[m]={positiveValues:[],negativeValues:[]});var n=l[m].positiveValues,u=l[m].negativeValues;e.isDatasetVisible(k)&&a(h)&&y.each(f.data,function(a,e){a=+c.getRightValue(a);isNaN(a)||h.data[e].hidden||(n[e]=n[e]||0,u[e]=u[e]||0,d.relativePoints?n[e]=100:0>a?u[e]+=a:n[e]+=a)})});y.each(l,function(a){var d=a.positiveValues.concat(a.negativeValues);a=y.min(d);d=y.max(d);c.min=null===c.min?a:Math.min(c.min,a);c.max=null===c.max?d:Math.max(c.max,d)})}else y.each(f,
function(d,f){var k=e.getDatasetMeta(f);e.isDatasetVisible(f)&&a(k)&&y.each(d.data,function(a,d){a=+c.getRightValue(a);isNaN(a)||k.data[d].hidden||(null===c.min?c.min=a:a<c.min&&(c.min=a),null===c.max?c.max=a:a>c.max&&(c.max=a))})});c.min=isFinite(c.min)&&!isNaN(c.min)?c.min:0;c.max=isFinite(c.max)&&!isNaN(c.max)?c.max:1;this.handleTickRangeOptions()},_computeTickLimit:function(){var a;return this.isHorizontal()?Math.ceil(this.width/40):(a=y.options._parseFont(this.options.ticks),Math.ceil(this.height/
a.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(a,c){return+this.getRightValue(this.chart.data.datasets[c].data[a])},getPixelForValue:function(a){var c=this.start;a=+this.getRightValue(a);var d=this.end-c;return this.isHorizontal()?this.left+this.width/d*(a-c):this.bottom-this.height/d*(a-c)},getValueForPixel:function(a){var c=this.isHorizontal();return this.start+(c?a-this.left:this.bottom-a)/(c?this.width:this.height)*(this.end-
this.start)},getPixelForTick:function(a){return this.getPixelForValue(this.ticksAsNumbers[a])}});Mc._defaults=ad;var xc=y.valueOrDefault,Vc={position:"left",ticks:{callback:rc.formatters.logarithmic}},Oc=Rb.extend({determineDataLimits:function(){function a(a){return k?a.xAxisID===c.id:a.yAxisID===c.id}var c=this,d=c.options,e=c.chart,f=e.data.datasets,k=c.isHorizontal();c.min=null;c.max=null;c.minNotZero=null;var h=d.stacked;if(void 0===h&&y.each(f,function(c,d){h||(c=e.getDatasetMeta(d),e.isDatasetVisible(d)&&
a(c)&&void 0!==c.stack&&(h=!0))}),d.stacked||h){var l={};y.each(f,function(f,k){var h=e.getDatasetMeta(k),m=[h.type,void 0===d.stacked&&void 0===h.stack?k:"",h.stack].join(".");e.isDatasetVisible(k)&&a(h)&&(void 0===l[m]&&(l[m]=[]),y.each(f.data,function(a,d){var e=l[m];a=+c.getRightValue(a);isNaN(a)||h.data[d].hidden||0>a||(e[d]=e[d]||0,e[d]+=a)}))});y.each(l,function(a){if(0<a.length){var d=y.min(a);a=y.max(a);c.min=null===c.min?d:Math.min(c.min,d);c.max=null===c.max?a:Math.max(c.max,a)}})}else y.each(f,
function(d,f){var k=e.getDatasetMeta(f);e.isDatasetVisible(f)&&a(k)&&y.each(d.data,function(a,d){a=+c.getRightValue(a);isNaN(a)||k.data[d].hidden||0>a||(null===c.min?c.min=a:a<c.min&&(c.min=a),null===c.max?c.max=a:a>c.max&&(c.max=a),0!==a&&(null===c.minNotZero||a<c.minNotZero)&&(c.minNotZero=a))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var a=this.options.ticks;this.min=mb(a.min,this.min);this.max=mb(a.max,this.max);this.min===this.max&&(0!==this.min&&null!==this.min?(this.min=
Math.pow(10,Math.floor(y.log10(this.min))-1),this.max=Math.pow(10,Math.floor(y.log10(this.max))+1)):(this.min=1,this.max=10));null===this.min&&(this.min=Math.pow(10,Math.floor(y.log10(this.max))-1));null===this.max&&(this.max=0!==this.min?Math.pow(10,Math.floor(y.log10(this.min))+1):10);null===this.minNotZero&&(0<this.min?this.minNotZero=this.min:1>this.max?this.minNotZero=Math.pow(10,Math.floor(y.log10(this.max))):this.minNotZero=1)},buildTicks:function(){var a=this.options.ticks,c=!this.isHorizontal(),
d=mb(a.min),e=mb(a.max),f,k,h=[];d=xc(d,Math.pow(10,Math.floor(y.log10(this.min))));var l=Math.floor(y.log10(this.max)),m=Math.ceil(this.max/Math.pow(10,l));0===d?(f=Math.floor(y.log10(this.minNotZero)),k=Math.floor(this.minNotZero/Math.pow(10,f)),h.push(d),d=k*Math.pow(10,f)):(f=Math.floor(y.log10(d)),k=Math.floor(d/Math.pow(10,f)));var n=0>f?Math.pow(10,Math.abs(f)):1;do h.push(d),10==++k&&(k=1,n=0<=++f?1:n),d=Math.round(k*Math.pow(10,f)*n)/n;while(f<l||f===l&&k<m);e=xc(e,d);h=this.ticks=(h.push(e),
h);this.max=y.max(h);this.min=y.min(h);a.reverse?(c=!c,this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max);c&&h.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();Rb.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(a,c){return+this.getRightValue(this.chart.data.datasets[c].data[a])},getPixelForTick:function(a){return this.getPixelForValue(this.tickValues[a])},_getFirstTickValue:function(a){var c=Math.floor(y.log10(a));return Math.floor(a/
Math.pow(10,c))*Math.pow(10,c)},getPixelForValue:function(a){var c,d,e,f,k,h=this.options.ticks,l=h.reverse,m=y.log10,n=this._getFirstTickValue(this.minNotZero),u=0;return a=+this.getRightValue(a),l?(e=this.end,f=this.start,k=-1):(e=this.start,f=this.end,k=1),this.isHorizontal()?(c=this.width,d=l?this.right:this.left):(c=this.height,k*=-1,d=l?this.top:this.bottom),a!==e&&(0===e&&(c-=u=xc(h.fontSize,O.global.defaultFontSize),e=n),0!==a&&(u+=c/(m(f)-m(e))*(m(a)-m(e))),d+=k*u),d},getValueForPixel:function(a){var c,
d,e,f,k=this.options.ticks,h=k.reverse,l=y.log10,m=this._getFirstTickValue(this.minNotZero);if(h?(d=this.end,e=this.start):(d=this.start,e=this.end),this.isHorizontal()?(c=this.width,f=h?this.right-a:a-this.left):(c=this.height,f=h?a-this.top:this.bottom-a),f!==d)0===d&&(a=xc(k.fontSize,O.global.defaultFontSize),f-=a,c-=a,d=m),f*=l(e)-l(d),f/=c,f=Math.pow(10,l(d)+f);return f}});Oc._defaults=Vc;var yc=y.valueOrDefault,Gc=y.valueAtIndexOrDefault,Nc=y.options.resolve,Yc={display:!0,animate:!0,position:"chartArea",
angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:rc.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(a){return a}}},Lc=wc.extend({setDimensions:function(){this.width=this.maxWidth;this.height=this.maxHeight;this.paddingTop=Xa(this.options)/2;this.xCenter=Math.floor(this.width/2);this.yCenter=
Math.floor((this.height-this.paddingTop)/2);this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2},determineDataLimits:function(){var a=this,c=a.chart,d=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;y.each(c.data.datasets,function(f,k){if(c.isDatasetVisible(k)){var h=c.getDatasetMeta(k);y.each(f.data,function(c,f){c=+a.getRightValue(c);isNaN(c)||h.data[f].hidden||(d=Math.min(c,d),e=Math.max(c,e))})}});a.min=d===Number.POSITIVE_INFINITY?0:d;a.max=e===Number.NEGATIVE_INFINITY?0:
e;a.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Xa(this.options))},convertTicksToLabels:function(){wc.prototype.convertTicksToLabels.call(this);this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(a,c){return+this.getRightValue(this.chart.data.datasets[c].data[a])},fit:function(){var a=this.options;if(a.display&&a.pointLabels.display){var c=y.options._parseFont(this.options.pointLabels),d={l:0,r:this.width,
t:0,b:this.height-this.paddingTop},e={};this.ctx.font=c.string;this._pointLabelSizes=[];var f=ra(this);for(a=0;a<f;a++){var k=this.getPointPosition(a,this.drawingArea+5);var h=this.ctx;var l=c.lineHeight;var m=this.pointLabels[a]||"";m=y.isArray(m)?{w:y.longestText(h,h.font,m),h:m.length*l}:{w:h.measureText(m).width,h:l};this._pointLabelSizes[a]=m;h=this.getIndexAngle(a);var n=y.toDegrees(h)%360;l=Ub(n,k.x,m.w,0,180);k=Ub(n,k.y,m.h,90,270);l.start<d.l&&(d.l=l.start,e.l=h);l.end>d.r&&(d.r=l.end,e.r=
h);k.start<d.t&&(d.t=k.start,e.t=h);k.end>d.b&&(d.b=k.end,e.b=h)}this.setReductions(this.drawingArea,d,e)}else this.setCenterPoint(0,0,0,0)},setReductions:function(a,c,d){var e=c.l/Math.sin(d.l),f=Math.max(c.r-this.width,0)/Math.sin(d.r),k=-c.t/Math.cos(d.t);c=-Math.max(c.b-(this.height-this.paddingTop),0)/Math.cos(d.b);e=qb(e);f=qb(f);k=qb(k);c=qb(c);this.drawingArea=Math.min(Math.floor(a-(e+f)/2),Math.floor(a-(k+c)/2));this.setCenterPoint(e,f,k,c)},setCenterPoint:function(a,c,d,e){d+=this.drawingArea;
e=this.height-this.paddingTop-e-this.drawingArea;this.xCenter=Math.floor((a+this.drawingArea+(this.width-c-this.drawingArea))/2+this.left);this.yCenter=Math.floor((d+e)/2+this.top+this.paddingTop)},getIndexAngle:function(a){return a*(2*Math.PI/ra(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(a){if(null===a)return 0;var c=this.drawingArea/(this.max-this.min);return this.options.ticks.reverse?(this.max-
a)*c:(a-this.min)*c},getPointPosition:function(a,c){a=this.getIndexAngle(a)-Math.PI/2;return{x:Math.cos(a)*c+this.xCenter,y:Math.sin(a)*c+this.yCenter}},getPointPositionForValue:function(a,c){return this.getPointPosition(a,this.getDistanceFromCenterForValue(c))},getBasePosition:function(){var a=this.min,c=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:0>a&&0>c?c:0<a&&0<c?a:0)},draw:function(){var a=this,c=a.options,d=c.gridLines,e=c.ticks;if(c.display){var f=a.ctx,k=this.getIndexAngle(0),
h=y.options._parseFont(e);(c.angleLines.display||c.pointLabels.display)&&function(a){var c=a.ctx,d=a.options,e=d.angleLines,f=d.gridLines,k=d.pointLabels,h=yc(e.lineWidth,f.lineWidth),l=yc(e.color,f.color),m=Xa(d);c.save();c.lineWidth=h;c.strokeStyle=l;c.setLineDash&&(c.setLineDash(Nc([e.borderDash,f.borderDash,[]])),c.lineDashOffset=Nc([e.borderDashOffset,f.borderDashOffset,0]));d=a.getDistanceFromCenterForValue(d.ticks.reverse?a.min:a.max);f=y.options._parseFont(k);c.font=f.string;c.textBaseline=
"middle";for(var n=ra(a)-1;0<=n;n--){if(e.display&&h&&l){var u=a.getPointPosition(n,d);c.beginPath();c.moveTo(a.xCenter,a.yCenter);c.lineTo(u.x,u.y);c.stroke()}if(k.display){u=a.getPointPosition(n,d+(0===n?m/2:0)+5);var q=Gc(k.fontColor,n,O.global.defaultFontColor);c.fillStyle=q;q=a.getIndexAngle(n);q=y.toDegrees(q);c.textAlign=0===q||180===q?"center":180>q?"left":"right";var t=a._pointLabelSizes[n],p=u;90===q||270===q?p.y-=t.h/2:(270<q||90>q)&&(p.y-=t.h);q=c;t=a.pointLabels[n]||"";var A=u,w=f.lineHeight,
B=A.y+w/2;if(y.isArray(t))for(p=0,u=t.length;p<u;++p)q.fillText(t[p],A.x,B),B+=w;else q.fillText(t,A.x,B)}}c.restore()}(a);y.each(a.ticks,function(c,l){if(0<l||e.reverse){var m=a.getDistanceFromCenterForValue(a.ticksAsNumbers[l]);if(d.display&&0!==l){var n=a.ctx;var u=d.circular;var q=ra(a),t=Gc(d.color,l-1);l=Gc(d.lineWidth,l-1);if((u||q)&&t&&l){if(n.save(),n.strokeStyle=t,n.lineWidth=l,n.setLineDash&&(n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset||0),n.beginPath(),u)n.arc(a.xCenter,
a.yCenter,m,0,2*Math.PI);else for(u=a.getPointPosition(0,m),n.moveTo(u.x,u.y),t=1;t<q;t++)u=a.getPointPosition(t,m),n.lineTo(u.x,u.y);n.closePath();n.stroke();n.restore()}}if(e.display){n=yc(e.fontColor,O.global.defaultFontColor);if(f.font=h.string,f.save(),f.translate(a.xCenter,a.yCenter),f.rotate(k),e.showLabelBackdrop)q=f.measureText(c).width,f.fillStyle=e.backdropColor,f.fillRect(-q/2-e.backdropPaddingX,-m-h.size/2-e.backdropPaddingY,q+2*e.backdropPaddingX,h.size+2*e.backdropPaddingY);f.textAlign=
"center";f.textBaseline="middle";f.fillStyle=n;f.fillText(c,0,-m);f.restore()}}})}}});Lc._defaults=Yc;var Dc=y.valueOrDefault,Qc=Number.MIN_SAFE_INTEGER||-9007199254740991,Hc=Number.MAX_SAFE_INTEGER||9007199254740991,oc={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1E3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6E4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36E5,steps:[1,2,3,6,12]},day:{common:!0,size:864E5,steps:[1,2,5]},week:{common:!1,size:6048E5,
steps:[1,2,3,4]},month:{common:!0,size:2628E6,steps:[1,2,3]},quarter:{common:!1,size:7884E6,steps:[1,2,3,4]},year:{common:!0,size:3154E7}},wb=Object.keys(oc),Rc=Rb.extend({initialize:function(){this.mergeTicksOptions();Rb.prototype.initialize.call(this)},update:function(){var a=this.options,c=a.time||(a.time={});a=this._adapter=new Ec._date(a.adapters.date);return c.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),y.mergeIf(c.displayFormats,a.formats()),
Rb.prototype.update.apply(this,arguments)},getRightValue:function(a){return a&&void 0!==a.t&&(a=a.t),Rb.prototype.getRightValue.call(this,a)},determineDataLimits:function(){var a,c,d,e=this.chart,f=this._adapter,k=this.options.time,h=k.unit||"day",l=Hc,m=Qc,n=[],u=[],q=[];var t=e.data.labels||[];var p=0;for(a=t.length;p<a;++p)q.push(X(this,t[p]));p=0;for(a=(e.data.datasets||[]).length;p<a;++p)if(e.isDatasetVisible(p))if(d=e.data.datasets[p].data,y.isObject(d[0]))for(u[p]=[],t=0,c=d.length;t<c;++t){var A=
X(this,d[t]);n.push(A);u[p][t]=A}else{t=0;for(c=q.length;t<c;++t)n.push(q[t]);u[p]=q.slice(0)}else u[p]=[];q.length&&(q=Oa(q).sort(ec),l=Math.min(l,q[0]),m=Math.max(m,q[q.length-1]));n.length&&(n=Oa(n).sort(ec),l=Math.min(l,n[0]),m=Math.max(m,n[n.length-1]));l=X(this,k.min)||l;m=X(this,k.max)||m;l=l===Hc?+f.startOf(Date.now(),h):l;m=m===Qc?+f.endOf(Date.now(),h)+1:m;this.min=Math.min(l,m);this.max=Math.max(l+1,m);this._horizontal=this.isHorizontal();this._table=[];this._timestamps={data:n,datasets:u,
labels:q}},buildTicks:function(){var a,c,d=this.min,e=this.max,f=this.options,k=f.time,h=[],l=[];switch(f.ticks.source){case "data":h=this._timestamps.data;break;case "labels":h=this._timestamps.labels;break;default:h=Ga(this,d,e,this.getLabelCapacity(d))}"ticks"===f.bounds&&h.length&&(d=h[0],e=h[h.length-1]);d=X(this,k.min)||d;e=X(this,k.max)||e;var m=0;for(a=h.length;m<a;++m)(c=h[m])>=d&&c<=e&&l.push(c);return this.min=d,this.max=e,this._unit=k.unit||function(a,c,d,e,f){var k,h;for(k=wb.length-
1;k>=wb.indexOf(d);k--)if(h=wb[k],oc[h].common&&a._adapter.diff(f,e,h)>=c.length)return h;return wb[d?wb.indexOf(d):0]}(this,l,k.minUnit,this.min,this.max),this._majorUnit=ua(this._unit),this._table=function(a,c,d,e){if("linear"===e||!a.length)return[{time:c,pos:0},{time:d,pos:1}];var f,k,h=[],l=[c];e=0;for(f=a.length;e<f;++e)(k=a[e])>c&&k<d&&l.push(k);l.push(d);e=0;for(f=l.length;e<f;++e)c=l[e+1],a=l[e-1],k=l[e],void 0!==a&&void 0!==c&&Math.round((c+a)/2)===k||h.push({time:k,pos:e/(f-1)});return h}(this._timestamps.data,
d,e,f.distribution),this._offsets=function(a,c,d,e,f){var k,h;e=d=0;return f.offset&&c.length&&(f.time.min||(k=L(a,"time",c[0],"pos"),d=1===c.length?1-k:(L(a,"time",c[1],"pos")-k)/2),f.time.max||(h=L(a,"time",c[c.length-1],"pos"),e=1===c.length?h:(h-L(a,"time",c[c.length-2],"pos"))/2)),{start:d,end:e}}(this._table,l,0,0,f),f.ticks.reverse&&l.reverse(),function(a,c,d){var e,f=[];var k=0;for(e=c.length;k<e;++k){var h=c[k];var l=!!d&&h===+a._adapter.startOf(h,d);f.push({value:h,major:l})}return f}(this,
l,this._majorUnit)},getLabelForIndex:function(a,c){var d=this._adapter,e=this.chart.data,f=this.options.time,k=e.labels&&a<e.labels.length?e.labels[a]:"";a=e.datasets[c].data[a];return y.isObject(a)&&(k=this.getRightValue(a)),f.tooltipFormat?d.format(ta(this,k),f.tooltipFormat):"string"==typeof k?k:d.format(ta(this,k),f.displayFormats.datetime)},tickFormatFunction:function(a,c,d,e){var f=this._adapter,k=this.options,h=k.time.displayFormats,l=h[this._unit],m=this._majorUnit,n=h[m],u=+f.startOf(a,m);
h=k.ticks.major;m=h.enabled&&m&&n&&a===u;a=f.format(a,e||(m?n:l));k=m?h:k.ticks.minor;return(k=Dc(k.callback,k.userCallback))?k(a,c,d):a},convertTicksToLabels:function(a){var c,d=[];var e=0;for(c=a.length;e<c;++e)d.push(this.tickFormatFunction(a[e].value,e,a));return d},getPixelForOffset:function(a){var c=this.options.ticks.reverse,d=this._horizontal?this.width:this.height,e=this._horizontal?c?this.right:this.left:c?this.bottom:this.top;a=L(this._table,"time",a,"pos");d=d*(this._offsets.start+a)/
(this._offsets.start+1+this._offsets.end);return c?e-d:e+d},getPixelForValue:function(a,c,d){var e=null;if(void 0!==c&&void 0!==d&&(e=this._timestamps.datasets[d][c]),null===e&&(e=X(this,a)),null!==e)return this.getPixelForOffset(e)},getPixelForTick:function(a){var c=this.getTicks();return 0<=a&&a<c.length?this.getPixelForOffset(c[a].value):null},getValueForPixel:function(a){var c=this._horizontal?this.width:this.height,d=this._horizontal?this.left:this.top;a=L(this._table,"pos",(c?(a-d)/c:0)*(this._offsets.start+
1+this._offsets.start)-this._offsets.end,"time");return this._adapter._create(a)},getLabelWidth:function(a){var c=this.options.ticks;a=this.ctx.measureText(a).width;var d=y.toRadians(c.maxRotation),e=Math.sin(d);return a*Math.cos(d)+Dc(c.fontSize,O.global.defaultFontSize)*e},getLabelCapacity:function(a){a=this.tickFormatFunction(a,0,[],this.options.time.displayFormats.millisecond);a=this.getLabelWidth(a);var c=this.isHorizontal()?this.width:this.height;a=Math.floor(c/a);return 0<a?a:1}});Rc._defaults=
{position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var bd={category:nc,linear:Mc,logarithmic:Oc,radialLinear:Lc,time:Rc},Ic={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Ec._date.override("function"==
typeof m?{_id:"moment",formats:function(){return Ic},parse:function(a,c){return"string"==typeof a&&"string"==typeof c?a=m(a,c):a instanceof m||(a=m(a)),a.isValid()?a.valueOf():null},format:function(a,c){return m(a).format(c)},add:function(a,c,d){return m(a).add(c,d).valueOf()},diff:function(a,c,d){return m.duration(m(a).diff(m(c))).as(d)},startOf:function(a,c,d){return a=m(a),"isoWeek"===c?a.isoWeekday(d).valueOf():a.startOf(c).valueOf()},endOf:function(a,c){return m(a).endOf(c).valueOf()},_create:function(a){return m(a)}}:
{});O._set("global",{plugins:{filler:{propagate:!0}}});var $c={dataset:function(a){var c=a.fill;a=a.chart;var d=a.getDatasetMeta(c),e=d&&a.isDatasetVisible(c)&&d.dataset._children||[],f=e.length||0;return f?function(a,c){return c<f&&e[c]._view||null}:null},boundary:function(a){var c=(a=a.boundary)?a.x:null,d=a?a.y:null;return function(a){return{x:null===c?a.x:c,y:null===d?a.y:d}}}},jc=y.noop,ic=y.valueOrDefault;O._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1E3,
onClick:function(a,c){a=c.datasetIndex;c=this.chart;var d=c.getDatasetMeta(a);d.hidden=null===d.hidden?!c.data.datasets[a].hidden:null;c.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(a){var c=a.data;return y.isArray(c.datasets)?c.datasets.map(function(c,d){return{text:c.label,fillStyle:y.isArray(c.backgroundColor)?c.backgroundColor[0]:c.backgroundColor,hidden:!a.isDatasetVisible(d),lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,
lineJoin:c.borderJoinStyle,lineWidth:c.borderWidth,strokeStyle:c.borderColor,pointStyle:c.pointStyle,datasetIndex:d}},this):[]}}},legendCallback:function(a){var c=[];c.push('<ul class="'+a.id+'-legend">');for(var d=0;d<a.data.datasets.length;d++)c.push('<li><span style="background-color:'+a.data.datasets[d].backgroundColor+'"></span>'),a.data.datasets[d].label&&c.push(a.data.datasets[d].label),c.push("</li>");return c.push("</ul>"),c.join("")}});var Sc=Ia.extend({initialize:function(a){y.extend(this,
a);this.legendHitBoxes=[];this._hoveredItem=null;this.doughnutMode=!1},beforeUpdate:jc,update:function(a,c,d){return this.beforeUpdate(),this.maxWidth=a,this.maxHeight=c,this.margins=d,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:jc,beforeSetDimensions:jc,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,
this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=0;this.minSize={width:0,height:0}},afterSetDimensions:jc,beforeBuildLabels:jc,buildLabels:function(){var a=this,c=a.options.labels||{},d=y.callback(c.generateLabels,[a.chart],a)||[];c.filter&&(d=d.filter(function(d){return c.filter(d,a.chart.data)}));a.options.reverse&&d.reverse();a.legendItems=d},afterBuildLabels:jc,beforeFit:jc,
fit:function(){var a=this.options,c=a.labels;a=a.display;var d=this.ctx,e=y.options._parseFont(c),f=e.size,k=this.legendHitBoxes=[],h=this.minSize,l=this.isHorizontal();if(l?(h.width=this.maxWidth,h.height=a?10:0):(h.width=a?10:0,h.height=this.maxHeight),a)if(d.font=e.string,l){var m=this.lineWidths=[0],n=0;d.textAlign="left";d.textBaseline="top";y.each(this.legendItems,function(a,e){a=(c.usePointStyle&&c.boxWidth>f?f:c.boxWidth)+f/2+d.measureText(a.text).width;(0===e||m[m.length-1]+a+c.padding>h.width)&&
(n+=f+c.padding,m[m.length-(0<e?0:1)]=c.padding);k[e]={left:0,top:0,width:a,height:f};m[m.length-1]+=a+c.padding});h.height+=n}else{var u=c.padding,q=this.columnWidths=[],t=c.padding,p=0,A=0,B=f+u;y.each(this.legendItems,function(a,e){a=(c.usePointStyle&&c.boxWidth>f?f:c.boxWidth)+f/2+d.measureText(a.text).width;0<e&&A+B>h.height-u&&(t+=p+c.padding,q.push(p),p=0,A=0);p=Math.max(p,a);A+=B;k[e]={left:0,top:0,width:a,height:f}});t+=p;q.push(p);h.width+=t}this.width=h.width;this.height=h.height},afterFit:jc,
isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,c=a.options,d=c.labels,e=O.global,f=e.defaultColor,k=e.elements.line,h=a.width,l=a.lineWidths;if(c.display){var m=a.ctx;e=ic(d.fontColor,e.defaultFontColor);var n=y.options._parseFont(d),u=n.size;m.textAlign="left";m.textBaseline="middle";m.lineWidth=.5;m.strokeStyle=e;m.fillStyle=e;m.font=n.string;var q=d.usePointStyle&&d.boxWidth>u?u:d.boxWidth,t=a.legendHitBoxes,p=a.isHorizontal();
var A=p?{x:a.left+(h-l[0])/2+d.padding,y:a.top+d.padding,line:0}:{x:a.left+d.padding,y:a.top+d.padding,line:0};var B=u+d.padding;y.each(a.legendItems,function(e,n){var z=m.measureText(e.text).width,x=q+u/2+z,w=A.x,C=A.y;p?0<n&&w+x+d.padding>a.left+a.minSize.width&&(C=A.y+=B,A.line++,w=A.x=a.left+(h-l[A.line])/2+d.padding):0<n&&C+B>a.top+a.minSize.height&&(w=A.x=w+a.columnWidths[A.line]+d.padding,C=A.y=a.top+d.padding,A.line++);(function(a,d,e){if(!(isNaN(q)||0>=q)){m.save();var h=ic(e.lineWidth,k.borderWidth);
(m.fillStyle=ic(e.fillStyle,f),m.lineCap=ic(e.lineCap,k.borderCapStyle),m.lineDashOffset=ic(e.lineDashOffset,k.borderDashOffset),m.lineJoin=ic(e.lineJoin,k.borderJoinStyle),m.lineWidth=h,m.strokeStyle=ic(e.strokeStyle,f),m.setLineDash&&m.setLineDash(ic(e.lineDash,k.borderDash)),c.labels&&c.labels.usePointStyle)?y.canvas.drawPoint(m,e.pointStyle,q*Math.SQRT2/2,a+q/2,d+u/2):(0!==h&&m.strokeRect(a,d,q,u),m.fillRect(a,d,q,u));m.restore()}})(w,C,e);t[n].left=w;t[n].top=C;(function(a,c,d,e){var f=u/2;a=
q+f+a;c+=f;m.fillText(d.text,a,c);d.hidden&&(m.beginPath(),m.lineWidth=2,m.moveTo(a,c),m.lineTo(a+e,c),m.stroke())})(w,C,e,z);p?A.x+=x+d.padding:A.y+=B})}},_getLegendItemAt:function(a,c){var d,e;if(a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom){var f=this.legendHitBoxes;for(d=0;d<f.length;++d)if(a>=(e=f[d]).left&&a<=e.left+e.width&&c>=e.top&&c<=e.top+e.height)return this.legendItems[d]}return null},handleEvent:function(a){var c=this.options,d="mouseup"===a.type?"click":a.type;if("mousemove"===
d){if(!c.onHover&&!c.onLeave)return}else if("click"!==d||!c.onClick)return;var e=this._getLegendItemAt(a.x,a.y);"click"===d?e&&c.onClick&&c.onClick.call(this,a.native,e):(c.onLeave&&e!==this._hoveredItem&&(this._hoveredItem&&c.onLeave.call(this,a.native,this._hoveredItem),this._hoveredItem=e),c.onHover&&e&&c.onHover.call(this,a.native,e))}}),Zc={id:"legend",_element:Sc,beforeInit:function(a){var c=a.options.legend;c&&V(a,c)},beforeUpdate:function(a){var c=a.options.legend,d=a.legend;c?(y.mergeIf(c,
O.global.legend),d?(Hb.configure(a,d,c),d.options=c):V(a,c)):d&&(Hb.removeBox(a,d),delete a.legend)},afterEvent:function(a,c){(a=a.legend)&&a.handleEvent(c)}},bc=y.noop;O._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2E3}});var Pc=Ia.extend({initialize:function(a){y.extend(this,a);this.legendHitBoxes=[]},beforeUpdate:bc,update:function(a,c,d){return this.beforeUpdate(),this.maxWidth=a,this.maxHeight=c,this.margins=d,this.beforeSetDimensions(),
this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:bc,beforeSetDimensions:bc,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=0;this.minSize={width:0,height:0}},
afterSetDimensions:bc,beforeBuildLabels:bc,buildLabels:bc,afterBuildLabels:bc,beforeFit:bc,fit:function(){var a=this.options,c=a.display,d=this.minSize,e=y.isArray(a.text)?a.text.length:1,f=y.options._parseFont(a);a=c?e*f.lineHeight+2*a.padding:0;this.isHorizontal()?(d.width=this.maxWidth,d.height=a):(d.width=a,d.height=this.maxHeight);this.width=d.width;this.height=d.height},afterFit:bc,isHorizontal:function(){var a=this.options.position;return"top"===a||"bottom"===a},draw:function(){var a=this.ctx,
c=this.options;if(c.display){var d,e,f,k=y.options._parseFont(c),h=k.lineHeight,l=h/2+c.padding,m=0,n=this.top,u=this.left,q=this.bottom,t=this.right;a.fillStyle=y.valueOrDefault(c.fontColor,O.global.defaultFontColor);a.font=k.string;this.isHorizontal()?(e=u+(t-u)/2,f=n+l,d=t-u):(e="left"===c.position?u+l:t-l,f=n+(q-n)/2,d=q-n,m=Math.PI*("left"===c.position?-.5:.5));a.save();a.translate(e,f);a.rotate(m);a.textAlign="center";a.textBaseline="middle";c=c.text;if(y.isArray(c))for(f=e=0;f<c.length;++f)a.fillText(c[f],
0,e,d),e+=h;else a.fillText(c,0,0,d);a.restore()}}}),kc={},cd={id:"filler",afterDatasetsUpdate:function(a,c){var d,e,f=(a.data.datasets||[]).length,k=c.propagate,h=[];for(c=0;c<f;++c){var l=null;(e=(d=a.getDatasetMeta(c)).dataset)&&e._model&&e instanceof T.Line&&(l={visible:a.isDatasetVisible(c),fill:eb(e,c,f),chart:a,el:e});d.$filler=l;h.push(l)}for(c=0;c<f;++c)if(l=h[c]){a=l;a:{d=h;var m=d[c].fill,n=[c];if(k){for(;!1!==m&&-1===n.indexOf(m);){if(!isFinite(m)){e=m;break a}if(!(e=d[m]))break;if(e.visible){e=
m;break a}n.push(m);m=e.fill}e=!1}else e=m}a.fill=e;l.boundary=pa(l);e=a=l;d=e.fill;l="dataset";e=!1===d?null:(isFinite(d)||(l="boundary"),$c[l](e));a.mapper=e}},beforeDatasetDraw:function(a,c){var d=c.meta.$filler;if(d){c=a.ctx;var e=d.el,f=e._view,k=e._children||[];d=d.mapper;var h=f.backgroundColor||O.global.defaultColor;if(d&&h&&k.length){y.canvas.clipArea(c,a.chartArea);var l=e._loop,m,n;e=k.length;var u=f.spanGaps,q=[],t=[],p=0,A=0;c.beginPath();a=0;for(l=e+!!l;a<l;++a){var B=d(n=k[m=a%e]._view,
m,f);var z=n&&!n.skip;var x=B&&!B.skip;z&&x?(p=q.push(n),A=t.push(B)):p&&A&&(u?(z&&q.push(n),x&&t.push(B)):(Za(c,q,t,p,A),p=A=0,q=[],t=[]))}Za(c,q,t,p,A);c.closePath();c.fillStyle=h;c.fill();y.canvas.unclipArea(c)}}}},dd={id:"title",_element:Pc,beforeInit:function(a){var c=a.options.title;c&&na(a,c)},beforeUpdate:function(a){var c=a.options.title,d=a.titleBlock;c?(y.mergeIf(c,O.global.title),d?(Hb.configure(a,d,c),d.options=c):na(a,c)):d&&(Hb.removeBox(a,d),delete a.titleBlock)}},Jc;for(Jc in kc.filler=
cd,kc.legend=Zc,kc.title=dd,aa.helpers=y,function(){function a(a,c,d){var e;return"string"==typeof a?(e=parseInt(a,10),-1!==a.indexOf("%")&&(e=e/100*c.parentNode[d])):e=a,e}function c(c,d,e){var f=document.defaultView,k=y._getParentNode(c),h=f.getComputedStyle(c)[d];d=f.getComputedStyle(k)[d];f=null!=h&&"none"!==h;var l=null!=d&&"none"!==d,m=Number.POSITIVE_INFINITY;return f||l?Math.min(f?a(h,c,e):m,l?a(d,k,e):m):"none"}y.where=function(a,c){if(y.isArray(a)&&Array.prototype.filter)return a.filter(c);
var d=[];return y.each(a,function(a){c(a)&&d.push(a)}),d};y.findIndex=Array.prototype.findIndex?function(a,c,d){return a.findIndex(c,d)}:function(a,c,d){d=void 0===d?a:d;for(var e=0,f=a.length;e<f;++e)if(c.call(d,a[e],e,a))return e;return-1};y.findNextWhere=function(a,c,d){y.isNullOrUndef(d)&&(d=-1);for(d+=1;d<a.length;d++){var e=a[d];if(c(e))return e}};y.findPreviousWhere=function(a,c,d){y.isNullOrUndef(d)&&(d=a.length);for(--d;0<=d;d--){var e=a[d];if(c(e))return e}};y.isNumber=function(a){return!isNaN(parseFloat(a))&&
isFinite(a)};y.almostEquals=function(a,c,d){return Math.abs(a-c)<d};y.almostWhole=function(a,c){var d=Math.round(a);return d-c<a&&d+c>a};y.max=function(a){return a.reduce(function(a,c){return isNaN(c)?a:Math.max(a,c)},Number.NEGATIVE_INFINITY)};y.min=function(a){return a.reduce(function(a,c){return isNaN(c)?a:Math.min(a,c)},Number.POSITIVE_INFINITY)};y.sign=Math.sign?function(a){return Math.sign(a)}:function(a){return 0==(a=+a)||isNaN(a)?a:0<a?1:-1};y.log10=Math.log10?function(a){return Math.log10(a)}:
function(a){var c=Math.log(a)*Math.LOG10E,d=Math.round(c);return a===Math.pow(10,d)?d:c};y.toRadians=function(a){return Math.PI/180*a};y.toDegrees=function(a){return 180/Math.PI*a};y._decimalPlaces=function(a){if(y.isFinite(a)){for(var c=1,d=0;Math.round(a*c)/c!==a;)c*=10,d++;return d}};y.getAngleFromPoint=function(a,c){var d=c.x-a.x;c=c.y-a.y;a=Math.sqrt(d*d+c*c);d=Math.atan2(c,d);return d<-.5*Math.PI&&(d+=2*Math.PI),{angle:d,distance:a}};y.distanceBetweenPoints=function(a,c){return Math.sqrt(Math.pow(c.x-
a.x,2)+Math.pow(c.y-a.y,2))};y.aliasPixel=function(a){return 0==a%2?0:.5};y._alignPixel=function(a,c,d){a=a.currentDevicePixelRatio;d/=2;return Math.round((c-d)*a)/a+d};y.splineCurve=function(a,c,d,e){a=a.skip?c:a;d=d.skip?c:d;var f=Math.sqrt(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2)),k=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),h=f/(f+k);f=k/(f+k);h=e*(isNaN(h)?0:h);e*=isNaN(f)?0:f;return{previous:{x:c.x-h*(d.x-a.x),y:c.y-h*(d.y-a.y)},next:{x:c.x+e*(d.x-a.x),y:c.y+e*(d.y-a.y)}}};y.EPSILON=
Number.EPSILON||1E-14;y.splineCurveMonotone=function(a){var c,d,e,f,k,h,l,m,n=(a||[]).map(function(a){return{model:a._model,deltaK:0,mK:0}}),u=n.length;for(a=0;a<u;++a)if(!(d=n[a]).model.skip){if(c=0<a?n[a-1]:null,(e=a<u-1?n[a+1]:null)&&!e.model.skip){var q=e.model.x-d.model.x;d.deltaK=0!==q?(e.model.y-d.model.y)/q:0}!c||c.model.skip?d.mK=d.deltaK:!e||e.model.skip?d.mK=c.deltaK:this.sign(c.deltaK)!==this.sign(d.deltaK)?d.mK=0:d.mK=(c.deltaK+d.deltaK)/2}for(a=0;a<u-1;++a)d=n[a],e=n[a+1],d.model.skip||
e.model.skip||(y.almostEquals(d.deltaK,0,this.EPSILON)?d.mK=e.mK=0:(f=d.mK/d.deltaK,k=e.mK/d.deltaK,9>=(l=Math.pow(f,2)+Math.pow(k,2))||(h=3/Math.sqrt(l),d.mK=f*h*d.deltaK,e.mK=k*h*d.deltaK)));for(a=0;a<u;++a)(d=n[a]).model.skip||(c=0<a?n[a-1]:null,e=a<u-1?n[a+1]:null,c&&!c.model.skip&&(m=(d.model.x-c.model.x)/3,d.model.controlPointPreviousX=d.model.x-m,d.model.controlPointPreviousY=d.model.y-m*d.mK),e&&!e.model.skip&&(m=(e.model.x-d.model.x)/3,d.model.controlPointNextX=d.model.x+m,d.model.controlPointNextY=
d.model.y+m*d.mK))};y.nextItem=function(a,c,d){return d?c>=a.length-1?a[0]:a[c+1]:c>=a.length-1?a[a.length-1]:a[c+1]};y.previousItem=function(a,c,d){return d?0>=c?a[a.length-1]:a[c-1]:0>=c?a[0]:a[c-1]};y.niceNum=function(a,c){var d=Math.floor(y.log10(a));a/=Math.pow(10,d);return(c?1.5>a?1:3>a?2:7>a?5:10:1>=a?1:2>=a?2:5>=a?5:10)*Math.pow(10,d)};y.requestAnimFrame="undefined"==typeof window?function(a){a()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1E3/60)};y.getRelativePosition=function(a,c){var d,e,f=a.originalEvent||a;a=a.target||a.srcElement;var k=a.getBoundingClientRect(),h=f.touches;h&&0<h.length?(d=h[0].clientX,e=h[0].clientY):(d=f.clientX,e=f.clientY);f=parseFloat(y.getStyle(a,"padding-left"));h=parseFloat(y.getStyle(a,"padding-top"));var l=parseFloat(y.getStyle(a,"padding-right")),m=parseFloat(y.getStyle(a,"padding-bottom"));return{x:Math.round((d-
k.left-f)/(k.right-k.left-f-l)*a.width/c.currentDevicePixelRatio),y:Math.round((e-k.top-h)/(k.bottom-k.top-h-m)*a.height/c.currentDevicePixelRatio)}};y.getConstraintWidth=function(a){return c(a,"max-width","clientWidth")};y.getConstraintHeight=function(a){return c(a,"max-height","clientHeight")};y._calculatePadding=function(a,c,d){return-1<(c=y.getStyle(a,c)).indexOf("%")?d*parseInt(c,10)/100:parseInt(c,10)};y._getParentNode=function(a){a=a.parentNode;return a&&"[object ShadowRoot]"===a.toString()&&
(a=a.host),a};y.getMaximumWidth=function(a){var c=y._getParentNode(a);if(!c)return a.clientWidth;var d=c.clientWidth;c=d-y._calculatePadding(c,"padding-left",d)-y._calculatePadding(c,"padding-right",d);a=y.getConstraintWidth(a);return isNaN(a)?c:Math.min(c,a)};y.getMaximumHeight=function(a){var c=y._getParentNode(a);if(!c)return a.clientHeight;var d=c.clientHeight;c=d-y._calculatePadding(c,"padding-top",d)-y._calculatePadding(c,"padding-bottom",d);a=y.getConstraintHeight(a);return isNaN(a)?c:Math.min(c,
a)};y.getStyle=function(a,c){return a.currentStyle?a.currentStyle[c]:document.defaultView.getComputedStyle(a,null).getPropertyValue(c)};y.retinaScale=function(a,c){c=a.currentDevicePixelRatio=c||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==c){var d=a.canvas,e=a.height,f=a.width;d.height=e*c;d.width=f*c;a.ctx.scale(c,c);d.style.height||d.style.width||(d.style.height=e+"px",d.style.width=f+"px")}};y.fontString=function(a,c,d){return c+" "+a+"px "+d};y.longestText=function(a,c,d,e){var f=
(e=e||{}).data=e.data||{},k=e.garbageCollect=e.garbageCollect||[];e.font!==c&&(f=e.data={},k=e.garbageCollect=[],e.font=c);a.font=c;var h=0;y.each(d,function(c){null!=c&&!0!==y.isArray(c)?h=y.measureText(a,f,k,h,c):y.isArray(c)&&y.each(c,function(c){null==c||y.isArray(c)||(h=y.measureText(a,f,k,h,c))})});c=k.length/2;if(c>d.length){for(d=0;d<c;d++)delete f[k[d]];k.splice(0,c)}return h};y.measureText=function(a,c,d,e,f){var k=c[f];return k||(k=c[f]=a.measureText(f).width,d.push(f)),k>e&&(e=k),e};y.numberOfLabelLines=
function(a){var c=1;return y.each(a,function(a){y.isArray(a)&&a.length>c&&(c=a.length)}),c};y.color=bb?function(a){return a instanceof CanvasGradient&&(a=O.global.defaultColor),bb(a)}:function(a){return console.error("Color.js not found!"),a};y.getHoverColor=function(a){return a instanceof CanvasPattern||a instanceof CanvasGradient?a:y.color(a).saturate(.5).darken(.1).rgbString()}}(),aa._adapters=Ec,aa.Animation=kb,aa.animationService=gc,aa.controllers=ab,aa.DatasetController=hb,aa.defaults=O,aa.Element=
Ia,aa.elements=T,aa.Interaction=ma,aa.layouts=Hb,aa.platform=mc,aa.plugins=Aa,aa.Scale=Rb,aa.scaleService=qc,aa.Ticks=rc,aa.Tooltip=Ac,aa.helpers.each(bd,function(a,c){aa.scaleService.registerScaleType(c,a,a._defaults)}),kc)kc.hasOwnProperty(Jc)&&aa.plugins.register(kc[Jc]);aa.platform.initialize();return"undefined"!=typeof window&&(window.Chart=aa),aa.Chart=aa,aa.Legend=kc.legend._element,aa.Title=kc.title._element,aa.pluginService=aa.plugins,aa.PluginBase=aa.Element.extend({}),aa.canvasHelpers=
aa.helpers.canvas,aa.layoutService=aa.layouts,aa.LinearScaleBase=wc,aa.helpers.each("Bar Bubble Doughnut Line PolarArea Radar Scatter".split(" "),function(a){aa[a]=function(c,d){return new aa(c,aa.helpers.merge(d||{},{type:a.charAt(0).toLowerCase()+a.slice(1)}))}}),aa});
define("elements/chartTable/chartTable","module jquery underscore chart elements/element/element app/utilities/XyTools app/configuration app/events app/completionApi app/player/communication lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a,f,l){var c={chart:"bar",legend:!1},e={chart:"pie",legend:!0},u={chart:"horizontalBar",legend:!1},z={chart:"polarArea",legend:!0},B={chart:"doughnut",legend:!0};m=p.extend({initialize:function(a){this.constructor.__super__.initialize.call(this,a)},render:function(){this.buildChart("bar",
!0)},getChartType:function(){if(this.$el.hasClass("ChartBar"))return c;if(this.$el.hasClass("ChartPie"))return e;if(this.$el.hasClass("ChartHorizontalBar"))return u;if(this.$el.hasClass("ChartPolarArea"))return z;if(this.$el.hasClass("ChartDoughnut"))return B},buildChart:function(){var a=this.$el.attr("title"),c=this.$el.attr("summary").length?this.$el.attr("summary"):"";this.$el.closest(".TableWrapper").find(".TableTitleWrapper").css("display","none");var e=[],f=[],k=[];d("tbody tr:first td",this.$el).each(function(){e.push(d(this).find(".RichText").html())});
var h=d("tbody tr:last td",this.$el).length;d("tbody tr:last td",this.$el).each(function(){f.push(d(this).find(".RichText").html())});if(d("tfoot tr:first td",this.$el).length)d("tfoot tr:first td",this.$el).each(function(){k.push(d(this).find(".RichText").html())});else for(var l=0;l<h;l++)k.push(this.config.defaultChartColors[l%this.config.defaultChartColors.length]);h=d('<canvas width="800" height="450"></canvas>');l=this.$el.closest(".TableWrapper");l.removeClass("TableWrapper").addClass("ChartTableWrapper");
l.find(".TableChartContainer").append(h).show();l=this.getChartType();new n(h,{type:l.chart,data:{labels:e,datasets:[{label:c,backgroundColor:k,data:f}]},options:{legend:{display:l.legend},title:{display:!0,text:a}}})}},{displayName:"chartTable",config:q.extend({selector:"table.Table.ChartBar, table.Table.ChartPie, table.Table.ChartHorizontalBar, table.Table.ChartPolarArea, table.Table.ChartDoughnut",defaultChartColors:"#2d3142 #43465a #7cc24d #b3b4b4 #75b9be #F0A202 #773c5f #85130B".split(" ")},
t.configure(m.id))});k.trigger("chartTable.loaded",!0,m);return m});
define("mediaelement",["jquery"],function(m){(function(){function d(h,m,p){function n(a,f){if(!m[a]){if(!h[a]){var k="function"==typeof require&&require;if(!f&&k)return k(a,!0);if(t)return t(a,!0);f=Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f;}f=m[a]={exports:{}};h[a][0].call(f.exports,function(c){var d=h[a][1][c];return n(d?d:c)},f,f.exports,d,h,m,p)}return m[a].exports}for(var t="function"==typeof require&&require,k=0;k<p.length;k++)n(p[k]);return n}return d})()({1:[function(d,
h,m){},{}],2:[function(d,h,m){m="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};m="undefined"!==typeof m?m:"undefined"!==typeof window?window:{};d=d(1);if("undefined"!==typeof document)var n=document;else(n=m["__GLOBAL_DOCUMENT_CACHE@4"])||(n=m["__GLOBAL_DOCUMENT_CACHE@4"]=d);h.exports=n},{1:1}],3:[function(d,h,m){d="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};h.exports="undefined"!==
typeof window?window:"undefined"!==typeof d?d:"undefined"!==typeof self?self:{}},{}],4:[function(d,h,m){(function(d){function m(){}function n(a,c){return function(){a.apply(c,arguments)}}function k(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];u(a,this)}function a(a,c){for(;3===a._state;)a=a._value;0===a._state?a._deferreds.push(c):
(a._handled=!0,k._immediateFn(function(){var d=1===a._state?c.onFulfilled:c.onRejected;if(null===d)(1===a._state?f:l)(c.promise,a._value);else{try{var e=d(a._value)}catch(H){l(c.promise,H);return}f(c.promise,e)}}))}function f(a,d){try{if(d===a)throw new TypeError("A promise cannot be resolved with itself.");if(d&&("object"===typeof d||"function"===typeof d)){var e=d.then;if(d instanceof k){a._state=3;a._value=d;c(a);return}if("function"===typeof e){u(n(e,d),a);return}}a._state=1;a._value=d;c(a)}catch(I){l(a,
I)}}function l(a,d){a._state=2;a._value=d;c(a)}function c(c){2===c._state&&0===c._deferreds.length&&k._immediateFn(function(){c._handled||k._unhandledRejectionFn(c._value)});for(var d=0,e=c._deferreds.length;d<e;d++)a(c,c._deferreds[d]);c._deferreds=null}function e(a,c,d){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof c?c:null;this.promise=d}function u(a,c){var d=!1;try{a(function(a){d||(d=!0,f(c,a))},function(a){d||(d=!0,l(c,a))})}catch(I){d||(d=!0,l(c,I))}}var p=
setTimeout;k.prototype["catch"]=function(a){return this.then(null,a)};k.prototype.then=function(c,d){var f=new this.constructor(m);a(this,new e(c,d,f));return f};k.all=function(a){var c=Array.prototype.slice.call(a);return new k(function(a,d){function e(k,h){try{if(h&&("object"===typeof h||"function"===typeof h)){var l=h.then;if("function"===typeof l){l.call(h,function(a){e(k,a)},d);return}}c[k]=h;0===--f&&a(c)}catch(K){d(K)}}if(0===c.length)return a([]);for(var f=c.length,k=0;k<c.length;k++)e(k,
c[k])})};k.resolve=function(a){return a&&"object"===typeof a&&a.constructor===k?a:new k(function(c){c(a)})};k.reject=function(a){return new k(function(c,d){d(a)})};k.race=function(a){return new k(function(c,d){for(var e=0,f=a.length;e<f;e++)a[e].then(c,d)})};k._immediateFn="function"===typeof setImmediate&&function(a){setImmediate(a)}||function(a){p(a,0)};k._unhandledRejectionFn=function(a){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};k._setImmediateFn=
function(a){k._immediateFn=a};k._setUnhandledRejectionFn=function(a){k._unhandledRejectionFn=a};"undefined"!==typeof h&&h.exports?h.exports=k:d.Promise||(d.Promise=k)})(this)},{}],5:[function(d,h,m){Object.defineProperty(m,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};h=(h=d(7))&&h.__esModule?h:{default:h};var q=
d(15),t=d(27),k={lang:"en",en:q.EN,language:function(){for(var a=arguments.length,d=Array(a),h=0;h<a;h++)d[h]=arguments[h];if(null!==d&&void 0!==d&&d.length){if("string"!==typeof d[0])throw new TypeError("Language code must be a string value");if(!/^[a-z]{2,3}((\-|_)[a-z]{2})?$/i.test(d[0]))throw new TypeError("Language code must have format 2-3 letters and. optionally, hyphen, underscore followed by 2 more letters");k.lang=d[0];void 0===k[d[0]]?(d[1]=null!==d[1]&&void 0!==d[1]&&"object"===n(d[1])?
d[1]:{},k[d[0]]=(0,t.isObjectEmpty)(d[1])?q.EN:d[1]):null!==d[1]&&void 0!==d[1]&&"object"===n(d[1])&&(k[d[0]]=d[1])}return k.lang},t:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof a&&a.length){var h=void 0,c=void 0;c=k.language();var e=function(a,c,d){return"object"!==("undefined"===typeof a?"undefined":n(a))||"number"!==typeof c||"number"!==typeof d?a:function(){return[function(){return 1>=arguments.length?void 0:arguments[1]},function(){return 1===
(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2>=arguments.length?void 0:arguments[2]},function(){return 0===(0>=arguments.length?void 0:arguments[0])||1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2>=arguments.length?void 0:arguments[2]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%10&&11!==(0>=arguments.length?NaN:arguments[0])%100?1>=arguments.length?void 0:arguments[1]:0!==(0>=arguments.length?void 0:arguments[0])?
2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?void 0:arguments[0])||11===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?void 0:arguments[0])||12===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:2<(0>=arguments.length?void 0:arguments[0])&&20>(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:4>=arguments.length?
void 0:arguments[4]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:0===(0>=arguments.length?void 0:arguments[0])||0<(0>=arguments.length?NaN:arguments[0])%100&&20>(0>=arguments.length?NaN:arguments[0])%100?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%10&&11!==(0>=arguments.length?NaN:arguments[0])%100?1>=arguments.length?void 0:arguments[1]:2<=
(0>=arguments.length?NaN:arguments[0])%10&&(10>(0>=arguments.length?NaN:arguments[0])%100||20<=(0>=arguments.length?NaN:arguments[0])%100)?2>=arguments.length?void 0:arguments[2]:[3]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%10&&11!==(0>=arguments.length?NaN:arguments[0])%100?1>=arguments.length?void 0:arguments[1]:2<=(0>=arguments.length?NaN:arguments[0])%10&&4>=(0>=arguments.length?NaN:arguments[0])%10&&(10>(0>=arguments.length?NaN:arguments[0])%100||20<=(0>=arguments.length?
NaN:arguments[0])%100)?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2<=(0>=arguments.length?void 0:arguments[0])&&4>=(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2<=(0>=arguments.length?
NaN:arguments[0])%10&&4>=(0>=arguments.length?NaN:arguments[0])%10&&(10>(0>=arguments.length?NaN:arguments[0])%100||20<=(0>=arguments.length?NaN:arguments[0])%100)?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%100?2>=arguments.length?void 0:arguments[2]:2===(0>=arguments.length?NaN:arguments[0])%100?3>=arguments.length?void 0:arguments[3]:3===(0>=arguments.length?NaN:arguments[0])%100||4===(0>=arguments.length?
NaN:arguments[0])%100?4>=arguments.length?void 0:arguments[4]:1>=arguments.length?void 0:arguments[1]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:2<(0>=arguments.length?void 0:arguments[0])&&7>(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:6<(0>=arguments.length?void 0:arguments[0])&&11>(0>=arguments.length?void 0:arguments[0])?
4>=arguments.length?void 0:arguments[4]:5>=arguments.length?void 0:arguments[5]},function(){return 0===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:1===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:2===(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:3<=(0>=arguments.length?NaN:arguments[0])%100&&10>=(0>=arguments.length?NaN:arguments[0])%100?4>=arguments.length?void 0:arguments[4]:11<=(0>=arguments.length?
NaN:arguments[0])%100?5>=arguments.length?void 0:arguments[5]:6>=arguments.length?void 0:arguments[6]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:0===(0>=arguments.length?void 0:arguments[0])||1<(0>=arguments.length?NaN:arguments[0])%100&&11>(0>=arguments.length?NaN:arguments[0])%100?2>=arguments.length?void 0:arguments[2]:10<(0>=arguments.length?NaN:arguments[0])%100&&20>(0>=arguments.length?NaN:arguments[0])%100?3>=arguments.length?void 0:
arguments[3]:4>=arguments.length?void 0:arguments[4]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%10?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?NaN:arguments[0])%10?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 11!==(0>=arguments.length?void 0:arguments[0])&&1===(0>=arguments.length?NaN:arguments[0])%10?1>=arguments.length?void 0:arguments[1]:2>=arguments.length?void 0:arguments[2]},function(){return 1===(0>=
arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2<=(0>=arguments.length?NaN:arguments[0])%10&&4>=(0>=arguments.length?NaN:arguments[0])%10&&(10>(0>=arguments.length?NaN:arguments[0])%100||20<=(0>=arguments.length?NaN:arguments[0])%100)?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?
void 0:arguments[2]:8!==(0>=arguments.length?void 0:arguments[0])&&11!==(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:4>=arguments.length?void 0:arguments[4]},function(){return 0===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2>=arguments.length?void 0:arguments[2]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?
void 0:arguments[2]:3===(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:4>=arguments.length?void 0:arguments[4]},function(){return 0===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:1===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]}]}()[d].apply(null,[c].concat(a))};void 0!==k[c]&&(h=k[c][a],null!==d&&"number"===typeof d&&(c=k[c]["mejs.plural-form"],h=e.apply(null,
[h,d,c])));!h&&k.en&&(h=k.en[a],null!==d&&"number"===typeof d&&(c=k.en["mejs.plural-form"],h=e.apply(null,[h,d,c])));h=h||a;null!==d&&"number"===typeof d&&(h=h.replace("%1",d));return(0,t.escapeHTML)(h)}return a}};h.default.i18n=k;"undefined"!==typeof mejsL10n&&h.default.i18n.language(mejsL10n.language,mejsL10n.strings);m.default=k},{15:15,27:27,7:7}],6:[function(d,h,m){function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(m,"__esModule",{value:!0});var q="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};h=d(3);var t=n(h);h=d(2);var k=n(h);h=d(7);var a=n(h),f=d(27),l=d(28),c=d(8),e=d(25);d=function x(d,h,m){var n=this;if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");var p=this;m=Array.isArray(m)?m:null;p.defaults={renderers:[],fakeNodeName:"mediaelementwrapper",pluginPath:"build/",shimScriptAccess:"sameDomain"};
h=Object.assign(p.defaults,h);p.mediaElement=k.default.createElement(h.fakeNodeName);var A=d,z=!1;"string"===typeof d?p.mediaElement.originalNode=k.default.getElementById(d):(p.mediaElement.originalNode=d,A=d.id);if(void 0===p.mediaElement.originalNode||null===p.mediaElement.originalNode)return null;p.mediaElement.options=h;A=A||"mejs_"+Math.random().toString().slice(2);p.mediaElement.originalNode.setAttribute("id",A+"_from_mejs");d=p.mediaElement.originalNode.tagName.toLowerCase();-1<["video","audio"].indexOf(d)&&
!p.mediaElement.originalNode.getAttribute("preload")&&p.mediaElement.originalNode.setAttribute("preload","metadata");p.mediaElement.originalNode.parentNode.insertBefore(p.mediaElement,p.mediaElement.originalNode);p.mediaElement.appendChild(p.mediaElement.originalNode);d=function(c,d){"https:"===t.default.location.protocol&&0===c.indexOf("http:")&&e.IS_IOS&&-1<a.default.html5media.mediaTypes.indexOf(d)&&(d=new XMLHttpRequest,d.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=
(t.default.URL||t.default.webkitURL).createObjectURL(this.response);p.mediaElement.originalNode.setAttribute("src",a);return a}return c},d.open("GET",c),d.responseType="blob",d.send());return c};var B=void 0;if(null!==m)B=m;else if(null!==p.mediaElement.originalNode)switch(B=[],p.mediaElement.originalNode.nodeName.toLowerCase()){case "iframe":B.push({type:"",src:p.mediaElement.originalNode.getAttribute("src")});break;case "audio":case "video":m=p.mediaElement.originalNode.children.length;if(h=p.mediaElement.originalNode.getAttribute("src")){var G=
p.mediaElement.originalNode;G=(0,l.formatType)(h,G.getAttribute("type"));B.push({type:G,src:d(h,G)})}for(h=0;h<m;h++){var E=p.mediaElement.originalNode.children[h];"source"===E.tagName.toLowerCase()&&(G=E.getAttribute("src"),E=(0,l.formatType)(G,E.getAttribute("type")),B.push({type:E,src:d(G,E)}))}}p.mediaElement.id=A;p.mediaElement.renderers={};p.mediaElement.events={};p.mediaElement.promises=[];p.mediaElement.renderer=null;p.mediaElement.rendererName=null;p.mediaElement.changeRenderer=function(a,
d){var e=2<Object.keys(d[0]).length?d[0]:d[0].src;if(void 0!==n.mediaElement.renderer&&null!==n.mediaElement.renderer&&n.mediaElement.renderer.name===a)return n.mediaElement.renderer.pause(),n.mediaElement.renderer.stop&&n.mediaElement.renderer.stop(),n.mediaElement.renderer.show(),n.mediaElement.renderer.setSrc(e),!0;void 0!==n.mediaElement.renderer&&null!==n.mediaElement.renderer&&(n.mediaElement.renderer.pause(),n.mediaElement.renderer.stop&&n.mediaElement.renderer.stop(),n.mediaElement.renderer.hide());
var f=n.mediaElement.renderers[a];if(void 0!==f&&null!==f)return f.show(),f.setSrc(e),n.mediaElement.renderer=f,n.mediaElement.rendererName=a,!0;f=n.mediaElement.options.renderers.length?n.mediaElement.options.renderers:c.renderer.order;e=0;for(var k=f.length;e<k;e++){var h=f[e];if(h===a)return e=c.renderer.renderers[h],f=Object.assign(e.options,n.mediaElement.options),f=e.create(n.mediaElement,f,d),f.name=a,n.mediaElement.renderers[e.name]=f,n.mediaElement.renderer=f,n.mediaElement.rendererName=
a,f.show(),!0}return!1};p.mediaElement.setSize=function(a,c){void 0!==p.mediaElement.renderer&&null!==p.mediaElement.renderer&&p.mediaElement.renderer.setSize(a,c)};p.mediaElement.generateError=function(a,c){a=a||"";c=Array.isArray(c)?c:[];var d=(0,f.createEvent)("error",p.mediaElement);d.message=a;d.urls=c;p.mediaElement.dispatchEvent(d);z=!0};m=a.default.html5media.properties;A=a.default.html5media.methods;var K=function(a,c,d,e){var f=a[c];Object.defineProperty(a,c,{get:function(){return d.apply(a,
[f])},set:function(c){return f=e.apply(a,[c])}})};h=function(a){if("src"!==a){var c=""+a.substring(0,1).toUpperCase()+a.substring(1),d=function(){return void 0!==p.mediaElement.renderer&&null!==p.mediaElement.renderer&&"function"===typeof p.mediaElement.renderer["get"+c]?p.mediaElement.renderer["get"+c]():null},e=function(a){if(void 0!==p.mediaElement.renderer&&null!==p.mediaElement.renderer&&"function"===typeof p.mediaElement.renderer["set"+c])p.mediaElement.renderer["set"+c](a)};K(p.mediaElement,
a,d,e);p.mediaElement["get"+c]=d;p.mediaElement["set"+c]=e}};G=function(){return void 0!==p.mediaElement.renderer&&null!==p.mediaElement.renderer?p.mediaElement.renderer.getSrc():null};E=function(a){var d=[];if("string"===typeof a)d.push({src:a,type:a?(0,l.getTypeFromFile)(a):""});else if("object"===("undefined"===typeof a?"undefined":q(a))&&void 0!==a.src){var e=(0,l.absolutizeUrl)(a.src),k=a.type;a=Object.assign(a,{src:e,type:""!==k&&null!==k&&void 0!==k||!e?k:(0,l.getTypeFromFile)(e)});d.push(a)}else if(Array.isArray(a))for(e=
0,k=a.length;e<k;e++){var h=(0,l.absolutizeUrl)(a[e].src),m=a[e].type;h=Object.assign(a[e],{src:h,type:""!==m&&null!==m&&void 0!==m||!h?m:(0,l.getTypeFromFile)(h)});d.push(h)}a=c.renderer.select(d,p.mediaElement.options.renderers.length?p.mediaElement.options.renderers:[]);p.mediaElement.paused||null==p.mediaElement.src||""===p.mediaElement.src||(p.mediaElement.pause(),e=(0,f.createEvent)("pause",p.mediaElement),p.mediaElement.dispatchEvent(e));p.mediaElement.originalNode.src=d[0].src||"";if(null===
a&&d[0].src)p.mediaElement.generateError("No renderer found",d);else return null!=d[0].src&&""!==d[0].src?p.mediaElement.changeRenderer(a.rendererName,d):null};var N=function(a,c){try{if("play"!==a||"native_dash"!==p.mediaElement.rendererName&&"native_hls"!==p.mediaElement.rendererName&&"vimeo_iframe"!==p.mediaElement.rendererName)p.mediaElement.renderer[a](c);else{var d=p.mediaElement.renderer[a](c);d&&"function"===typeof d.then&&d.catch(function(){p.mediaElement.paused&&setTimeout(function(){var a=
p.mediaElement.renderer.play();void 0!==a&&a.catch(function(){p.mediaElement.renderer.paused||p.mediaElement.renderer.pause()})},150)})}}catch(ha){p.mediaElement.generateError(ha,B)}};d=function(a){p.mediaElement[a]=function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];void 0!==p.mediaElement.renderer&&null!==p.mediaElement.renderer&&"function"===typeof p.mediaElement.renderer[a]&&(p.mediaElement.promises.length?Promise.all(p.mediaElement.promises).then(function(){N(a,d)}).catch(function(a){p.mediaElement.generateError(a,
B)}):N(a,d));return null}};K(p.mediaElement,"src",G,E);p.mediaElement.getSrc=G;p.mediaElement.setSrc=E;G=0;for(E=m.length;G<E;G++)h(m[G]);m=0;for(h=A.length;m<h;m++)d(A[m]);p.mediaElement.addEventListener=function(a,c){p.mediaElement.events[a]=p.mediaElement.events[a]||[];p.mediaElement.events[a].push(c)};p.mediaElement.removeEventListener=function(a,c){if(!a)return p.mediaElement.events={},!0;var d=p.mediaElement.events[a];if(!d)return!0;if(!c)return p.mediaElement.events[a]=[],!0;for(var e=0;e<
d.length;e++)if(d[e]===c)return p.mediaElement.events[a].splice(e,1),!0;return!1};p.mediaElement.dispatchEvent=function(a){var c=p.mediaElement.events[a.type];if(c)for(var d=0;d<c.length;d++)c[d].apply(null,[a])};p.mediaElement.destroy=function(){var a=p.mediaElement.originalNode.cloneNode(!0),c=p.mediaElement.parentElement;a.removeAttribute("id");a.remove();p.mediaElement.remove();c.appendChild(a)};B.length&&(p.mediaElement.src=B);p.mediaElement.promises.length?Promise.all(p.mediaElement.promises).then(function(){p.mediaElement.options.success&&
p.mediaElement.options.success(p.mediaElement,p.mediaElement.originalNode)}).catch(function(){z&&p.mediaElement.options.error&&p.mediaElement.options.error(p.mediaElement,p.mediaElement.originalNode)}):(p.mediaElement.options.success&&p.mediaElement.options.success(p.mediaElement,p.mediaElement.originalNode),z&&p.mediaElement.options.error&&p.mediaElement.options.error(p.mediaElement,p.mediaElement.originalNode));return p.mediaElement};t.default.MediaElement=d;a.default.MediaElement=d;m.default=d},
{2:2,25:25,27:27,28:28,3:3,7:7,8:8}],7:[function(d,h,m){Object.defineProperty(m,"__esModule",{value:!0});d=d(3);h={version:"4.2.16",html5media:{properties:"volume src currentTime muted duration paused ended buffered error networkState readyState seeking seekable currentSrc preload bufferedBytes bufferedTime initialTime startOffsetTime defaultPlaybackRate playbackRate played autoplay loop controls".split(" "),readOnlyProperties:"duration paused ended buffered error networkState readyState seeking seekable".split(" "),
methods:["load","play","pause","canPlayType"],events:"loadstart durationchange loadedmetadata loadeddata progress canplay canplaythrough suspend abort error emptied stalled play playing pause waiting seeking seeked timeupdate ended ratechange volumechange".split(" "),mediaTypes:"audio/mp3 audio/ogg audio/oga audio/wav audio/x-wav audio/wave audio/x-pn-wav audio/mpeg audio/mp4 video/mp4 video/webm video/ogg video/ogv".split(" ")}};(d&&d.__esModule?d:{default:d}).default.mejs=h;m.default=h},{3:3}],
8:[function(d,h,m){Object.defineProperty(m,"__esModule",{value:!0});m.renderer=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},q=function(){function d(d,a){for(var f=0;f<a.length;f++){var k=a[f];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(d,k.key,k)}}return function(k,a,f){a&&
d(k.prototype,a);f&&d(k,f);return k}}();d=(d=d(7))&&d.__esModule?d:{default:d};h=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.renderers={};this.order=[]}q(d,[{key:"add",value:function(d){if(void 0===d.name)throw new TypeError("renderer must contain at least `name` property");this.renderers[d.name]=d;this.order.push(d.name)}},{key:"select",value:function(d){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],f=a.length;a=
a.length?a:this.order;if(!f){var k=[/^(html5|native)/i,/^flash/i,/iframe$/i],c=function(a){for(var c=0,d=k.length;c<d;c++)if(k[c].test(a))return c;return k.length};a.sort(function(a,d){return c(a)-c(d)})}f=0;for(var e=a.length;f<e;f++){var h=this.renderers[a[f]];if(null!==h&&void 0!==h)for(var m=0,n=d.length;m<n;m++)if("function"===typeof h.canPlayType&&"string"===typeof d[m].type&&h.canPlayType(d[m].type))return{rendererName:h.name,src:d[m].src}}return null}},{key:"order",set:function(d){if(!Array.isArray(d))throw new TypeError("order must be an array of strings.");
this._order=d},get:function(){return this._order}},{key:"renderers",set:function(d){if(null!==d&&"object"!==("undefined"===typeof d?"undefined":n(d)))throw new TypeError("renderers must be an array of objects.");this._renderers=d},get:function(){return this._renderers}}]);return d}();m=m.renderer=new h;d.default.Renderers=m},{7:7}],9:[function(d,h,m){function n(a){return a&&a.__esModule?a:{default:a}}h=d(3);var q=n(h);h=d(2);var t=n(h);h=d(5);var k=n(h);h=d(16);m=n(h);var a=function(a){if(a&&a.__esModule)return a;
var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c.default=a;return c}(d(25)),f=d(27),l=d(26),c=d(28);Object.assign(h.config,{usePluginFullScreen:!0,fullscreenText:null,useFakeFullscreen:!1});Object.assign(m.default.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,isPluginClickThroughCreated:!1,fullscreenMode:"",containerSizeTimeout:null,buildfullscreen:function(c){if(c.isVideo){c.isInIframe=q.default.location!==q.default.parent.location;c.detectFullscreenMode();
var d=this,e=(0,f.isString)(d.options.fullscreenText)?d.options.fullscreenText:k.default.t("mejs.fullscreen"),h=t.default.createElement("div");h.className=d.options.classPrefix+"button "+d.options.classPrefix+"fullscreen-button";h.innerHTML='<button type="button" aria-controls="'+d.id+'" title="'+e+'" aria-label="'+e+'" tabindex="0"></button>';d.addControlElement(h,"fullscreen");h.addEventListener("click",function(){a.HAS_TRUE_NATIVE_FULLSCREEN&&a.IS_FULLSCREEN||c.isFullScreen?c.exitFullScreen():
c.enterFullScreen()});c.fullscreenBtn=h;d.options.keyActions.push({keys:[70],action:function(a,c,d,e){e.ctrlKey||"undefined"!==typeof a.enterFullScreen&&(a.isFullScreen?a.exitFullScreen():a.enterFullScreen())}});d.exitFullscreenCallback=function(e){e=e.which||e.keyCode||0;d.options.enableKeyboard&&27===e&&(a.HAS_TRUE_NATIVE_FULLSCREEN&&a.IS_FULLSCREEN||d.isFullScreen)&&c.exitFullScreen()};d.globalBind("keydown",d.exitFullscreenCallback);d.normalHeight=0;d.normalWidth=0;a.HAS_TRUE_NATIVE_FULLSCREEN&&
c.globalBind(a.FULLSCREEN_EVENT_NAME,function(){c.isFullScreen&&(a.isFullScreen()?(c.isNativeFullScreen=!0,c.setControlsSize()):(c.isNativeFullScreen=!1,c.exitFullScreen()))})}},cleanfullscreen:function(a){a.exitFullScreen();a.globalUnbind("keydown",a.exitFullscreenCallback)},detectFullscreenMode:function(){var c=null!==this.media.rendererName&&/(native|html5)/i.test(this.media.rendererName),d="";a.HAS_TRUE_NATIVE_FULLSCREEN&&c?d="native-native":a.HAS_TRUE_NATIVE_FULLSCREEN&&!c?d="plugin-native":
this.usePluginFullScreen&&a.SUPPORT_POINTER_EVENTS&&(d="plugin-click");return this.fullscreenMode=d},enterFullScreen:function(){var d=this,k=null!==d.media.rendererName&&/(html5|native)/i.test(d.media.rendererName),h=getComputedStyle(d.getElement(d.container));if(d.isVideo)if(!1===d.options.useFakeFullscreen&&(a.IS_IOS||a.IS_SAFARI)&&a.HAS_IOS_FULLSCREEN&&"function"===typeof d.media.originalNode.webkitEnterFullscreen&&d.media.originalNode.canPlayType((0,c.getTypeFromFile)(d.media.getSrc())))d.media.originalNode.webkitEnterFullscreen();
else{(0,l.addClass)(t.default.documentElement,d.options.classPrefix+"fullscreen");(0,l.addClass)(d.getElement(d.container),d.options.classPrefix+"container-fullscreen");(0,l.addClass)(d.getElement(d.container.parentNode),"Fullscreen");d.normalHeight=parseFloat(h.height);d.normalWidth=parseFloat(h.width);if("native-native"===d.fullscreenMode||"plugin-native"===d.fullscreenMode)a.requestFullScreen(d.getElement(d.container)),d.isInIframe&&setTimeout(function x(){if(d.isNativeFullScreen){var a=screen.width;
Math.abs(a-(q.default.innerWidth||t.default.documentElement.clientWidth||t.default.body.clientWidth))>.002*a||setTimeout(x,500)}},1E3);d.getElement(d.container).style.width="100%";d.getElement(d.container).style.height="100%";d.containerSizeTimeout=setTimeout(function(){d.getElement(d.container).style.width="100%";d.getElement(d.container).style.height="100%";d.setControlsSize()},500);if(k)d.node.style.width="100%",d.node.style.height="100%";else{k=d.getElement(d.container).querySelectorAll("embed, object, video");
h=k.length;for(var m=0;m<h;m++)k[m].style.width="100%",k[m].style.height="100%"}d.options.setDimensions&&"function"===typeof d.media.setSize&&d.media.setSize(screen.width,screen.height);k=d.getElement(d.layers).children;h=k.length;for(m=0;m<h;m++)k[m].style.width="100%",k[m].style.height="100%";d.fullscreenBtn&&((0,l.removeClass)(d.fullscreenBtn,d.options.classPrefix+"fullscreen"),(0,l.addClass)(d.fullscreenBtn,d.options.classPrefix+"unfullscreen"));d.setControlsSize();d.isFullScreen=!0;k=Math.min(screen.width/
d.width,screen.height/d.height);if(h=d.getElement(d.container).querySelector("."+d.options.classPrefix+"captions-text"))h.style.fontSize=100*k+"%",h.style.lineHeight="normal",d.getElement(d.container).querySelector("."+d.options.classPrefix+"captions-position").style.bottom=(screen.height-d.normalHeight)/2-d.getElement(d.controls).offsetHeight/2+k+15+"px";k=(0,f.createEvent)("enteredfullscreen",d.getElement(d.container));d.getElement(d.container).dispatchEvent(k)}},exitFullScreen:function(){var c=
null!==this.media.rendererName&&/(native|html5)/i.test(this.media.rendererName);if(this.isVideo){clearTimeout(this.containerSizeTimeout);a.HAS_TRUE_NATIVE_FULLSCREEN&&(a.IS_FULLSCREEN||this.isFullScreen)&&a.cancelFullScreen();(0,l.removeClass)(t.default.documentElement,this.options.classPrefix+"fullscreen");(0,l.removeClass)(this.getElement(this.container),this.options.classPrefix+"container-fullscreen");(0,l.removeClass)(this.getElement(this.container.parentNode),"Fullscreen");if(this.options.setDimensions){this.getElement(this.container).style.width=
this.normalWidth+"px";this.getElement(this.container).style.height=this.normalHeight+"px";if(c)this.node.style.width=this.normalWidth+"px",this.node.style.height=this.normalHeight+"px";else{c=this.getElement(this.container).querySelectorAll("embed, object, video");for(var d=c.length,k=0;k<d;k++)c[k].style.width=this.normalWidth+"px",c[k].style.height=this.normalHeight+"px"}"function"===typeof this.media.setSize&&this.media.setSize(this.normalWidth,this.normalHeight);c=this.getElement(this.layers).children;
d=c.length;for(k=0;k<d;k++)c[k].style.width=this.normalWidth+"px",c[k].style.height=this.normalHeight+"px"}this.fullscreenBtn&&((0,l.removeClass)(this.fullscreenBtn,this.options.classPrefix+"unfullscreen"),(0,l.addClass)(this.fullscreenBtn,this.options.classPrefix+"fullscreen"));this.setControlsSize();this.isFullScreen=!1;if(c=this.getElement(this.container).querySelector("."+this.options.classPrefix+"captions-text"))c.style.fontSize="",c.style.lineHeight="",this.getElement(this.container).querySelector("."+
this.options.classPrefix+"captions-position").style.bottom="";c=(0,f.createEvent)("exitedfullscreen",this.getElement(this.container));this.getElement(this.container).dispatchEvent(c)}}})},{16:16,2:2,25:25,26:26,27:27,28:28,3:3,5:5}],10:[function(d,h,m){function n(a){return a&&a.__esModule?a:{default:a}}h=d(2);var q=n(h);h=d(16);m=n(h);var t=d(5),k=n(t),a=d(27),f=d(26);Object.assign(h.config,{playText:null,pauseText:null});Object.assign(m.default.prototype,{buildplaypause:function(d,c,e,h){function l(a){"play"===
a?((0,f.removeClass)(p,m.options.classPrefix+"play"),(0,f.removeClass)(p,m.options.classPrefix+"replay"),(0,f.addClass)(p,m.options.classPrefix+"pause"),t.setAttribute("title",u),t.setAttribute("aria-label",u)):((0,f.removeClass)(p,m.options.classPrefix+"pause"),(0,f.removeClass)(p,m.options.classPrefix+"replay"),(0,f.addClass)(p,m.options.classPrefix+"play"),t.setAttribute("title",n),t.setAttribute("aria-label",n))}var m=this;c=m.options;var n=(0,a.isString)(c.playText)?c.playText:k.default.t("mejs.play"),
u=(0,a.isString)(c.pauseText)?c.pauseText:k.default.t("mejs.pause"),p=q.default.createElement("div");p.className=m.options.classPrefix+"button "+m.options.classPrefix+"playpause-button "+m.options.classPrefix+"play";p.innerHTML='<button type="button" aria-controls="'+m.id+'" title="'+n+'" aria-label="'+u+'" tabindex="0"></button>';p.addEventListener("click",function(){m.paused?m.play():m.pause()});var t=p.querySelector("button");m.addControlElement(p,"playpause");l("pse");h.addEventListener("loadedmetadata",
function(){-1===h.rendererName.indexOf("flash")&&l("pse")});h.addEventListener("play",function(){l("play")});h.addEventListener("playing",function(){l("play")});h.addEventListener("pause",function(){l("pse")});h.addEventListener("ended",function(){d.options.loop||((0,f.removeClass)(p,m.options.classPrefix+"pause"),(0,f.removeClass)(p,m.options.classPrefix+"play"),(0,f.addClass)(p,m.options.classPrefix+"replay"),t.setAttribute("title",n),t.setAttribute("aria-label",n))})}})},{16:16,2:2,26:26,27:27,
5:5}],11:[function(d,h,m){function n(a){return a&&a.__esModule?a:{default:a}}h=d(2);var q=n(h);h=d(16);m=n(h);var t=d(5),k=n(t),a=d(25),f=d(30),l=d(26);Object.assign(h.config,{enableProgressTooltip:!0,useSmoothHover:!0,forceLive:!1});Object.assign(m.default.prototype,{buildprogress:function(c,d,h,m){var e=0,n=!1,u=!1,p=this,t=c.options.autoRewind;h=c.options.enableProgressTooltip?'<span class="'+p.options.classPrefix+'time-float"><span class="'+(p.options.classPrefix+'time-float-current">00:00</span><span class="')+
(p.options.classPrefix+'time-float-corner"></span></span>'):"";var A=q.default.createElement("div");A.className=p.options.classPrefix+"time-rail";A.innerHTML='<span class="'+p.options.classPrefix+"time-total "+p.options.classPrefix+'time-slider"><span class="'+(p.options.classPrefix+'time-buffering"></span><span class="')+(p.options.classPrefix+'time-loaded"></span><span class="')+(p.options.classPrefix+'time-current"></span><span class="')+(p.options.classPrefix+'time-hovered no-hover"></span><span class="')+
(p.options.classPrefix+'time-handle"><span class="'+p.options.classPrefix+'time-handle-content"></span></span>')+h+"</span>";p.addControlElement(A,"progress");p.options.keyActions.push({keys:[37,227],action:function(a){if(!isNaN(a.duration)&&0<a.duration){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=a.getElement(a.container).querySelector("."+p.options.classPrefix+"time-total");c&&c.focus();var d=Math.max(a.currentTime-a.options.defaultSeekBackwardInterval(a),0);a.paused||a.pause();
setTimeout(function(){a.setCurrentTime(d)},0);setTimeout(function(){a.play()},0)}}},{keys:[39,228],action:function(a){if(!isNaN(a.duration)&&0<a.duration){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=a.getElement(a.container).querySelector("."+p.options.classPrefix+"time-total");c&&c.focus();var d=Math.min(a.currentTime+a.options.defaultSeekForwardInterval(a),a.duration);a.paused||a.pause();setTimeout(function(){a.setCurrentTime(d)},0);setTimeout(function(){a.play()},0)}}});p.rail=d.querySelector("."+
p.options.classPrefix+"time-rail");p.total=d.querySelector("."+p.options.classPrefix+"time-total");p.loaded=d.querySelector("."+p.options.classPrefix+"time-loaded");p.current=d.querySelector("."+p.options.classPrefix+"time-current");p.handle=d.querySelector("."+p.options.classPrefix+"time-handle");p.timefloat=d.querySelector("."+p.options.classPrefix+"time-float");p.timefloatcurrent=d.querySelector("."+p.options.classPrefix+"time-float-current");p.slider=d.querySelector("."+p.options.classPrefix+
"time-slider");p.hovered=d.querySelector("."+p.options.classPrefix+"time-hovered");p.buffer=d.querySelector("."+p.options.classPrefix+"time-buffering");p.newTime=0;p.forcedHandlePause=!1;p.setTransformStyle=function(a,c){a.style.transform=c;a.style.webkitTransform=c;a.style.MozTransform=c;a.style.msTransform=c;a.style.OTransform=c};p.buffer.style.display="none";var z=function(d){var e=getComputedStyle(p.total),k=(0,l.offset)(p.total),h=p.total.offsetWidth,m=void 0!==e.webkitTransform?"webkitTransform":
void 0!==e.mozTransform?"mozTransform ":void 0!==e.oTransform?"oTransform":void 0!==e.msTransform?"msTransform":"transform",u=function(){if("WebKitCSSMatrix"in window)return"WebKitCSSMatrix";if("MSCSSMatrix"in window)return"MSCSSMatrix";if("CSSMatrix"in window)return"CSSMatrix"}();e=e=0;var q=void 0;q=d.originalEvent&&d.originalEvent.changedTouches?d.originalEvent.changedTouches[0].pageX:d.changedTouches?d.changedTouches[0].pageX:d.pageX;p.getDuration()?(q<k.left?q=k.left:q>h+k.left&&(q=h+k.left),
e=q-k.left,p.newTime=e/h*p.getDuration(),n&&null!==p.getCurrentTime()&&p.newTime.toFixed(4)!==p.getCurrentTime().toFixed(4)&&(p.setCurrentRailHandle(p.newTime),p.updateCurrent(p.newTime)),a.IS_IOS||a.IS_ANDROID||(0>e&&(e=0),p.options.useSmoothHover&&null!==u&&"undefined"!==typeof window[u]&&(d=(new window[u](getComputedStyle(p.handle)[m])).m41,k=e/parseFloat(getComputedStyle(p.total).width)-d/parseFloat(getComputedStyle(p.total).width),p.hovered.style.left=d+"px",p.setTransformStyle(p.hovered,"scaleX("+
k+")"),p.hovered.setAttribute("pos",e),0<=k?(0,l.removeClass)(p.hovered,"negative"):(0,l.addClass)(p.hovered,"negative")),p.timefloat&&(k=p.timefloat.offsetWidth/2,h=mejs.Utils.offset(p.getElement(p.container)),d=getComputedStyle(p.timefloat),e=q-h.left<p.timefloat.offsetWidth?k:q-h.left>=p.getElement(p.container).offsetWidth-k?p.total.offsetWidth-k:e,(0,l.hasClass)(p.getElement(p.container),p.options.classPrefix+"long-video")&&(e+=parseFloat(d.marginLeft)/2+p.timefloat.offsetWidth/2),p.timefloat.style.left=
e+"px",p.timefloatcurrent.innerHTML=(0,f.secondsToTimeCode)(p.newTime,c.options.alwaysShowHours,c.options.showTimecodeFrameCount,c.options.framesPerSecond,c.options.secondsDecimalLength,c.options.timeFormat),p.timefloat.style.display="block"))):a.IS_IOS||a.IS_ANDROID||!p.timefloat||(e=p.timefloat.offsetWidth+h>=p.getElement(p.container).offsetWidth?p.timefloat.offsetWidth/2:0,p.timefloat.style.left=e+"px",p.timefloat.style.left=e+"px",p.timefloat.style.display="block")},C=function(){1E3<=new Date-
e&&p.play()};p.slider.addEventListener("focus",function(){c.options.autoRewind=!1});p.slider.addEventListener("blur",function(){c.options.autoRewind=t});p.slider.addEventListener("keydown",function(d){1E3<=new Date-e&&(u=p.paused);if(p.options.enableKeyboard&&p.options.keyActions.length){var f=d.which||d.keyCode||0,k=p.getDuration(),h=c.options.defaultSeekForwardInterval(m),l=c.options.defaultSeekBackwardInterval(m),n=p.getCurrentTime(),q=p.getElement(p.container).querySelector("."+p.options.classPrefix+
"volume-slider");if(38===f||40===f)q&&(q.style.display="block"),p.isVideo&&(p.showControls(),p.startControlsTimer()),d=38===f?Math.min(p.volume+.1,1):Math.max(p.volume-.1,0),f=0>=d,p.setVolume(d),p.setMuted(f);else{q&&(q.style.display="none");switch(f){case 37:Infinity!==p.getDuration()&&(n-=l);break;case 39:Infinity!==p.getDuration()&&(n+=h);break;case 36:n=0;break;case 35:n=k;break;case 13:case 32:a.IS_FIREFOX&&(p.paused?p.play():p.pause());return;default:return}n=0>n||isNaN(n)?0:n>=k?k:Math.floor(n);
e=new Date;u||c.pause();setTimeout(function(){p.setCurrentTime(n)},0);n<p.getDuration()&&!u&&setTimeout(C,1100);c.showControls();d.preventDefault();d.stopPropagation()}}});h=["mousedown","touchstart"];p.slider.addEventListener("dragstart",function(){return!1});A=0;for(var F=h.length;A<F;A++)p.slider.addEventListener(h[A],function(a){p.forcedHandlePause=!1;if(Infinity!==p.getDuration()&&(1===a.which||0===a.which)){p.paused||(p.pause(),p.forcedHandlePause=!0);n=!0;z(a);a=["mouseup","touchend"];for(var c=
0,d=a.length;c<d;c++)p.getElement(p.container).addEventListener(a[c],function(a){var c=a.target;(c===p.slider||c.closest("."+p.options.classPrefix+"time-slider"))&&z(a)});p.globalBind("mouseup.dur touchend.dur",function(){n&&null!==p.getCurrentTime()&&p.newTime.toFixed(4)!==p.getCurrentTime().toFixed(4)&&(p.setCurrentTime(p.newTime),p.setCurrentRailHandle(p.newTime),p.updateCurrent(p.newTime));p.forcedHandlePause&&(p.slider.focus(),p.play());n=p.forcedHandlePause=!1;p.timefloat&&(p.timefloat.style.display=
"none")})}},a.SUPPORT_PASSIVE_EVENT&&"touchstart"===h[A]?{passive:!0}:!1);p.slider.addEventListener("mouseenter",function(c){c.target===p.slider&&Infinity!==p.getDuration()&&(p.getElement(p.container).addEventListener("mousemove",function(a){var c=a.target;(c===p.slider||c.closest("."+p.options.classPrefix+"time-slider"))&&z(a)}),!p.timefloat||a.IS_IOS||a.IS_ANDROID||(p.timefloat.style.display="block"),p.hovered&&!a.IS_IOS&&!a.IS_ANDROID&&p.options.useSmoothHover&&(0,l.removeClass)(p.hovered,"no-hover"))});
p.slider.addEventListener("mouseleave",function(){Infinity===p.getDuration()||n||(p.timefloat&&(p.timefloat.style.display="none"),p.hovered&&p.options.useSmoothHover&&(0,l.addClass)(p.hovered,"no-hover"))});p.broadcastCallback=function(a){var e=d.querySelector("."+p.options.classPrefix+"broadcast");if(p.options.forceLive||Infinity===p.getDuration())!e&&p.options.forceLive&&(a=q.default.createElement("span"),a.className=p.options.classPrefix+"broadcast",a.innerText=k.default.t("mejs.live-broadcast"),
p.slider.style.display="none",p.rail.appendChild(a));else{e&&(p.slider.style.display="",e.remove());c.setProgressRail(a);p.forcedHandlePause||c.setCurrentRail(a);a=p.getCurrentTime();e=k.default.t("mejs.time-slider");var h=(0,f.secondsToTimeCode)(a,c.options.alwaysShowHours,c.options.showTimecodeFrameCount,c.options.framesPerSecond,c.options.secondsDecimalLength,c.options.timeFormat),l=p.getDuration();p.slider.setAttribute("role","slider");p.slider.tabIndex=0;m.paused?(p.slider.setAttribute("aria-label",
e),p.slider.setAttribute("aria-valuemin",0),p.slider.setAttribute("aria-valuemax",isNaN(l)?0:l),p.slider.setAttribute("aria-valuenow",a),p.slider.setAttribute("aria-valuetext",h)):(p.slider.removeAttribute("aria-label"),p.slider.removeAttribute("aria-valuemin"),p.slider.removeAttribute("aria-valuemax"),p.slider.removeAttribute("aria-valuenow"),p.slider.removeAttribute("aria-valuetext"))}};m.addEventListener("progress",p.broadcastCallback);m.addEventListener("timeupdate",p.broadcastCallback);m.addEventListener("play",
function(){p.buffer.style.display="none"});m.addEventListener("playing",function(){p.buffer.style.display="none"});m.addEventListener("seeking",function(){p.buffer.style.display=""});m.addEventListener("seeked",function(){p.buffer.style.display="none"});m.addEventListener("pause",function(){p.buffer.style.display="none"});m.addEventListener("waiting",function(){p.buffer.style.display=""});m.addEventListener("loadeddata",function(){p.buffer.style.display=""});m.addEventListener("canplay",function(){p.buffer.style.display=
"none"});m.addEventListener("error",function(){p.buffer.style.display="none"});p.getElement(p.container).addEventListener("controlsresize",function(a){Infinity!==p.getDuration()&&(c.setProgressRail(a),p.forcedHandlePause||c.setCurrentRail(a))})},cleanprogress:function(a,d,f,k){k.removeEventListener("progress",a.broadcastCallback);k.removeEventListener("timeupdate",a.broadcastCallback);a.rail&&a.rail.remove()},setProgressRail:function(a){var c=void 0!==a?a.detail.target||a.target:this.media,d=null;
c&&c.buffered&&0<c.buffered.length&&c.buffered.end&&this.getDuration()?d=c.buffered.end(c.buffered.length-1)/this.getDuration():c&&void 0!==c.bytesTotal&&0<c.bytesTotal&&void 0!==c.bufferedBytes?d=c.bufferedBytes/c.bytesTotal:a&&a.lengthComputable&&0!==a.total&&(d=a.loaded/a.total);null!==d&&(d=Math.min(1,Math.max(0,d)),this.loaded&&this.setTransformStyle(this.loaded,"scaleX("+d+")"))},setCurrentRailHandle:function(a){this.setCurrentRailMain(this,a)},setCurrentRail:function(){this.setCurrentRailMain(this)},
setCurrentRailMain:function(a,d){if(void 0!==a.getCurrentTime()&&a.getDuration()){var c="undefined"===typeof d?a.getCurrentTime():d;if(a.total&&a.handle){d=parseFloat(getComputedStyle(a.total).width);var e=Math.round(d*c/a.getDuration());c=e-Math.round(a.handle.offsetWidth/2);c=0>c?0:c;a.setTransformStyle(a.current,"scaleX("+e/d+")");a.setTransformStyle(a.handle,"translateX("+c+"px)");a.options.useSmoothHover&&!(0,l.hasClass)(a.hovered,"no-hover")&&(e=parseInt(a.hovered.getAttribute("pos"),10),e=
isNaN(e)?0:e,d=e/d-c/d,a.hovered.style.left=c+"px",a.setTransformStyle(a.hovered,"scaleX("+d+")"),0<=d?(0,l.removeClass)(a.hovered,"negative"):(0,l.addClass)(a.hovered,"negative"))}}}})},{16:16,2:2,25:25,26:26,30:30,5:5}],12:[function(d,h,m){var n=(h=d(2))&&h.__esModule?h:{default:h};m=(h=d(16))&&h.__esModule?h:{default:h};var q=d(30),t=d(26);Object.assign(h.config,{duration:0,timeAndDurationSeparator:"<span> | </span>"});Object.assign(m.default.prototype,{buildcurrent:function(d,a,f,h){var c=this;
a=n.default.createElement("div");a.className=c.options.classPrefix+"time";a.setAttribute("role","timer");a.setAttribute("aria-live","off");a.innerHTML='<span class="'+c.options.classPrefix+'currenttime">'+(0,q.secondsToTimeCode)(0,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond,d.options.secondsDecimalLength,d.options.timeFormat)+"</span>";c.addControlElement(a,"current");d.updateCurrent();c.updateTimeCallback=function(){c.controlsAreVisible&&d.updateCurrent()};
h.addEventListener("timeupdate",c.updateTimeCallback)},cleancurrent:function(d,a,f,h){h.removeEventListener("timeupdate",d.updateTimeCallback)},buildduration:function(d,a,f,h){var c=this;a.lastChild.querySelector("."+c.options.classPrefix+"currenttime")?a.querySelector("."+c.options.classPrefix+"time").innerHTML+=c.options.timeAndDurationSeparator+'<span class="'+c.options.classPrefix+'duration">'+((0,q.secondsToTimeCode)(c.options.duration,c.options.alwaysShowHours,c.options.showTimecodeFrameCount,
c.options.framesPerSecond,c.options.secondsDecimalLength,c.options.timeFormat)+"</span>"):(a.querySelector("."+c.options.classPrefix+"currenttime")&&(0,t.addClass)(a.querySelector("."+c.options.classPrefix+"currenttime").parentNode,c.options.classPrefix+"currenttime-container"),a=n.default.createElement("div"),a.className=c.options.classPrefix+"time "+c.options.classPrefix+"duration-container",a.innerHTML='<span class="'+c.options.classPrefix+'duration">'+((0,q.secondsToTimeCode)(c.options.duration,
c.options.alwaysShowHours,c.options.showTimecodeFrameCount,c.options.framesPerSecond,c.options.secondsDecimalLength,c.options.timeFormat)+"</span>"),c.addControlElement(a,"duration"));c.updateDurationCallback=function(){c.controlsAreVisible&&d.updateDuration()};h.addEventListener("timeupdate",c.updateDurationCallback)},cleanduration:function(d,a,f,h){h.removeEventListener("timeupdate",d.updateDurationCallback)},updateCurrent:function(){var d=this.getCurrentTime();isNaN(d)&&(d=0);d=(0,q.secondsToTimeCode)(d,
this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond,this.options.secondsDecimalLength,this.options.timeFormat);5<d.length?(0,t.addClass)(this.getElement(this.container),this.options.classPrefix+"long-video"):(0,t.removeClass)(this.getElement(this.container),this.options.classPrefix+"long-video");this.getElement(this.controls).querySelector("."+this.options.classPrefix+"currenttime")&&(this.getElement(this.controls).querySelector("."+this.options.classPrefix+
"currenttime").innerText=d)},updateDuration:function(){var d=this.getDuration();void 0!==this.media&&(isNaN(d)||Infinity===d||0>d)&&(this.media.duration=this.options.duration=d=0);0<this.options.duration&&(d=this.options.duration);var a=(0,q.secondsToTimeCode)(d,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond,this.options.secondsDecimalLength,this.options.timeFormat);5<a.length?(0,t.addClass)(this.getElement(this.container),this.options.classPrefix+"long-video"):
(0,t.removeClass)(this.getElement(this.container),this.options.classPrefix+"long-video");this.getElement(this.controls).querySelector("."+this.options.classPrefix+"duration")&&0<d&&(this.getElement(this.controls).querySelector("."+this.options.classPrefix+"duration").innerHTML=a)}})},{16:16,2:2,26:26,30:30}],13:[function(d,h,n){function p(a){return a&&a.__esModule?a:{default:a}}h=d(2);var q=p(h);h=d(7);var t=p(h);h=d(5);var k=p(h);h=d(16);n=p(h);var a=d(30),f=d(27),l=d(26);Object.assign(h.config,
{startLanguage:"",tracksText:null,chaptersText:null,tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""});Object.assign(n.default.prototype,{hasChapters:!1,buildtracks:function(a,d,h,m){this.findTracks();if(a.tracks.length||a.trackFiles){var c=this,e=c.options.tracksAriaLive?' role="log" aria-live="assertive" aria-atomic="false"':"",n=(0,f.isString)(c.options.tracksText)?c.options.tracksText:k.default.t("mejs.captions-subtitles"),u=(0,f.isString)(c.options.chaptersText)?
c.options.chaptersText:k.default.t("mejs.captions-chapters"),p=null===a.trackFiles?a.tracks.length:a.trackFiles.length;if(c.domNode.textTracks)for(var t=c.domNode.textTracks.length-1;0<=t;t--)c.domNode.textTracks[t].mode="hidden";c.cleartracks(a);a.captions=q.default.createElement("div");a.captions.className=c.options.classPrefix+"captions-layer "+c.options.classPrefix+"layer";a.captions.innerHTML='<div class="'+c.options.classPrefix+"captions-position "+c.options.classPrefix+'captions-position-hover"'+
e+'><span class="'+(c.options.classPrefix+'captions-text"></span></div>');a.captions.style.display="none";h.insertBefore(a.captions,h.firstChild);a.captionsText=a.captions.querySelector("."+c.options.classPrefix+"captions-text");a.captionsButton=q.default.createElement("div");a.captionsButton.className=c.options.classPrefix+"button "+c.options.classPrefix+"captions-button";a.captionsButton.innerHTML='<button type="button" aria-controls="'+c.id+'" title="'+n+'" aria-label="'+n+'" tabindex="-1"></button><div class="'+
(c.options.classPrefix+"captions-selector "+c.options.classPrefix+'offscreen"><ul class="')+(c.options.classPrefix+'captions-selector-list"><li class="')+(c.options.classPrefix+'captions-selector-list-item"><input type="radio" class="')+(c.options.classPrefix+'captions-selector-input" name="')+(a.id+'_captions" id="'+a.id+'_captions_none" value="none" checked disabled><label class="')+(c.options.classPrefix+"captions-selector-label ")+(c.options.classPrefix+'captions-selected" for="')+(a.id+'_captions_none">'+
k.default.t("mejs.none")+"</label></li></ul></div>");c.addControlElement(a.captionsButton,"tracks");a.captionsButton.querySelector("."+c.options.classPrefix+"captions-selector-input").disabled=!1;a.chaptersButton=q.default.createElement("div");a.chaptersButton.className=c.options.classPrefix+"button "+c.options.classPrefix+"chapters-button";a.chaptersButton.innerHTML='<button type="button" aria-controls="'+c.id+'" title="'+u+'" aria-label="'+u+'" tabindex="0"></button><div class="'+(c.options.classPrefix+
"chapters-selector "+c.options.classPrefix+'offscreen"><ul class="')+(c.options.classPrefix+'chapters-selector-list"></ul></div>');for(e=h=0;e<p;e++)n=a.tracks[e].kind,a.tracks[e].src.trim()&&("subtitles"===n||"captions"===n?h++:"chapters"!==n||d.querySelector("."+c.options.classPrefix+"chapter-selector")||a.captionsButton.parentNode.insertBefore(a.chaptersButton,a.captionsButton));a.trackToLoad=-1;a.selectedTrack=null;a.isLoadingTrack=!1;for(d=0;d<p;d++)e=a.tracks[d].kind,!a.tracks[d].src.trim()||
"subtitles"!==e&&"captions"!==e||a.addTrackButton(a.tracks[d].trackId,a.tracks[d].srclang,a.tracks[d].label);a.loadNextTrack();d=["mouseenter","focusin"];p=["mouseleave","focusout"];if(c.options.toggleCaptionsButtonWhenOnlyOne&&1===h)a.captionsButton.addEventListener("click",function(c){var d="none";null===a.selectedTrack&&(d=a.tracks[0].trackId);a.setTrack(d,"undefined"!==typeof(c.keyCode||c.which))});else{h=a.captionsButton.querySelectorAll("."+c.options.classPrefix+"captions-selector-label");e=
a.captionsButton.querySelectorAll("input[type=radio]");n=0;for(u=d.length;n<u;n++)a.captionsButton.addEventListener(d[n],function(){(0,l.removeClass)(this.querySelector("."+c.options.classPrefix+"captions-selector"),c.options.classPrefix+"offscreen")});n=0;for(u=p.length;n<u;n++)a.captionsButton.addEventListener(p[n],function(){(0,l.addClass)(this.querySelector("."+c.options.classPrefix+"captions-selector"),c.options.classPrefix+"offscreen")});n=0;for(u=e.length;n<u;n++)e[n].addEventListener("click",
function(c){a.setTrack(this.value,"undefined"!==typeof(c.keyCode||c.which))});e=0;for(n=h.length;e<n;e++)h[e].addEventListener("click",function(a){var c=(0,l.siblings)(this,function(a){return"INPUT"===a.tagName})[0],d=(0,f.createEvent)("click",c);c.dispatchEvent(d);a.preventDefault()});a.captionsButton.addEventListener("keydown",function(a){a.stopPropagation()})}h=0;for(e=d.length;h<e;h++)a.chaptersButton.addEventListener(d[h],function(){this.querySelector("."+c.options.classPrefix+"chapters-selector-list").children.length&&
(0,l.removeClass)(this.querySelector("."+c.options.classPrefix+"chapters-selector"),c.options.classPrefix+"offscreen")});d=0;for(h=p.length;d<h;d++)a.chaptersButton.addEventListener(p[d],function(){(0,l.addClass)(this.querySelector("."+c.options.classPrefix+"chapters-selector"),c.options.classPrefix+"offscreen")});a.chaptersButton.addEventListener("keydown",function(a){a.stopPropagation()});a.options.alwaysShowControls?(0,l.addClass)(a.getElement(a.container).querySelector("."+c.options.classPrefix+
"captions-position"),c.options.classPrefix+"captions-position-hover"):(a.getElement(a.container).addEventListener("controlsshown",function(){(0,l.addClass)(a.getElement(a.container).querySelector("."+c.options.classPrefix+"captions-position"),c.options.classPrefix+"captions-position-hover")}),a.getElement(a.container).addEventListener("controlshidden",function(){m.paused||(0,l.removeClass)(a.getElement(a.container).querySelector("."+c.options.classPrefix+"captions-position"),c.options.classPrefix+
"captions-position-hover")}));m.addEventListener("timeupdate",function(){a.displayCaptions()});""!==a.options.slidesSelector&&(a.slidesContainer=q.default.querySelectorAll(a.options.slidesSelector),m.addEventListener("timeupdate",function(){a.displaySlides()}))}},cleartracks:function(a){a&&(a.captions&&a.captions.remove(),a.chapters&&a.chapters.remove(),a.captionsText&&a.captionsText.remove(),a.captionsButton&&a.captionsButton.remove(),a.chaptersButton&&a.chaptersButton.remove())},rebuildtracks:function(){this.findTracks();
this.buildtracks(this,this.getElement(this.controls),this.getElement(this.layers),this.media)},findTracks:function(){var a=null===this.trackFiles?this.node.querySelectorAll("track"):this.trackFiles,d=a.length;this.tracks=[];for(var f=0;f<d;f++){var k=a[f],h=k.getAttribute("srclang").toLowerCase()||"",l=this.id+"_track_"+f+"_"+k.getAttribute("kind")+"_"+h;this.tracks.push({trackId:l,srclang:h,src:k.getAttribute("src"),kind:k.getAttribute("kind"),label:k.getAttribute("label")||"",entries:[],isLoaded:!1})}},
setTrack:function(a,d){for(var c=this,e=c.captionsButton.querySelectorAll('input[type="radio"]'),k=c.captionsButton.querySelectorAll("."+c.options.classPrefix+"captions-selected"),h=c.captionsButton.querySelector('input[value="'+a+'"]'),m=0,n=e.length;m<n;m++)e[m].checked=!1;e=0;for(m=k.length;e<m;e++)(0,l.removeClass)(k[e],c.options.classPrefix+"captions-selected");h.checked=!0;k=(0,l.siblings)(h,function(a){return(0,l.hasClass)(a,c.options.classPrefix+"captions-selector-label")});h=0;for(e=k.length;h<
e;h++)(0,l.addClass)(k[h],c.options.classPrefix+"captions-selected");if("none"===a)c.selectedTrack=null,(0,l.removeClass)(c.captionsButton,c.options.classPrefix+"captions-enabled");else for(k=0,h=c.tracks.length;k<h;k++)if(e=c.tracks[k],e.trackId===a){null===c.selectedTrack&&(0,l.addClass)(c.captionsButton,c.options.classPrefix+"captions-enabled");c.selectedTrack=e;c.captions.setAttribute("lang",c.selectedTrack.srclang);c.displayCaptions();break}a=(0,f.createEvent)("captionschange",c.media);a.detail.caption=
c.selectedTrack;c.media.dispatchEvent(a);d||setTimeout(function(){c.getElement(c.container).focus()},500)},loadNextTrack:function(){this.trackToLoad++;this.trackToLoad<this.tracks.length?(this.isLoadingTrack=!0,this.loadTrack(this.trackToLoad)):(this.isLoadingTrack=!1,this.checkForTracks())},loadTrack:function(a){var c=this,d=c.tracks[a];void 0===d||void 0===d.src&&""===d.src||(0,l.ajax)(d.src,"text",function(a){d.entries="string"===typeof a&&/<tt\s+xml/ig.exec(a)?t.default.TrackFormatParser.dfxp.parse(a):
t.default.TrackFormatParser.webvtt.parse(a);d.isLoaded=!0;c.enableTrackButton(d);c.loadNextTrack();"slides"===d.kind?c.setupSlides(d):"chapters"!==d.kind||c.hasChapters||(c.drawChapters(d),c.hasChapters=!0)},function(){c.removeTrackButton(d.trackId);c.loadNextTrack()})},enableTrackButton:function(a){var c=this,d=a.srclang,h=q.default.getElementById(""+a.trackId);if(h){a=a.label;""===a&&(a=k.default.t(t.default.language.codes[d])||d);h.disabled=!1;for(var m=(0,l.siblings)(h,function(a){return(0,l.hasClass)(a,
c.options.classPrefix+"captions-selector-label")}),n=0,p=m.length;n<p;n++)m[n].innerHTML=a;c.options.startLanguage===d&&(h.checked=!0,d=(0,f.createEvent)("click",h),h.dispatchEvent(d))}},removeTrackButton:function(a){(a=q.default.getElementById(""+a))&&(a=a.closest("li"))&&a.remove()},addTrackButton:function(a,d,f){""===f&&(f=k.default.t(t.default.language.codes[d])||d);this.captionsButton.querySelector("ul").innerHTML+='<li class="'+this.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+
(this.options.classPrefix+'captions-selector-input" name="')+(this.id+'_captions" id="'+a+'" value="'+a+'" disabled><label class="')+(this.options.classPrefix+'captions-selector-label"for="')+(a+'">'+f+" (loading)</label></li>")},checkForTracks:function(){var a=!1;if(this.options.hideCaptionsButtonWhenEmpty){for(var d=0,f=this.tracks.length;d<f;d++){var k=this.tracks[d].kind;if(("subtitles"===k||"captions"===k)&&this.tracks[d].isLoaded){a=!0;break}}this.captionsButton.style.display=a?"":"none";this.setControlsSize()}},
displayCaptions:function(){if(void 0!==this.tracks){var a=this.selectedTrack;if(null!==a&&a.isLoaded){var d=this.searchTrackPosition(a.entries,this.media.currentTime);if(-1<d){var f=a.entries[d].text;"function"===typeof this.options.captionTextPreprocessor&&(f=this.options.captionTextPreprocessor(f));var k=this.captionsText,h=f;f=q.default.createElement("div");f.innerHTML=h;h=f.getElementsByTagName("script");for(var l=h.length;l--;)h[l].remove();h=f.getElementsByTagName("*");l=0;for(var m=h.length;l<
m;l++)for(var n=Array.prototype.slice.call(h[l].attributes),p=0,t=n.length;p<t;p++)n[p].name.startsWith("on")||n[p].value.startsWith("javascript")?h[l].remove():"style"===n[p].name&&h[l].removeAttribute(n[p].name);k.innerHTML=f.innerHTML;this.captionsText.className=this.options.classPrefix+"captions-text "+(a.entries[d].identifier||"");this.captions.style.display="";this.captions.style.height="0px";return}}this.captions.style.display="none"}},setupSlides:function(a){this.slides=a;this.slides.entries.imgs=
[this.slides.entries.length];this.showSlide(0)},showSlide:function(a){var c=this,d=this;if(void 0!==d.tracks&&void 0!==d.slidesContainer){var f=d.slides.entries[a].text,k=d.slides.entries[a].imgs;if(void 0===k||void 0===k.fadeIn){var h=q.default.createElement("img");h.src=f;h.addEventListener("load",function(){var a=(0,l.siblings)(c,function(c){return a(c)});c.style.display="none";d.slidesContainer.innerHTML+=c.innerHTML;(0,l.fadeIn)(d.slidesContainer.querySelector(h));for(var e=0,f=a.length;e<f;e++)(0,
l.fadeOut)(a[e],400)});d.slides.entries[a].imgs=k=h}else if(!(0,l.visible)(k)){var m=(0,l.siblings)(self,function(a){return m(a)});(0,l.fadeIn)(d.slidesContainer.querySelector(k));a=0;for(f=m.length;a<f;a++)(0,l.fadeOut)(m[a])}}},displaySlides:function(){if(void 0!==this.slides){var a=this.searchTrackPosition(this.slides.entries,this.media.currentTime);-1<a&&this.showSlide(a)}},drawChapters:function(a){var c=this,d=a.entries.length;if(d){c.chaptersButton.querySelector("ul").innerHTML="";for(var k=
0;k<d;k++)c.chaptersButton.querySelector("ul").innerHTML+='<li class="'+c.options.classPrefix+'chapters-selector-list-item" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false"><input type="radio" class="'+(c.options.classPrefix+'captions-selector-input" name="')+(c.id+'_chapters" id="'+c.id+"_chapters_"+k+'" value="'+a.entries[k].start+'" disabled><label class="')+(c.options.classPrefix+'chapters-selector-label"for="')+(c.id+"_chapters_"+k+'">'+a.entries[k].text+
"</label></li>");d=c.chaptersButton.querySelectorAll('input[type="radio"]');a=c.chaptersButton.querySelectorAll("."+c.options.classPrefix+"chapters-selector-label");k=0;for(var h=d.length;k<h;k++)d[k].disabled=!1,d[k].checked=!1,d[k].addEventListener("click",function(a){var d=c.chaptersButton.querySelectorAll("li"),e=(0,l.siblings)(this,function(a){return(0,l.hasClass)(a,c.options.classPrefix+"chapters-selector-label")})[0];this.checked=!0;this.parentNode.setAttribute("aria-checked",!0);(0,l.addClass)(e,
c.options.classPrefix+"chapters-selected");(0,l.removeClass)(c.chaptersButton.querySelector("."+c.options.classPrefix+"chapters-selected"),c.options.classPrefix+"chapters-selected");e=0;for(var f=d.length;e<f;e++)d[e].setAttribute("aria-checked",!1);"undefined"===typeof(a.keyCode||a.which)&&setTimeout(function(){c.getElement(c.container).focus()},500);c.media.setCurrentTime(parseFloat(this.value));c.media.paused&&c.media.play()});d=0;for(k=a.length;d<k;d++)a[d].addEventListener("click",function(a){var c=
(0,l.siblings)(this,function(a){return"INPUT"===a.tagName})[0],d=(0,f.createEvent)("click",c);c.dispatchEvent(d);a.preventDefault()})}},searchTrackPosition:function(a,d){for(var c=0,e=a.length-1,f,k,h;c<=e;){f=c+e>>1;k=a[f].start;h=a[f].stop;if(d>=k&&d<h)return f;k<d?c=f+1:k>d&&(e=f-1)}return-1}});t.default.language={codes:{af:"mejs.afrikaans",sq:"mejs.albanian",ar:"mejs.arabic",be:"mejs.belarusian",bg:"mejs.bulgarian",ca:"mejs.catalan",zh:"mejs.chinese","zh-cn":"mejs.chinese-simplified","zh-tw":"mejs.chines-traditional",
hr:"mejs.croatian",cs:"mejs.czech",da:"mejs.danish",nl:"mejs.dutch",en:"mejs.english",et:"mejs.estonian",fl:"mejs.filipino",fi:"mejs.finnish",fr:"mejs.french",gl:"mejs.galician",de:"mejs.german",el:"mejs.greek",ht:"mejs.haitian-creole",iw:"mejs.hebrew",hi:"mejs.hindi",hu:"mejs.hungarian",is:"mejs.icelandic",id:"mejs.indonesian",ga:"mejs.irish",it:"mejs.italian",ja:"mejs.japanese",ko:"mejs.korean",lv:"mejs.latvian",lt:"mejs.lithuanian",mk:"mejs.macedonian",ms:"mejs.malay",mt:"mejs.maltese",no:"mejs.norwegian",
fa:"mejs.persian",pl:"mejs.polish",pt:"mejs.portuguese",ro:"mejs.romanian",ru:"mejs.russian",sr:"mejs.serbian",sk:"mejs.slovak",sl:"mejs.slovenian",es:"mejs.spanish",sw:"mejs.swahili",sv:"mejs.swedish",tl:"mejs.tagalog",th:"mejs.thai",tr:"mejs.turkish",uk:"mejs.ukrainian",vi:"mejs.vietnamese",cy:"mejs.welsh",yi:"mejs.yiddish"}};t.default.TrackFormatParser={webvtt:{pattern:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\x3e ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(c){c=
c.split(/\r?\n/);for(var d=[],f,k,h=void 0,l=0,m=c.length;l<m;l++){if((f=this.pattern.exec(c[l]))&&l<c.length){0<=l-1&&""!==c[l-1]&&(h=c[l-1]);l++;k=c[l];for(l++;""!==c[l]&&l<c.length;)k=k+"\n"+c[l],l++;k=null===k?"":k.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");d.push({identifier:h,start:0===(0,a.convertSMPTEtoSeconds)(f[1])?.2:(0,a.convertSMPTEtoSeconds)(f[1]),stop:(0,a.convertSMPTEtoSeconds)(f[3]),text:k,settings:f[5]})}h=
""}return d}},dfxp:{parse:function(c){c=m(c).filter("tt");var d=c.firstChild,f=d.querySelectorAll("p"),k=c.getElementById(""+d.attr("style"));c=[];d=void 0;if(k.length&&(k.removeAttribute("id"),k=k.attributes,k.length)){d={};for(var h=0,l=k.length;h<l;h++)d[k[h].name.split(":")[1]]=k[h].value}k=0;for(h=f.length;k<h;k++){l=void 0;var n={start:null,stop:null,style:null,text:null};f.eq(k).attr("begin")&&(n.start=(0,a.convertSMPTEtoSeconds)(f.eq(k).attr("begin")));!n.start&&f.eq(k-1).attr("end")&&(n.start=
(0,a.convertSMPTEtoSeconds)(f.eq(k-1).attr("end")));f.eq(k).attr("end")&&(n.stop=(0,a.convertSMPTEtoSeconds)(f.eq(k).attr("end")));!n.stop&&f.eq(k+1).attr("begin")&&(n.stop=(0,a.convertSMPTEtoSeconds)(f.eq(k+1).attr("begin")));if(d){l="";for(var p in d)l+=p+":"+d[p]+";"}l&&(n.style=l);0===n.start&&(n.start=.2);n.text=f.eq(k).innerHTML.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");c.push(n)}return c}}}},{16:16,2:2,
26:26,27:27,30:30,5:5,7:7}],14:[function(d,h,n){function p(a){return a&&a.__esModule?a:{default:a}}h=d(2);var q=p(h);h=d(16);n=p(h);var t=d(5),k=p(t),a=d(25),f=d(27),l=d(26);Object.assign(h.config,{muteText:null,unmuteText:null,allyVolumeControlText:null,hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical",startVolume:.8});Object.assign(n.default.prototype,{buildvolume:function(c,d,h,n){if(!a.IS_ANDROID&&!a.IS_IOS||!this.options.hideVolumeOnTouchDevices){var e=this,p=e.isVideo?
e.options.videoVolume:e.options.audioVolume,u=(0,f.isString)(e.options.muteText)?e.options.muteText:k.default.t("mejs.mute"),t=(0,f.isString)(e.options.unmuteText)?e.options.unmuteText:k.default.t("mejs.unmute");d=(0,f.isString)(e.options.allyVolumeControlText)?e.options.allyVolumeControlText:k.default.t("mejs.volume-help-text");var z=q.default.createElement("div");150>m("#"+this.id).position().top-parseInt(m("#PageBody").css("margin-top"))&&(p=e.isVideo?p:"horizontal");z.className=e.options.classPrefix+
"button "+e.options.classPrefix+"volume-button "+e.options.classPrefix+"mute";z.innerHTML="horizontal"===p?'<button type="button" aria-controls="'+e.id+'" title="'+u+'" aria-label="'+u+'" tabindex="0"></button>':'<button type="button" aria-controls="'+e.id+'" title="'+u+'" aria-label="'+u+'" tabindex="0"></button><a href="javascript:void(0);" class="'+(e.options.classPrefix+'volume-slider" aria-label="')+(k.default.t("mejs.volume-slider")+'" aria-valuemin="0" aria-valuemax="100" role="slider" aria-orientation="vertical"><span class="')+
(e.options.classPrefix+'offscreen">'+d+'</span><div class="')+(e.options.classPrefix+'volume-total"><div class="')+(e.options.classPrefix+'volume-current"></div><div class="')+(e.options.classPrefix+'volume-handle"></div></div></a>');e.addControlElement(z,"volume");e.options.keyActions.push({keys:[38],action:function(a){var c=a.getElement(a.container).querySelector("."+e.options.classPrefix+"volume-slider");c&&c.matches(":focus")&&(c.style.display="block");a.isVideo&&(a.showControls(),a.startControlsTimer());
c=Math.min(a.volume+.1,1);a.setVolume(c);0<c&&a.setMuted(!1)}},{keys:[40],action:function(a){var c=a.getElement(a.container).querySelector("."+e.options.classPrefix+"volume-slider");c&&(c.style.display="block");a.isVideo&&(a.showControls(),a.startControlsTimer());c=Math.max(a.volume-.1,0);a.setVolume(c);.1>=c&&a.setMuted(!0)}},{keys:[77],action:function(a){var c=a.getElement(a.container).querySelector("."+e.options.classPrefix+"volume-slider");c&&(c.style.display="block");a.isVideo&&(a.showControls(),
a.startControlsTimer());a.media.muted?a.setMuted(!1):a.setMuted(!0)}});"horizontal"===p&&(h=q.default.createElement("a"),h.className=e.options.classPrefix+"horizontal-volume-slider",h.href="javascript:void(0);",h.setAttribute("aria-label",k.default.t("mejs.volume-slider")),h.setAttribute("aria-valuemin",0),h.setAttribute("aria-valuemax",100),h.setAttribute("aria-valuenow",100),h.setAttribute("role","slider"),h.innerHTML+='<span class="'+e.options.classPrefix+'offscreen">'+d+'</span><div class="'+
(e.options.classPrefix+'horizontal-volume-total"><div class="')+(e.options.classPrefix+'horizontal-volume-current"></div><div class="')+(e.options.classPrefix+'horizontal-volume-handle"></div></div>'),z.parentNode.insertBefore(h,z.nextSibling));var A=!1,D=!1,C=!1,F="vertical"===p?e.getElement(e.container).querySelector("."+e.options.classPrefix+"volume-slider"):e.getElement(e.container).querySelector("."+e.options.classPrefix+"horizontal-volume-slider"),E="vertical"===p?e.getElement(e.container).querySelector("."+
e.options.classPrefix+"volume-total"):e.getElement(e.container).querySelector("."+e.options.classPrefix+"horizontal-volume-total"),K="vertical"===p?e.getElement(e.container).querySelector("."+e.options.classPrefix+"volume-current"):e.getElement(e.container).querySelector("."+e.options.classPrefix+"horizontal-volume-current"),N="vertical"===p?e.getElement(e.container).querySelector("."+e.options.classPrefix+"volume-handle"):e.getElement(e.container).querySelector("."+e.options.classPrefix+"horizontal-volume-handle"),
Y=function(a){if(null!==a&&!isNaN(a)&&void 0!==a){a=Math.max(0,a);a=Math.min(a,1);if(0===a){(0,l.removeClass)(z,e.options.classPrefix+"mute");(0,l.addClass)(z,e.options.classPrefix+"unmute");var c=z.firstElementChild;c.setAttribute("title",t);c.setAttribute("aria-label",t)}else(0,l.removeClass)(z,e.options.classPrefix+"unmute"),(0,l.addClass)(z,e.options.classPrefix+"mute"),c=z.firstElementChild,c.setAttribute("title",u),c.setAttribute("aria-label",u);a=100*a+"%";c=getComputedStyle(N);"vertical"===
p?(K.style.bottom=0,K.style.height=a,N.style.bottom=a,N.style.marginBottom=-parseFloat(c.height)/2+"px"):(K.style.left=0,K.style.width=a,N.style.left=a,N.style.marginLeft=-parseFloat(c.width)/2+"px")}},P=function(a){var c=(0,l.offset)(E),d=getComputedStyle(E);C=!0;if("vertical"===p){if(d=parseFloat(d.height),d=(d-(a.pageY-c.top))/d,0===c.top||0===c.left)return}else d=parseFloat(d.width),d=(a.pageX-c.left)/d;d=Math.max(0,d);d=Math.min(d,1);Y(d);e.setMuted(0===d);e.setVolume(d);a.preventDefault();a.stopPropagation()},
W=function(){e.muted?(Y(0),(0,l.removeClass)(z,e.options.classPrefix+"mute"),(0,l.addClass)(z,e.options.classPrefix+"unmute")):(Y(n.volume),(0,l.removeClass)(z,e.options.classPrefix+"unmute"),(0,l.addClass)(z,e.options.classPrefix+"mute"))};c.getElement(c.container).addEventListener("keydown",function(a){a.target.closest("."+e.options.classPrefix+"container")||"vertical"!==p||(F.style.display="none")});z.addEventListener("mouseenter",function(a){a.target===z&&(F.style.display="block",D=!0,a.preventDefault(),
a.stopPropagation())});z.addEventListener("focusin",function(){F.style.display="block";D=!0});z.addEventListener("focusout",function(a){a.relatedTarget&&(!a.relatedTarget||a.relatedTarget.matches("."+e.options.classPrefix+"volume-slider"))||"vertical"!==p||(F.style.display="none")});z.addEventListener("mouseleave",function(){D=!1;A||"vertical"!==p||(F.style.display="none")});z.addEventListener("focusout",function(){D=!1});z.addEventListener("keydown",function(a){if(e.options.enableKeyboard&&e.options.keyActions.length){var c=
n.volume;switch(a.which||a.keyCode||0){case 38:c=Math.min(c+.1,1);break;case 40:c=Math.max(0,c-.1);break;default:return!0}A=!1;Y(c);n.setVolume(c);a.preventDefault();a.stopPropagation()}});z.querySelector("button").addEventListener("click",function(){n.setMuted(!n.muted);var a=(0,f.createEvent)("volumechange",n);n.dispatchEvent(a)});F.addEventListener("dragstart",function(){return!1});F.addEventListener("mouseover",function(){D=!0});F.addEventListener("focusin",function(){F.style.display="block";
D=!0});F.addEventListener("focusout",function(){D=!1;A||"vertical"!==p||(F.style.display="none")});F.addEventListener("mousedown",function(a){P(a);e.globalBind("mousemove.vol",function(a){var c=a.target;A&&(c===F||c.closest("vertical"===p?"."+e.options.classPrefix+"volume-slider":"."+e.options.classPrefix+"horizontal-volume-slider"))&&P(a)});e.globalBind("mouseup.vol",function(){A=!1;D||"vertical"!==p||(F.style.display="none")});A=!0;a.preventDefault();a.stopPropagation()});n.addEventListener("volumechange",
function(a){A||W();a=Math.floor(100*n.volume);F.setAttribute("aria-valuenow",a);F.setAttribute("aria-valuetext",a+"%")});var ha=!1;n.addEventListener("rendererready",function(){C||setTimeout(function(){ha=!0;if(0===c.options.startVolume||n.originalNode.muted)n.setMuted(!0),c.options.startVolume=0;n.setVolume(c.options.startVolume);e.setControlsSize()},250)});n.addEventListener("loadedmetadata",function(){setTimeout(function(){C||ha||((0===c.options.startVolume||n.originalNode.muted)&&n.setMuted(!0),
n.setVolume(c.options.startVolume),e.setControlsSize());ha=!1},250)});if(0===c.options.startVolume||n.originalNode.muted)n.setMuted(!0),c.options.startVolume=0,W();e.getElement(e.container).addEventListener("controlsresize",function(){W()})}}})},{16:16,2:2,25:25,26:26,27:27,5:5}],15:[function(d,h,m){Object.defineProperty(m,"__esModule",{value:!0});m.EN={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.install-flash":"You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/",
"mejs.fullscreen":"Fullscreen","mejs.play":"Play","mejs.pause":"Pause","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.live-broadcast":"Live Broadcast","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.captions-subtitles":"Captions/Subtitles",
"mejs.captions-chapters":"Chapters","mejs.none":"None","mejs.afrikaans":"Afrikaans","mejs.albanian":"Albanian","mejs.arabic":"Arabic","mejs.belarusian":"Belarusian","mejs.bulgarian":"Bulgarian","mejs.catalan":"Catalan","mejs.chinese":"Chinese","mejs.chinese-simplified":"Chinese (Simplified)","mejs.chinese-traditional":"Chinese (Traditional)","mejs.croatian":"Croatian","mejs.czech":"Czech","mejs.danish":"Danish","mejs.dutch":"Dutch","mejs.english":"English","mejs.estonian":"Estonian","mejs.filipino":"Filipino",
"mejs.finnish":"Finnish","mejs.french":"French","mejs.galician":"Galician","mejs.german":"German","mejs.greek":"Greek","mejs.haitian-creole":"Haitian Creole","mejs.hebrew":"Hebrew","mejs.hindi":"Hindi","mejs.hungarian":"Hungarian","mejs.icelandic":"Icelandic","mejs.indonesian":"Indonesian","mejs.irish":"Irish","mejs.italian":"Italian","mejs.japanese":"Japanese","mejs.korean":"Korean","mejs.latvian":"Latvian","mejs.lithuanian":"Lithuanian","mejs.macedonian":"Macedonian","mejs.malay":"Malay","mejs.maltese":"Maltese",
"mejs.norwegian":"Norwegian","mejs.persian":"Persian","mejs.polish":"Polish","mejs.portuguese":"Portuguese","mejs.romanian":"Romanian","mejs.russian":"Russian","mejs.serbian":"Serbian","mejs.slovak":"Slovak","mejs.slovenian":"Slovenian","mejs.spanish":"Spanish","mejs.swahili":"Swahili","mejs.swedish":"Swedish","mejs.tagalog":"Tagalog","mejs.thai":"Thai","mejs.turkish":"Turkish","mejs.ukrainian":"Ukrainian","mejs.vietnamese":"Vietnamese","mejs.welsh":"Welsh","mejs.yiddish":"Yiddish"}},{}],16:[function(d,
h,m){function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(m,"__esModule",{value:!0});m.config=void 0;var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t=function(){function a(a,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
e.key,e)}}return function(c,d,e){d&&a(c.prototype,d);e&&a(c,e);return c}}();h=d(3);var k=n(h);h=d(2);var a=n(h);h=d(7);var f=n(h);h=d(6);var l=n(h);h=d(17);var c=n(h);h=d(5);var e=n(h),u=d(25),z=d(27),B=d(30),G=d(28),x=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c.default=a;return c}(d(26));f.default.mepIndex=0;f.default.players={};var I=m.config={poster:"",showPosterWhenEnded:!1,showPosterWhenPaused:!1,defaultVideoWidth:480,
defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:40,defaultSeekBackwardInterval:function(a){return.05*a.getDuration()},defaultSeekForwardInterval:function(a){return.05*a.getDuration()},setDimensions:!0,audioWidth:-1,audioHeight:-1,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,hideVideoControlsOnPause:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,
controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1E3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:"playpause current progress duration tracks volume fullscreen".split(" "),useDefaultControls:!1,isVideo:!0,stretching:"auto",classPrefix:"mejs__",enableKeyboard:!0,pauseOtherPlayers:!0,secondsDecimalLength:0,customError:null,keyActions:[{keys:[32,179],action:function(a){u.IS_FIREFOX||(a.paused||a.ended?a.play():a.pause())}}]};f.default.MepDefaults=I;
d=function(){function d(c,e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");c="string"===typeof c?a.default.getElementById(c):c;if(!(this instanceof d))return new d(c,e);if(this.node=this.media=c){if(this.media.player)return this.media.player;this.hasFocus=!1;this.controlsEnabled=this.controlsAreVisible=!0;this.controlsTimer=null;this.currentMediaTime=0;this.proxy=null;void 0===e&&(e=(e=this.node.getAttribute("data-mejsoptions"))?JSON.parse(e):{});this.options=Object.assign({},
I,e);this.options.loop&&!this.media.getAttribute("loop")?(this.media.loop=!0,this.node.loop=!0):this.media.loop&&(this.options.loop=!0);this.options.timeFormat||(this.options.timeFormat="mm:ss",this.options.alwaysShowHours&&(this.options.timeFormat="hh:mm:ss"),this.options.showTimecodeFrameCount&&(this.options.timeFormat+=":ff"));(0,B.calculateTimeFormat)(0,this.options,this.options.framesPerSecond||25);this.id="mep_"+f.default.mepIndex++;f.default.players[this.id]=this;this.init();return this}}t(d,
[{key:"getElement",value:function(a){return a}},{key:"init",value:function(){var c=this,d=Object.assign({},c.options,{success:function(a,d){c._meReady(a,d)},error:function(a){c._handleError(a)}}),k=c.node.tagName.toLowerCase();c.isDynamic="audio"!==k&&"video"!==k&&"iframe"!==k;c.isVideo=c.isDynamic?c.options.isVideo:"audio"!==k&&c.options.isVideo;c.mediaFiles=null;c.trackFiles=null;if(u.IS_IPAD&&c.options.iPadUseNativeControls||u.IS_IPHONE&&c.options.iPhoneUseNativeControls)c.node.setAttribute("controls",
!0),u.IS_IPAD&&c.node.getAttribute("autoplay")&&c.play();else if(!c.isVideo&&(c.isVideo||!c.options.features.length&&!c.options.useDefaultControls)||u.IS_ANDROID&&c.options.AndroidUseNativeControls)c.isVideo||c.options.features.length||c.options.useDefaultControls||(c.node.style.display="none");else{c.node.removeAttribute("controls");k=c.isVideo?e.default.t("mejs.video-player"):e.default.t("mejs.audio-player");var h=a.default.createElement("span");h.className=c.options.classPrefix+"offscreen";h.innerText=
k;c.media.parentNode.insertBefore(h,c.media);c.container=a.default.createElement("div");c.getElement(c.container).id=c.id;c.getElement(c.container).className=c.options.classPrefix+"container "+c.options.classPrefix+"container-keyboard-inactive "+c.media.className;c.getElement(c.container).tabIndex=0;c.getElement(c.container).setAttribute("role","application");c.getElement(c.container).setAttribute("aria-label",k);c.getElement(c.container).innerHTML='<div class="'+c.options.classPrefix+'inner"><div class="'+
(c.options.classPrefix+'mediaelement"></div><div class="')+(c.options.classPrefix+'layers"></div><div class="')+(c.options.classPrefix+'controls"></div></div>');c.getElement(c.container).addEventListener("focus",function(a){c.controlsAreVisible||c.hasFocus||!c.controlsEnabled||(c.showControls(!0),a=(0,z.isNodeAfter)(a.relatedTarget,c.getElement(c.container))?"."+c.options.classPrefix+"controls ."+c.options.classPrefix+"button:last-child > button":"."+c.options.classPrefix+"playpause-button > button",
c.getElement(c.container).querySelector(a).focus())});c.node.parentNode.insertBefore(c.getElement(c.container),c.node);c.options.features.length||c.options.useDefaultControls||(c.getElement(c.container).style.background="transparent",c.getElement(c.container).querySelector("."+c.options.classPrefix+"controls").style.display="none");c.isVideo&&"fill"===c.options.stretching&&!x.hasClass(c.getElement(c.container).parentNode,c.options.classPrefix+"fill-container")&&(c.outerContainer=c.media.parentNode,
k=a.default.createElement("div"),k.className=c.options.classPrefix+"fill-container",c.getElement(c.container).parentNode.insertBefore(k,c.getElement(c.container)),k.appendChild(c.getElement(c.container)));u.IS_ANDROID&&x.addClass(c.getElement(c.container),c.options.classPrefix+"android");u.IS_IOS&&x.addClass(c.getElement(c.container),c.options.classPrefix+"ios");u.IS_IPAD&&x.addClass(c.getElement(c.container),c.options.classPrefix+"ipad");u.IS_IPHONE&&x.addClass(c.getElement(c.container),c.options.classPrefix+
"iphone");x.addClass(c.getElement(c.container),c.isVideo?c.options.classPrefix+"video":c.options.classPrefix+"audio");c.getElement(c.container).querySelector("."+c.options.classPrefix+"mediaelement").appendChild(c.node);c.media.player=c;c.controls=c.getElement(c.container).querySelector("."+c.options.classPrefix+"controls");c.layers=c.getElement(c.container).querySelector("."+c.options.classPrefix+"layers");k=c.isVideo?"video":"audio";h=k.substring(0,1).toUpperCase()+k.substring(1);0<c.options[k+
"Width"]||-1<c.options[k+"Width"].toString().indexOf("%")?c.width=c.options[k+"Width"]:""!==c.node.style.width&&null!==c.node.style.width?c.width=c.node.style.width:c.node.getAttribute("width")?c.width=c.node.getAttribute("width"):c.width=c.options["default"+h+"Width"];0<c.options[k+"Height"]||-1<c.options[k+"Height"].toString().indexOf("%")?c.height=c.options[k+"Height"]:""!==c.node.style.height&&null!==c.node.style.height?c.height=c.node.style.height:c.node.getAttribute("height")?c.height=c.node.getAttribute("height"):
c.height=c.options["default"+h+"Height"];c.initialAspectRatio=c.height>=c.width?c.width/c.height:c.height/c.width;c.setPlayerSize(c.width,c.height);d.pluginWidth=c.width;d.pluginHeight=c.height}f.default.MepDefaults=d;new l.default(c.media,d,c.mediaFiles);void 0!==c.getElement(c.container)&&c.options.features.length&&c.controlsAreVisible&&!c.options.hideVideoControlsOnLoad&&(d=(0,z.createEvent)("controlsshown",c.getElement(c.container)),c.getElement(c.container).dispatchEvent(d))}},{key:"showControls",
value:function(a){var c=this;if(!c.controls.classList.contains("AccessiblyHidden")&&!c.controlsAreVisible&&c.isVideo){if(void 0===a||a)(function(){x.fadeIn(c.getElement(c.controls),200,function(){x.removeClass(c.getElement(c.controls),c.options.classPrefix+"offscreen");var a=(0,z.createEvent)("controlsshown",c.getElement(c.container));c.getElement(c.container).dispatchEvent(a)});for(var a=c.getElement(c.container).querySelectorAll("."+c.options.classPrefix+"control"),d=function(d,e){x.fadeIn(a[d],
200,function(){x.removeClass(a[d],c.options.classPrefix+"offscreen")})},e=0,f=a.length;e<f;e++)d(e,f)})();else{x.removeClass(c.getElement(c.controls),c.options.classPrefix+"offscreen");c.getElement(c.controls).style.display="";c.getElement(c.controls).style.opacity=1;a=c.getElement(c.container).querySelectorAll("."+c.options.classPrefix+"control");for(var d=0,e=a.length;d<e;d++)x.removeClass(a[d],c.options.classPrefix+"offscreen"),a[d].style.display="";a=(0,z.createEvent)("controlsshown",c.getElement(c.container));
c.getElement(c.container).dispatchEvent(a)}c.controlsAreVisible=!0;c.setControlsSize()}}},{key:"hideControls",value:function(a,c){var d=this;if(!0===c||!(!d.controlsAreVisible||d.options.alwaysShowControls||d.paused&&4===d.readyState&&(!d.options.hideVideoControlsOnLoad&&0>=d.currentTime||!d.options.hideVideoControlsOnPause&&0<d.currentTime)||d.isVideo&&!d.options.hideVideoControlsOnLoad&&!d.readyState||d.ended)){if(void 0===a||a)(function(){x.fadeOut(d.getElement(d.controls),200,function(){x.addClass(d.getElement(d.controls),
d.options.classPrefix+"offscreen");d.getElement(d.controls).style.display="";var a=(0,z.createEvent)("controlshidden",d.getElement(d.container));d.getElement(d.container).dispatchEvent(a)});for(var a=d.getElement(d.container).querySelectorAll("."+d.options.classPrefix+"control"),c=function(c,e){x.fadeOut(a[c],200,function(){x.addClass(a[c],d.options.classPrefix+"offscreen");a[c].style.display=""})},e=0,f=a.length;e<f;e++)c(e,f)})();else{x.addClass(d.getElement(d.controls),d.options.classPrefix+"offscreen");
d.getElement(d.controls).style.display="";d.getElement(d.controls).style.opacity=0;a=d.getElement(d.container).querySelectorAll("."+d.options.classPrefix+"control");c=0;for(var e=a.length;c<e;c++)x.addClass(a[c],d.options.classPrefix+"offscreen"),a[c].style.display="";a=(0,z.createEvent)("controlshidden",d.getElement(d.container));d.getElement(d.container).dispatchEvent(a)}d.controlsAreVisible=!1}}},{key:"startControlsTimer",value:function(a){var c=this;a="undefined"!==typeof a?a:c.options.controlsTimeoutDefault;
c.killControlsTimer("start");c.controlsTimer=setTimeout(function(){c.hideControls();c.killControlsTimer("hide")},a)}},{key:"killControlsTimer",value:function(){null!==this.controlsTimer&&(clearTimeout(this.controlsTimer),delete this.controlsTimer,this.controlsTimer=null)}},{key:"disableControls",value:function(){this.killControlsTimer();this.controlsEnabled=!1;this.hideControls(!1,!0)}},{key:"enableControls",value:function(){this.controlsEnabled=!0;this.showControls(!1)}},{key:"_setDefaultPlayer",
value:function(){var a=this;a.proxy&&a.proxy.pause();a.proxy=new c.default(a);a.media.addEventListener("loadedmetadata",function(){0<a.getCurrentTime()&&0<a.currentMediaTime&&(a.setCurrentTime(a.currentMediaTime),u.IS_IOS||u.IS_ANDROID||a.play())})}},{key:"_meReady",value:function(c,d){var e=this,h=d.getAttribute("autoplay");h=!(void 0===h||null===h||"false"===h);var l=null!==c.rendererName&&/(native|html5)/i.test(c.rendererName);e.getElement(e.controls)&&e.enableControls();e.getElement(e.container)&&
e.getElement(e.container).querySelector("."+e.options.classPrefix+"overlay-play")&&(e.getElement(e.container).querySelector("."+e.options.classPrefix+"overlay-play").style.display="");if(!e.created){e.created=!0;e.media=c;e.domNode=d;if(!(u.IS_ANDROID&&e.options.AndroidUseNativeControls||u.IS_IPAD&&e.options.iPadUseNativeControls||u.IS_IPHONE&&e.options.iPhoneUseNativeControls)){if(!e.isVideo&&!e.options.features.length&&!e.options.useDefaultControls){h&&l&&e.play();if(e.options.success)if("string"===
typeof e.options.success)k.default[e.options.success](e.media,e.domNode,e);else e.options.success(e.media,e.domNode,e);return}e.featurePosition={};e._setDefaultPlayer();e.buildposter(e,e.getElement(e.controls),e.getElement(e.layers),e.media);e.buildkeyboard(e,e.getElement(e.controls),e.getElement(e.layers),e.media);e.buildoverlays(e,e.getElement(e.controls),e.getElement(e.layers),e.media);if(e.options.useDefaultControls){var m="playpause current progress duration tracks volume fullscreen".split(" ");
e.options.features=m.concat(e.options.features.filter(function(a){return-1===m.indexOf(a)}))}e.buildfeatures(e,e.getElement(e.controls),e.getElement(e.layers),e.media);c=(0,z.createEvent)("controlsready",e.getElement(e.container));e.getElement(e.container).dispatchEvent(c);e.setPlayerSize(e.width,e.height);e.setControlsSize();e.isVideo&&(e.clickToPlayPauseCallback=function(){if(e.options.clickToPlayPause){var a=e.getElement(e.container).querySelector("."+e.options.classPrefix+"overlay-button"),c=
a.getAttribute("aria-pressed");e.paused&&c?e.pause():e.paused?e.play():e.pause();a.setAttribute("aria-pressed",!c);e.getElement(e.container).focus()}},e.createIframeLayer(),e.media.addEventListener("click",e.clickToPlayPauseCallback),!u.IS_ANDROID&&!u.IS_IOS||e.options.alwaysShowControls?(e.getElement(e.container).addEventListener("mouseenter",function(){e.controlsEnabled&&!e.options.alwaysShowControls&&(e.killControlsTimer("enter"),e.showControls(),e.startControlsTimer(e.options.controlsTimeoutMouseEnter))}),
e.getElement(e.container).addEventListener("mousemove",function(){e.controlsEnabled&&(e.controlsAreVisible||e.showControls(),e.options.alwaysShowControls||e.startControlsTimer(e.options.controlsTimeoutMouseEnter))}),e.getElement(e.container).addEventListener("mouseleave",function(){e.controlsEnabled&&(e.paused||e.options.alwaysShowControls||e.startControlsTimer(e.options.controlsTimeoutMouseLeave))})):e.node.addEventListener("touchstart",function(){e.controlsAreVisible?e.hideControls(!1):e.controlsEnabled&&
e.showControls(!1)},u.SUPPORT_PASSIVE_EVENT?{passive:!0}:!1),e.options.hideVideoControlsOnLoad&&e.hideControls(!1),e.options.enableAutosize&&e.media.addEventListener("loadedmetadata",function(a){a=void 0!==a?a.detail.target||a.target:e.media;0>=e.options.videoHeight&&!e.domNode.getAttribute("height")&&!e.domNode.style.height&&null!==a&&!isNaN(a.videoHeight)&&(e.setPlayerSize(a.videoWidth,a.videoHeight),e.setControlsSize(),e.media.setSize(a.videoWidth,a.videoHeight))}));e.media.addEventListener("play",
function(){e.hasFocus=!0;for(var a in f.default.players)if(f.default.players.hasOwnProperty(a)){var c=f.default.players[a];c.id===e.id||!e.options.pauseOtherPlayers||c.paused||c.ended||!0===c.options.ignorePauseOtherPlayersOption||(c.pause(),c.hasFocus=!1)}u.IS_ANDROID||u.IS_IOS||e.options.alwaysShowControls||!e.isVideo||e.hideControls()});e.media.addEventListener("ended",function(){if(e.options.autoRewind)try{setTimeout(function(){e.setCurrentTime(0);var a=e.getElement(e.container).querySelector("."+
e.options.classPrefix+"overlay-loading");a&&a.parentNode&&(a.parentNode.style.display="none")},20)}catch(Y){}"function"===typeof e.media.renderer.stop?e.media.renderer.stop():e.pause();e.setProgressRail&&e.setProgressRail();e.setCurrentRail&&e.setCurrentRail();e.options.loop?e.play():!e.options.alwaysShowControls&&e.controlsEnabled&&e.showControls()});e.media.addEventListener("loadedmetadata",function(){(0,B.calculateTimeFormat)(e.getDuration(),e.options,e.options.framesPerSecond||25);e.updateDuration&&
e.updateDuration();e.updateCurrent&&e.updateCurrent();e.isFullScreen||(e.setPlayerSize(e.width,e.height),e.setControlsSize())});var n=null;e.media.addEventListener("timeupdate",function(){isNaN(e.getDuration())||n===e.getDuration()||(n=e.getDuration(),(0,B.calculateTimeFormat)(n,e.options,e.options.framesPerSecond||25),e.updateDuration&&e.updateDuration(),e.updateCurrent&&e.updateCurrent(),e.setControlsSize())});e.getElement(e.container).addEventListener("click",function(a){x.addClass(a.currentTarget,
e.options.classPrefix+"container-keyboard-inactive")});e.getElement(e.container).addEventListener("focusin",function(a){x.removeClass(a.currentTarget,e.options.classPrefix+"container-keyboard-inactive");!e.isVideo||u.IS_ANDROID||u.IS_IOS||!e.controlsEnabled||e.options.alwaysShowControls||(e.killControlsTimer("enter"),e.showControls(),e.startControlsTimer(e.options.controlsTimeoutMouseEnter))});e.getElement(e.container).addEventListener("focusout",function(a){setTimeout(function(){a.relatedTarget&&
e.keyboardAction&&!a.relatedTarget.closest("."+e.options.classPrefix+"container")&&(e.keyboardAction=!1,!e.isVideo||e.options.alwaysShowControls||e.paused||e.startControlsTimer(e.options.controlsTimeoutMouseLeave))},0)});setTimeout(function(){e.setPlayerSize(e.width,e.height);e.setControlsSize()},0);e.globalResizeCallback=function(){e.isFullScreen||u.HAS_TRUE_NATIVE_FULLSCREEN&&a.default.webkitIsFullScreen||e.setPlayerSize(e.width,e.height);e.setControlsSize()};e.globalBind("resize",e.globalResizeCallback)}h&&
l&&e.play();if(e.options.success)if("string"===typeof e.options.success)k.default[e.options.success](e.media,e.domNode,e);else e.options.success(e.media,e.domNode,e)}}},{key:"_handleError",value:function(c,d,e){var k=this.getElement(this.layers).querySelector("."+this.options.classPrefix+"overlay-play");k&&(k.style.display="none");this.options.error&&this.options.error(c,d,e);this.getElement(this.container).querySelector("."+this.options.classPrefix+"cannotplay")&&this.getElement(this.container).querySelector("."+
this.options.classPrefix+"cannotplay").remove();d=a.default.createElement("div");d.className=this.options.classPrefix+"cannotplay";d.style.width="100%";d.style.height="100%";e="function"===typeof this.options.customError?this.options.customError(this.media,this.media.originalNode):this.options.customError;k="";if(!e){var h=this.media.originalNode.getAttribute("poster");h&&(k='<img src="'+h+'" alt="'+f.default.i18n.t("mejs.download-file")+'">');c.message&&(e="<p>"+c.message+"</p>");if(c.urls){h=0;
for(var l=c.urls.length;h<l;h++){var m=c.urls[h];e+='<a href="'+m.src+'" data-type="'+m.type+'"><span>'+f.default.i18n.t("mejs.download-file")+": "+m.src+"</span></a>"}}}e&&this.getElement(this.layers).querySelector("."+this.options.classPrefix+"overlay-error")&&(d.innerHTML=e,this.getElement(this.layers).querySelector("."+this.options.classPrefix+"overlay-error").innerHTML=""+k+d.outerHTML,this.getElement(this.layers).querySelector("."+this.options.classPrefix+"overlay-error").parentNode.style.display=
"block");this.controlsEnabled&&this.disableControls()}},{key:"setPlayerSize",value:function(a,c){if(!this.options.setDimensions)return!1;"undefined"!==typeof a&&(this.width=a);"undefined"!==typeof c&&(this.height=c);switch(this.options.stretching){case "fill":this.isVideo?this.setFillMode():this.setDimensions(this.width,this.height);break;case "responsive":this.setResponsiveMode();break;case "none":this.setDimensions(this.width,this.height);break;default:!0===this.hasFluidMode()?this.setResponsiveMode():
this.setDimensions(this.width,this.height)}}},{key:"hasFluidMode",value:function(){return-1!==this.height.toString().indexOf("%")||this.node&&this.node.style.maxWidth&&"none"!==this.node.style.maxWidth&&this.node.style.maxWidth!==this.width||this.node&&this.node.currentStyle&&"100%"===this.node.currentStyle.maxWidth}},{key:"setResponsiveMode",value:function(){var c=this,d=function(){for(var a=void 0,d=c.getElement(c.container);d;){try{if(u.IS_FIREFOX&&"html"===d.tagName.toLowerCase()&&k.default.self!==
k.default.top&&null!==k.default.frameElement)return k.default.frameElement;a=d.parentElement}catch(W){a=d.parentElement}if(a&&x.visible(a))return a;d=a}return null}(),e=d?getComputedStyle(d,null):getComputedStyle(a.default.body,null);d=c.isVideo?c.node.videoWidth&&0<c.node.videoWidth?c.node.videoWidth:c.node.getAttribute("width")?c.node.getAttribute("width"):c.options.defaultVideoWidth:c.options.defaultAudioWidth;var f=c.isVideo?c.node.videoHeight&&0<c.node.videoHeight?c.node.videoHeight:c.node.getAttribute("height")?
c.node.getAttribute("height"):c.options.defaultVideoHeight:c.options.defaultAudioHeight,h=function(){var a=1;if(!c.isVideo)return a;a=c.node.videoWidth&&0<c.node.videoWidth&&c.node.videoHeight&&0<c.node.videoHeight?c.height>=c.width?c.node.videoWidth/c.node.videoHeight:c.node.videoHeight/c.node.videoWidth:c.initialAspectRatio;if(isNaN(a)||.01>a||100<a)a=1;return a}(),l=parseFloat(e.height),m=void 0;e=parseFloat(e.width);m=c.isVideo?"100%"===c.height?parseFloat(e*f/d,10):c.height>=c.width?parseFloat(e/
h,10):parseFloat(e*h,10):f;isNaN(m)&&(m=l);0<c.getElement(c.container).parentNode.length&&"body"===c.getElement(c.container).parentNode.tagName.toLowerCase()&&(e=k.default.innerWidth||a.default.documentElement.clientWidth||a.default.body.clientWidth,m=k.default.innerHeight||a.default.documentElement.clientHeight||a.default.body.clientHeight);if(m&&e)for(c.getElement(c.container).style.width=e+"px",c.getElement(c.container).style.height=m+"px",c.node.style.width="100%",c.node.style.height="100%",c.isVideo&&
c.media.setSize&&c.media.setSize(e,m),d=c.getElement(c.layers).children,f=0,h=d.length;f<h;f++)d[f].style.width="100%",d[f].style.height="100%"}},{key:"setFillMode",value:function(){var c=this,d=k.default.self!==k.default.top&&null!==k.default.frameElement,e=function(){for(var a=void 0,d=c.getElement(c.container);d;){try{if(u.IS_FIREFOX&&"html"===d.tagName.toLowerCase()&&k.default.self!==k.default.top&&null!==k.default.frameElement)return k.default.frameElement;a=d.parentElement}catch(ha){a=d.parentElement}if(a&&
x.visible(a))return a;d=a}return null}(),f=e?getComputedStyle(e,null):getComputedStyle(a.default.body,null);"none"!==c.node.style.height&&c.node.style.height!==c.height&&(c.node.style.height="auto");"none"!==c.node.style.maxWidth&&c.node.style.maxWidth!==c.width&&(c.node.style.maxWidth="none");"none"!==c.node.style.maxHeight&&c.node.style.maxHeight!==c.height&&(c.node.style.maxHeight="none");c.node.currentStyle&&("100%"===c.node.currentStyle.height&&(c.node.currentStyle.height="auto"),"100%"===c.node.currentStyle.maxWidth&&
(c.node.currentStyle.maxWidth="none"),"100%"===c.node.currentStyle.maxHeight&&(c.node.currentStyle.maxHeight="none"));d||parseFloat(f.width)||(e.style.width=c.media.offsetWidth+"px");d||parseFloat(f.height)||(e.style.height=c.media.offsetHeight+"px");f=getComputedStyle(e);d=parseFloat(f.width);var h=parseFloat(f.height);c.setDimensions("100%","100%");if(f=c.getElement(c.container).querySelector("."+c.options.classPrefix+"poster>img"))f.style.display="";f=c.getElement(c.container).querySelectorAll("object, embed, iframe, video");
var l=c.height,m=c.width;e=m*h/l;var n=!1===e>d;e=n?Math.floor(d):Math.floor(e);m=n?Math.floor(l*d/m):Math.floor(h);l=n?d+"px":e+"px";h=n?m+"px":h+"px";n=0;for(m=f.length;n<m;n++)f[n].style.height=h,f[n].style.width=l,c.media.setSize&&c.media.setSize(l,h),f[n].style.marginLeft=Math.floor((d-e)/2)+"px",f[n].style.marginTop=0}},{key:"setDimensions",value:function(a,c){a=(0,z.isString)(a)&&-1<a.indexOf("%")?a:parseFloat(a)+"px";c=(0,z.isString)(c)&&-1<c.indexOf("%")?c:parseFloat(c)+"px";this.getElement(this.container).style.width=
a;this.getElement(this.container).style.height=c;for(var d=this.getElement(this.layers).children,e=0,f=d.length;e<f;e++)d[e].style.width=a,d[e].style.height=c}},{key:"setControlsSize",value:function(){var a=this;if(x.visible(a.getElement(a.container)))if(a.rail&&x.visible(a.rail)){var c=a.total?getComputedStyle(a.total,null):null;c=c?parseFloat(c.marginLeft)+parseFloat(c.marginRight):0;var d=getComputedStyle(a.rail);d=parseFloat(d.marginLeft)+parseFloat(d.marginRight);for(var e=0,f=x.siblings(a.rail,
function(c){return c!==a.rail}),k=f.length,h=0;h<k;h++)e+=f[h].offsetWidth;e+=c+(0===c?2*d:d)+1;a.getElement(a.container).style.minWidth=e+"px";c=(0,z.createEvent)("controlsresize",a.getElement(a.container));a.getElement(a.container).dispatchEvent(c)}else{c=a.getElement(a.controls).children;e=d=0;for(f=c.length;e<f;e++)d+=c[e].offsetWidth;a.getElement(a.container).style.minWidth=d+"px"}}},{key:"addControlElement",value:function(a,c){if(void 0!==this.featurePosition[c])c=this.getElement(this.controls).children[this.featurePosition[c]-
1],c.parentNode.insertBefore(a,c.nextSibling);else{this.getElement(this.controls).appendChild(a);for(var d=this.getElement(this.controls).children,e=0,f=d.length;e<f;e++)if(a===d[e]){this.featurePosition[c]=e;break}}}},{key:"createIframeLayer",value:function(){var c=this;if(c.isVideo&&null!==c.media.rendererName&&-1<c.media.rendererName.indexOf("iframe")&&!a.default.getElementById(c.media.id+"-iframe-overlay")){var d=a.default.createElement("div"),e=a.default.getElementById(c.media.id+"_"+c.media.rendererName);
d.id=c.media.id+"-iframe-overlay";d.className=c.options.classPrefix+"iframe-overlay";d.addEventListener("click",function(a){c.options.clickToPlayPause&&(c.paused?c.play():c.pause(),a.preventDefault(),a.stopPropagation())});e.parentNode.insertBefore(d,e)}}},{key:"resetSize",value:function(){var a=this;setTimeout(function(){a.setPlayerSize(a.width,a.height);a.setControlsSize()},50)}},{key:"setPoster",value:function(c){if(this.getElement(this.container)){var d=this.getElement(this.container).querySelector("."+
this.options.classPrefix+"poster");d||(d=a.default.createElement("div"),d.className=this.options.classPrefix+"poster "+this.options.classPrefix+"layer",this.getElement(this.layers).appendChild(d));var e=d.querySelector("img");!e&&c&&(e=a.default.createElement("img"),e.className=this.options.classPrefix+"poster-img",e.width="100%",e.height="100%",d.style.display="",d.appendChild(e));c?(e.setAttribute("src",c),d.style.backgroundImage='url("'+c+'")',d.style.display=""):e?(d.style.backgroundImage="none",
d.style.display="none",e.remove()):d.style.display="none"}else if(u.IS_IPAD&&this.options.iPadUseNativeControls||u.IS_IPHONE&&this.options.iPhoneUseNativeControls||u.IS_ANDROID&&this.options.AndroidUseNativeControls)this.media.originalNode.poster=c}},{key:"changeSkin",value:function(a){this.getElement(this.container).className=this.options.classPrefix+"container "+a;this.setPlayerSize(this.width,this.height);this.setControlsSize()}},{key:"globalBind",value:function(c,d){var e=this.node?this.node.ownerDocument:
a.default;c=(0,z.splitEvents)(c,this.id);if(c.d)for(var f=c.d.split(" "),h=0,l=f.length;h<l;h++)f[h].split(".").reduce(function(a,c){e.addEventListener(c,d,!1);return c},"");if(c.w)for(c=c.w.split(" "),f=0,h=c.length;f<h;f++)c[f].split(".").reduce(function(a,c){k.default.addEventListener(c,d,!1);return c},"")}},{key:"globalUnbind",value:function(c,d){var e=this.node?this.node.ownerDocument:a.default;c=(0,z.splitEvents)(c,this.id);if(c.d)for(var f=c.d.split(" "),h=0,l=f.length;h<l;h++)f[h].split(".").reduce(function(a,
c){e.removeEventListener(c,d,!1);return c},"");if(c.w)for(c=c.w.split(" "),f=0,h=c.length;f<h;f++)c[f].split(".").reduce(function(a,c){k.default.removeEventListener(c,d,!1);return c},"")}},{key:"buildfeatures",value:function(a,c,d,e){for(var f=0,k=this.options.features.length;f<k;f++){var h=this.options.features[f];if(this["build"+h])try{this["build"+h](a,c,d,e)}catch(Y){console.error("error building "+h,Y)}}}},{key:"buildposter",value:function(c,d,e,f){var k=a.default.createElement("div");k.className=
this.options.classPrefix+"poster "+this.options.classPrefix+"layer";e.appendChild(k);d=f.originalNode.getAttribute("poster");""!==c.options.poster&&(d&&u.IS_IOS&&f.originalNode.removeAttribute("poster"),d=c.options.poster);d?this.setPoster(d):null!==this.media.renderer&&"function"===typeof this.media.renderer.getPosterUrl?this.setPoster(this.media.renderer.getPosterUrl()):k.style.display="none";f.addEventListener("play",function(){k.style.display="none"});f.addEventListener("playing",function(){k.style.display=
"none"});c.options.showPosterWhenEnded&&c.options.autoRewind&&f.addEventListener("ended",function(){k.style.display=""});f.addEventListener("error",function(){k.style.display="none"});c.options.showPosterWhenPaused&&f.addEventListener("pause",function(){c.ended||(k.style.display="")})}},{key:"buildoverlays",value:function(c,d,f,k){if(c.isVideo){var h=this,l=a.default.createElement("div"),m=a.default.createElement("div"),n=a.default.createElement("div");l.style.display="none";l.className=h.options.classPrefix+
"overlay "+h.options.classPrefix+"layer";l.innerHTML='<div class="'+h.options.classPrefix+'overlay-loading"><span class="'+(h.options.classPrefix+'overlay-loading-bg-img"></span></div>');f.appendChild(l);m.style.display="none";m.className=h.options.classPrefix+"overlay "+h.options.classPrefix+"layer";m.innerHTML='<div class="'+h.options.classPrefix+'overlay-error"></div>';f.appendChild(m);n.className=h.options.classPrefix+"overlay "+h.options.classPrefix+"layer "+h.options.classPrefix+"overlay-play";
n.innerHTML='<div class="'+h.options.classPrefix+'overlay-button" role="button" tabindex="0" aria-label="'+(e.default.t("mejs.play")+'" aria-pressed="false"></div>');n.addEventListener("click",function(){if(h.options.clickToPlayPause){var a=h.getElement(h.container).querySelector("."+h.options.classPrefix+"overlay-button"),c=a.getAttribute("aria-pressed");h.paused?h.play():h.pause();a.setAttribute("aria-pressed",!!c);h.getElement(h.container).focus()}});n.addEventListener("keydown",function(a){a=
a.keyCode||a.which||0;if(13===a||u.IS_FIREFOX&&32===a)return a=(0,z.createEvent)("click",n),n.dispatchEvent(a),!1});f.appendChild(n);null!==h.media.rendererName&&(/(youtube|facebook)/i.test(h.media.rendererName)&&!(h.media.originalNode.getAttribute("poster")||c.options.poster||"function"===typeof h.media.renderer.getPosterUrl&&h.media.renderer.getPosterUrl())||u.IS_STOCK_ANDROID||h.media.originalNode.getAttribute("autoplay"))&&(n.style.display="none");var p=!1;k.addEventListener("play",function(){n.style.display=
"none";l.style.display="none";m.style.display="none";p=!1});k.addEventListener("playing",function(){n.style.display="none";l.style.display="none";m.style.display="none";p=!1});k.addEventListener("seeking",function(){n.style.display="none";l.style.display="";p=!1});k.addEventListener("seeked",function(){n.style.display=h.paused&&!u.IS_STOCK_ANDROID?"":"none";l.style.display="none";p=!1});k.addEventListener("pause",function(){l.style.display="none";u.IS_STOCK_ANDROID||p||(n.style.display="");p=!1});
k.addEventListener("waiting",function(){l.style.display="";p=!1});k.addEventListener("loadeddata",function(){l.style.display="";u.IS_ANDROID&&(k.canplayTimeout=setTimeout(function(){if(a.default.createEvent){var c=a.default.createEvent("HTMLEvents");c.initEvent("canplay",!0,!0);return k.dispatchEvent(c)}},300));p=!1});k.addEventListener("canplay",function(){l.style.display="none";clearTimeout(k.canplayTimeout);p=!1});k.addEventListener("error",function(a){h._handleError(a,h.media,h.node);l.style.display=
"none";n.style.display="none";p=!0});k.addEventListener("loadedmetadata",function(){h.controlsEnabled||h.enableControls()});k.addEventListener("keydown",function(a){h.onkeydown(c,k,a);p=!1})}}},{key:"buildkeyboard",value:function(c,d,e,f){var k=this;k.getElement(k.container).addEventListener("keydown",function(){k.keyboardAction=!0});k.globalKeydownCallback=function(d){var e=a.default.activeElement.closest("."+k.options.classPrefix+"container"),h=k.media.closest("."+k.options.classPrefix+"container");
k.hasFocus=!(!e||!h||e.id!==h.id);return k.onkeydown(c,f,d)};k.globalClickCallback=function(a){k.hasFocus=!!a.target.closest("."+k.options.classPrefix+"container")};k.globalBind("keydown",k.globalKeydownCallback);k.globalBind("click",k.globalClickCallback)}},{key:"onkeydown",value:function(a,c,d){if(a.hasFocus&&a.options.enableKeyboard)for(var e=0,f=a.options.keyActions.length;e<f;e++)for(var k=a.options.keyActions[e],h=0,l=k.keys.length;h<l;h++)if(d.keyCode===k.keys[h]){k.action(a,c,d.keyCode,d);
d.preventDefault();d.stopPropagation();return}return!0}},{key:"play",value:function(){this.proxy.play()}},{key:"pause",value:function(){this.proxy.pause()}},{key:"load",value:function(){this.proxy.load()}},{key:"setCurrentTime",value:function(a){this.proxy.setCurrentTime(a)}},{key:"getCurrentTime",value:function(){return this.proxy.currentTime}},{key:"getDuration",value:function(){return this.proxy.duration}},{key:"setVolume",value:function(a){this.proxy.volume=a}},{key:"getVolume",value:function(){return this.proxy.getVolume()}},
{key:"setMuted",value:function(a){this.proxy.setMuted(a)}},{key:"setSrc",value:function(a){this.controlsEnabled||this.enableControls();this.proxy.setSrc(a)}},{key:"getSrc",value:function(){return this.proxy.getSrc()}},{key:"canPlayType",value:function(a){return this.proxy.canPlayType(a)}},{key:"remove",value:function(){var c=this,d=c.media.rendererName,e=c.media.originalNode.src;for(h in c.options.features){var k=c.options.features[h];if(c["clean"+k])try{c["clean"+k](c,c.getElement(c.layers),c.getElement(c.controls),
c.media)}catch(K){console.error("error cleaning "+k,K)}}var h=c.node.getAttribute("width");k=c.node.getAttribute("height");h?-1===h.indexOf("%")&&(h+="px"):h="auto";k?-1===k.indexOf("%")&&(k+="px"):k="auto";c.node.style.width=h;c.node.style.height=k;c.setPlayerSize(0,0);c.isDynamic?c.getElement(c.container).parentNode.insertBefore(c.node,c.getElement(c.container)):function(){c.node.setAttribute("controls",!0);c.node.setAttribute("id",c.node.getAttribute("id").replace("_"+d,"").replace("_from_mejs",
""));var f=c.getElement(c.container).querySelector("."+c.options.classPrefix+"poster>img");f&&c.node.setAttribute("poster",f.src);delete c.node.autoplay;c.node.setAttribute("src","");""!==c.media.canPlayType((0,G.getTypeFromFile)(e))&&c.node.setAttribute("src",e);d&&-1<d.indexOf("iframe")&&a.default.getElementById(c.media.id+"-iframe-overlay").remove();var k=c.node.cloneNode();k.style.display="";c.getElement(c.container).parentNode.insertBefore(k,c.getElement(c.container));c.node.remove();if(c.mediaFiles){f=
0;for(var h=c.mediaFiles.length;f<h;f++){var l=a.default.createElement("source");l.setAttribute("src",c.mediaFiles[f].src);l.setAttribute("type",c.mediaFiles[f].type);k.appendChild(l)}}if(c.trackFiles)for(f=function(d,e){e=c.trackFiles[d];var f=a.default.createElement("track");f.kind=e.kind;f.label=e.label;f.srclang=e.srclang;f.src=e.src;k.appendChild(f);f.addEventListener("load",function(){this.mode="showing";k.textTracks[d].mode="showing"})},h=0,l=c.trackFiles.length;h<l;h++)f(h,l);delete c.node;
delete c.mediaFiles;delete c.trackFiles}();c.media.renderer&&"function"===typeof c.media.renderer.destroy&&c.media.renderer.destroy();delete f.default.players[c.id];"object"===q(c.getElement(c.container))&&(c.getElement(c.container).parentNode.querySelector("."+c.options.classPrefix+"offscreen").remove(),c.getElement(c.container).remove());c.globalUnbind("resize",c.globalResizeCallback);c.globalUnbind("keydown",c.globalKeydownCallback);c.globalUnbind("click",c.globalClickCallback);delete c.media.player}},
{key:"paused",get:function(){return this.proxy.paused}},{key:"muted",get:function(){return this.proxy.muted},set:function(a){this.setMuted(a)}},{key:"ended",get:function(){return this.proxy.ended}},{key:"readyState",get:function(){return this.proxy.readyState}},{key:"currentTime",set:function(a){this.setCurrentTime(a)},get:function(){return this.getCurrentTime()}},{key:"duration",get:function(){return this.getDuration()}},{key:"volume",set:function(a){this.setVolume(a)},get:function(){return this.getVolume()}},
{key:"src",set:function(a){this.setSrc(a)},get:function(){return this.getSrc()}}]);return d}();k.default.MediaElementPlayer=d;f.default.MediaElementPlayer=d;m.default=d},{17:17,2:2,25:25,26:26,27:27,28:28,3:3,30:30,5:5,6:6,7:7}],17:[function(d,h,m){Object.defineProperty(m,"__esModule",{value:!0});var n=function(){function d(d,k){for(var a=0;a<k.length;a++){var f=k[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(d,f.key,f)}}return function(h,k,
a){k&&d(h.prototype,k);a&&d(h,a);return h}}();d=(d=d(3))&&d.__esModule?d:{default:d};h=function(){function d(h){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.media=h.media;this.isVideo=h.isVideo;this.classPrefix=h.options.classPrefix;this.createIframeLayer=function(){return h.createIframeLayer()};this.setPoster=function(d){return h.setPoster(d)};return this}n(d,[{key:"play",value:function(){this.media.play()}},{key:"pause",value:function(){this.media.pause()}},
{key:"load",value:function(){this.isLoaded||this.media.load();this.isLoaded=!0}},{key:"setCurrentTime",value:function(d){this.media.setCurrentTime(d)}},{key:"getCurrentTime",value:function(){return this.media.currentTime}},{key:"getDuration",value:function(){var d=this.media.getDuration();Infinity===d&&this.media.seekable&&this.media.seekable.length&&(d=this.media.seekable.end(0));return d}},{key:"setVolume",value:function(d){this.media.setVolume(d)}},{key:"getVolume",value:function(){return this.media.getVolume()}},
{key:"setMuted",value:function(d){this.media.setMuted(d)}},{key:"setSrc",value:function(d){var k=document.getElementById(this.media.id+"-iframe-overlay");k&&k.remove();!this.media.setSrc&&this.media instanceof HTMLVideoElement?this.media.setAttribute("src",d):this.media.setSrc(d);this.createIframeLayer();null!==this.media.renderer&&"function"===typeof this.media.renderer.getPosterUrl&&this.setPoster(this.media.renderer.getPosterUrl())}},{key:"getSrc",value:function(){return this.media.getSrc()}},
{key:"canPlayType",value:function(d){return this.media.canPlayType(d)}},{key:"paused",get:function(){return this.media.paused}},{key:"muted",set:function(d){this.setMuted(d)},get:function(){return this.media.muted}},{key:"ended",get:function(){return this.media.ended}},{key:"readyState",get:function(){return this.media.readyState}},{key:"currentTime",set:function(d){this.setCurrentTime(d)},get:function(){return this.getCurrentTime()}},{key:"duration",get:function(){return this.getDuration()}},{key:"remainingTime",
get:function(){return this.getDuration()-this.currentTime()}},{key:"volume",set:function(d){this.setVolume(d)},get:function(){return this.getVolume()}},{key:"src",set:function(d){this.setSrc(d)},get:function(){return this.getSrc()}}]);return d}();m.default=h;d.default.DefaultPlayer=h},{3:3}],18:[function(d,h,m){function n(d){return d&&d.__esModule?d:{default:d}}h=d(3);n(h);h=d(7);var q=n(h);d=d(16);var t=n(d);"undefined"!==typeof jQuery?q.default.$=jQuery:"undefined"!==typeof Zepto?q.default.$=Zepto:
"undefined"!==typeof ender&&(q.default.$=ender);(function(d){"undefined"!==typeof d&&(d.fn.mediaelementplayer=function(a){!1===a?this.each(function(){var a=d(this).data("mediaelementplayer");a&&a.remove();d(this).removeData("mediaelementplayer")}):this.each(function(){d(this).data("mediaelementplayer",new t.default(this,a))});return this},d(document).ready(function(){d("."+q.default.MepDefaults.classPrefix+"player").mediaelementplayer()}))})(q.default.$)},{16:16,3:3,7:7}],19:[function(d,h,m){var n=
"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},q=(h=d(3))&&h.__esModule?h:{default:h},t=(h=d(7))&&h.__esModule?h:{default:h},k=d(8),a=d(27);h=d(28);var f=d(25),l=d(26),c={promise:null,load:function(a){"undefined"!==typeof dashjs?c.promise=(new Promise(function(a){a()})).then(function(){c._createPlayer(a)}):(a.options.path="string"===typeof a.options.path?
a.options.path:"https://cdn.dashjs.org/latest/dash.all.min.js",c.promise=c.promise||(0,l.loadScript)(a.options.path),c.promise.then(function(){c._createPlayer(a)}));return c.promise},_createPlayer:function(a){var c=dashjs.MediaPlayer().create();q.default["__ready__"+a.id](c);return c}};h.typeChecks.push(function(a){return~a.toLowerCase().indexOf(".mpd")?"application/dash+xml":null});k.renderer.add({name:"native_dash",options:{prefix:"native_dash",dash:{path:"https://cdn.dashjs.org/latest/dash.all.min.js",
debug:!1,drm:{},robustnessLevel:""}},canPlayType:function(a){return f.HAS_MSE&&-1<["application/dash+xml"].indexOf(a.toLowerCase())},create:function(d,f,h){var e=d.originalNode,l=d.id+"_"+f.prefix,m=e.autoplay,p=e.children,u=null,z=null;e.removeAttribute("type");for(var D=0,C=p.length;D<C;D++)p[D].removeAttribute("type");u=e.cloneNode(!0);f=Object.assign(f,d.options);p=t.default.html5media.properties;var F=t.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(a){return"error"!==
a}),E=function(c){c=(0,a.createEvent)(c.type,d);d.dispatchEvent(c)};D=function(d){var e=""+d.substring(0,1).toUpperCase()+d.substring(1);u["get"+e]=function(){return null!==z?u[d]:null};u["set"+e]=function(e){if(-1===t.default.html5media.readOnlyProperties.indexOf(d))if("src"===d){var k="object"===("undefined"===typeof e?"undefined":n(e))&&e.src?e.src:e;u[d]=k;if(null!==z){z.reset();for(var h=0,p=F.length;h<p;h++)u.removeEventListener(F[h],E);z=c._createPlayer({options:f.dash,id:l});e&&"object"===
("undefined"===typeof e?"undefined":n(e))&&"object"===n(e.drm)&&(z.setProtectionData(e.drm),(0,a.isString)(f.dash.robustnessLevel)&&f.dash.robustnessLevel&&z.getProtectionController().setRobustnessLevel(f.dash.robustnessLevel));z.attachSource(k);m&&z.play()}}else u[d]=e}};C=0;for(var K=p.length;C<K;C++)D(p[C]);q.default["__ready__"+l]=function(c){d.dashPlayer=z=c;c=dashjs.MediaPlayer.events;for(var e=function(c){"loadedmetadata"===c&&(z.initialize(),z.attachView(u),z.setAutoPlay(!1),"object"!==n(f.dash.drm)||
t.default.Utils.isObjectEmpty(f.dash.drm)||(z.setProtectionData(f.dash.drm),(0,a.isString)(f.dash.robustnessLevel)&&f.dash.robustnessLevel&&z.getProtectionController().setRobustnessLevel(f.dash.robustnessLevel)),z.attachSource(u.getSrc()));u.addEventListener(c,E)},k=0,h=F.length;k<h;k++)e(F[k]);for(var l in c)if(c.hasOwnProperty(l))z.on(c[l],function(c){if("error"===c.type.toLowerCase())d.generateError(c.message,u.src),console.error(c);else{var e=(0,a.createEvent)(c.type,d);e.data=c;d.dispatchEvent(e)}})};
if(h&&0<h.length)for(p=0,D=h.length;p<D;p++)if(k.renderer.renderers[f.prefix].canPlayType(h[p].type)){u.setAttribute("src",h[p].src);"undefined"!==typeof h[p].drm&&(f.dash.drm=h[p].drm);break}u.setAttribute("id",l);e.parentNode.insertBefore(u,e);e.autoplay=!1;e.style.display="none";u.setSize=function(a,c){u.style.width=a+"px";u.style.height=c+"px";return u};u.hide=function(){u.pause();u.style.display="none";return u};u.show=function(){u.style.display="";return u};u.destroy=function(){null!==z&&z.reset()};
h=(0,a.createEvent)("rendererready",u);d.dispatchEvent(h);d.promises.push(c.load({options:f.dash,id:l}));return u}})},{25:25,26:26,27:27,28:28,3:3,7:7,8:8}],20:[function(d,h,m){function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(m,"__esModule",{value:!0});m.PluginDetector=void 0;var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":
typeof a};h=d(3);var t=n(h);h=d(2);var k=n(h);h=d(7);var a=n(h);h=d(5);var f=n(h),l=d(8),c=d(27),e=d(25),u=d(28),z=mejs.PluginDetector=m.PluginDetector={plugins:[],hasPluginVersion:function(a,c){a=z.plugins[a];c[1]=c[1]||0;c[2]=c[2]||0;return a[0]>c[0]||a[0]===c[0]&&a[1]>c[1]||a[0]===c[0]&&a[1]===c[1]&&a[2]>=c[2]},addPlugin:function(a,c,d,e,f){z.plugins[a]=z.detectPlugin(c,d,e,f)},detectPlugin:function(a,c,d,f){var k=[0,0,0],h=void 0;if(null!==e.NAV.plugins&&void 0!==e.NAV.plugins&&"object"===q(e.NAV.plugins[a])){if((d=
e.NAV.plugins[a].description)&&("undefined"===typeof e.NAV.mimeTypes||!e.NAV.mimeTypes[c]||e.NAV.mimeTypes[c].enabledPlugin))for(k=d.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),a=0,c=k.length;a<c;a++)k[a]=parseInt(k[a].match(/\d+/),10)}else if(void 0!==t.default.ActiveXObject)try{h=new ActiveXObject(d),k=f(h)}catch(D){}return k}};z.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var c=[];if(a=a.GetVariable("$version"))a=
a.split(" ")[1].split(","),c=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)];return c});z.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var c=[0,0,0,0],d=function(a,c,d,e){for(;a.isVersionSupported(c[0]+"."+c[1]+"."+c[2]+"."+c[3]);)c[d]+=e;c[d]-=e};d(a,c,0,1);d(a,c,1,1);d(a,c,2,1E4);d(a,c,2,1E3);d(a,c,2,100);d(a,c,2,10);d(a,c,2,1);d(a,c,3,1);return c});d=function(d,h,m){var n={},p=!1;n.options=h;n.id=d.id+"_"+n.options.prefix;
n.mediaElement=d;n.flashState={};n.flashApi=null;n.flashApiStack=[];for(var q=a.default.html5media.properties,z=function(a){n.flashState[a]=null;var c=""+a.substring(0,1).toUpperCase()+a.substring(1);n["get"+c]=function(){if(null!==n.flashApi&&"function"===typeof n.flashApi["get_"+a]){var c=n.flashApi["get_"+a]();return"buffered"===a?{start:function(){return 0},end:function(){return c},length:1}:c}return null};n["set"+c]=function(c){"src"===a&&(c=(0,u.absolutizeUrl)(c));if(null!==n.flashApi&&void 0!==
n.flashApi["set_"+a])try{n.flashApi["set_"+a](c)}catch(P){}else n.flashApiStack.push({type:"set",propName:a,value:c})}},x=0,B=q.length;x<B;x++)z(q[x]);q=a.default.html5media.methods;z=function(a){n[a]=function(){if(p)if(null!==n.flashApi){if(n.flashApi["fire_"+a])try{n.flashApi["fire_"+a]()}catch(N){}}else n.flashApiStack.push({type:"call",methodName:a})}};q.push("stop");x=0;for(B=q.length;x<B;x++)z(q[x]);q=["rendererready"];z=0;for(x=q.length;z<x;z++)B=(0,c.createEvent)(q[z],n),d.dispatchEvent(B);
t.default["__ready__"+n.id]=function(){n.flashReady=!0;n.flashApi=k.default.getElementById("__"+n.id);if(n.flashApiStack.length)for(var a=0,c=n.flashApiStack.length;a<c;a++){var d=n.flashApiStack[a];if("set"===d.type){var e=d.propName;e=""+e.substring(0,1).toUpperCase()+e.substring(1);n["set"+e](d.value)}else if("call"===d.type)n[d.methodName]()}};t.default["__event__"+n.id]=function(a,d){a=(0,c.createEvent)(a,n);if(d)try{a.data=JSON.parse(d),a.details.data=JSON.parse(d)}catch(Y){a.message=d}n.mediaElement.dispatchEvent(a)};
n.flashWrapper=k.default.createElement("div");-1===["always","sameDomain"].indexOf(n.options.shimScriptAccess)&&(n.options.shimScriptAccess="sameDomain");q=["uid="+n.id,"autoplay="+d.originalNode.autoplay,"allowScriptAccess="+n.options.shimScriptAccess,"preload="+(d.originalNode.getAttribute("preload")||"")];var G=null!==d.originalNode&&"video"===d.originalNode.tagName.toLowerCase();z=G?d.originalNode.height:1;x=G?d.originalNode.width:1;d.originalNode.getAttribute("src")&&q.push("src="+d.originalNode.getAttribute("src"));
!0===n.options.enablePseudoStreaming&&(q.push("pseudostreamstart="+n.options.pseudoStreamingStartQueryParam),q.push("pseudostreamtype="+n.options.pseudoStreamingType));n.options.streamDelimiter&&q.push("streamdelimiter="+encodeURIComponent(n.options.streamDelimiter));n.options.proxyType&&q.push("proxytype="+n.options.proxyType);d.appendChild(n.flashWrapper);d.originalNode.style.display="none";d=[];e.IS_IE||e.IS_EDGE?(B=k.default.createElement("div"),n.flashWrapper.appendChild(B),d=e.IS_EDGE?['type="application/x-shockwave-flash"',
'data="'+n.options.pluginPath+n.options.filename+'"','id="__'+n.id+'"','width="'+x+'"','height="'+z+"'\""]:['classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"','codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"','id="__'+n.id+'"','width="'+x+'"','height="'+z+'"'],G||d.push('style="clip: rect(0 0 0 0); position: absolute;"'),B.outerHTML="<object "+d.join(" ")+">"+('<param name="movie" value="'+n.options.pluginPath+n.options.filename+"?x="+new Date+'" /><param name="flashvars" value="')+
(q.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="')+(n.options.shimScriptAccess+'" /><param name="allowFullScreen" value="true" /><div>')+(f.default.t("mejs.install-flash")+"</div></object>")):(d=['id="__'+n.id+'"','name="__'+n.id+'"','play="true"','loop="false"','quality="high"','bgcolor="#000000"','wmode="transparent"','allowScriptAccess="'+n.options.shimScriptAccess+
'"','allowFullScreen="true"','type="application/x-shockwave-flash"','pluginspage="//www.macromedia.com/go/getflashplayer"','src="'+n.options.pluginPath+n.options.filename+'"','flashvars="'+q.join("&")+'"'],G?(d.push('width="'+x+'"'),d.push('height="'+z+'"')):d.push('style="position: fixed; left: -9999em; top: -9999em;"'),n.flashWrapper.innerHTML="<embed "+d.join(" ")+">");n.flashNode=n.flashWrapper.lastChild;n.hide=function(){p=!1;G&&(n.flashNode.style.display="none")};n.show=function(){p=!0;G&&(n.flashNode.style.display=
"")};n.setSize=function(a,c){n.flashNode.style.width=a+"px";n.flashNode.style.height=c+"px";null!==n.flashApi&&"function"===typeof n.flashApi.fire_setSize&&n.flashApi.fire_setSize(a,c)};n.destroy=function(){n.flashNode.remove()};if(m&&0<m.length)for(d=0,q=m.length;d<q;d++)if(l.renderer.renderers[h.prefix].canPlayType(m[d].type)){n.setSrc(m[d].src);break}return n};z.hasPluginVersion("flash",[10,0,0])&&(u.typeChecks.push(function(a){a=a.toLowerCase();return a.startsWith("rtmp")?~a.indexOf(".mp3")?"audio/rtmp":
"video/rtmp":/\.og(a|g)/i.test(a)?"audio/ogg":~a.indexOf(".m3u8")?"application/x-mpegURL":~a.indexOf(".mpd")?"application/dash+xml":~a.indexOf(".flv")?"video/flv":null}),l.renderer.add({name:"flash_video",options:{prefix:"flash_video",filename:"mediaelement-flash-video.swf",enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",pseudoStreamingType:"byte",proxyType:"",streamDelimiter:""},canPlayType:function(a){return~"video/mp4 video/rtmp audio/rtmp rtmp/mp4 audio/mp4 video/flv video/x-flv".split(" ").indexOf(a.toLowerCase())},
create:d}),l.renderer.add({name:"flash_hls",options:{prefix:"flash_hls",filename:"mediaelement-flash-video-hls.swf"},canPlayType:function(a){return~["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(a.toLowerCase())},create:d}),l.renderer.add({name:"flash_dash",options:{prefix:"flash_dash",filename:"mediaelement-flash-video-mdash.swf"},canPlayType:function(a){return~["application/dash+xml"].indexOf(a.toLowerCase())},create:d}),l.renderer.add({name:"flash_audio",
options:{prefix:"flash_audio",filename:"mediaelement-flash-audio.swf"},canPlayType:function(a){return~["audio/mp3"].indexOf(a.toLowerCase())},create:d}),l.renderer.add({name:"flash_audio_ogg",options:{prefix:"flash_audio_ogg",filename:"mediaelement-flash-audio-ogg.swf"},canPlayType:function(a){return~["audio/ogg","audio/oga","audio/ogv"].indexOf(a.toLowerCase())},create:d}))},{2:2,25:25,27:27,28:28,3:3,5:5,7:7,8:8}],21:[function(d,h,m){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},q=(h=d(3))&&h.__esModule?h:{default:h},t=(h=d(7))&&h.__esModule?h:{default:h},k=d(8),a=d(27),f=d(25);h=d(28);var l=d(26),c={promise:null,load:function(a){"undefined"!==typeof flvjs?c.promise=(new Promise(function(a){a()})).then(function(){c._createPlayer(a)}):(a.options.path="string"===typeof a.options.path?a.options.path:"https://cdn.jsdelivr.net/npm/flv.js@latest",
c.promise=c.promise||(0,l.loadScript)(a.options.path),c.promise.then(function(){c._createPlayer(a)}));return c.promise},_createPlayer:function(a){flvjs.LoggingControl.enableDebug=a.options.debug;flvjs.LoggingControl.enableVerbose=a.options.debug;var c=flvjs.createPlayer(a.options,a.configs);q.default["__ready__"+a.id](c);return c}};h.typeChecks.push(function(a){return~a.toLowerCase().indexOf(".flv")?"video/flv":null});k.renderer.add({name:"native_flv",options:{prefix:"native_flv",flv:{path:"https://cdn.jsdelivr.net/npm/flv.js@latest",
cors:!0,debug:!1}},canPlayType:function(a){return f.HAS_MSE&&-1<["video/x-flv","video/flv"].indexOf(a.toLowerCase())},create:function(d,f,h){var e=d.originalNode,l=d.id+"_"+f.prefix,m=null,p=null;m=e.cloneNode(!0);f=Object.assign(f,d.options);for(var u=t.default.html5media.properties,z=t.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(a){return"error"!==a}),D=function(c){c=(0,a.createEvent)(c.type,d);d.dispatchEvent(c)},C=function(a){var d=""+a.substring(0,1).toUpperCase()+
a.substring(1);m["get"+d]=function(){return null!==p?m[a]:null};m["set"+d]=function(d){if(-1===t.default.html5media.readOnlyProperties.indexOf(a))if("src"===a){if(m[a]="object"===("undefined"===typeof d?"undefined":n(d))&&d.src?d.src:d,null!==p){var e={type:"flv"};e.url=d;e.cors=f.flv.cors;e.debug=f.flv.debug;e.path=f.flv.path;d=f.flv.configs;p.destroy();for(var k=0,h=z.length;k<h;k++)m.removeEventListener(z[k],D);p=c._createPlayer({options:e,configs:d,id:l});p.attachMediaElement(m);p.load()}}else m[a]=
d}},F=0,E=u.length;F<E;F++)C(u[F]);q.default["__ready__"+l]=function(c){d.flvPlayer=p=c;var e=flvjs.Events;c=function(a){"loadedmetadata"===a&&(p.unload(),p.detachMediaElement(),p.attachMediaElement(m),p.load());m.addEventListener(a,D)};for(var f=0,k=z.length;f<k;f++)c(z[f]);c=function(c){if(e.hasOwnProperty(c))p.on(e[c],function(){for(var f=arguments.length,k=Array(f),h=0;h<f;h++)k[h]=arguments[h];f=e[c];"error"===f?d.generateError(k[0]+": "+k[1]+" "+k[2].msg,m.src):(f=(0,a.createEvent)(f,d),f.data=
k,d.dispatchEvent(f))})};for(var h in e)c(h)};if(h&&0<h.length)for(u=0,C=h.length;u<C;u++)if(k.renderer.renderers[f.prefix].canPlayType(h[u].type)){m.setAttribute("src",h[u].src);break}m.setAttribute("id",l);e.parentNode.insertBefore(m,e);e.autoplay=!1;e.style.display="none";h={type:"flv"};h.url=m.src;h.cors=f.flv.cors;h.debug=f.flv.debug;h.path=f.flv.path;e=f.flv.configs;m.setSize=function(a,c){m.style.width=a+"px";m.style.height=c+"px";return m};m.hide=function(){null!==p&&p.pause();m.style.display=
"none";return m};m.show=function(){m.style.display="";return m};m.destroy=function(){null!==p&&p.destroy()};u=(0,a.createEvent)("rendererready",m);d.dispatchEvent(u);d.promises.push(c.load({options:h,configs:e,id:l}));return m}})},{25:25,26:26,27:27,28:28,3:3,7:7,8:8}],22:[function(d,h,m){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},
q=(h=d(3))&&h.__esModule?h:{default:h},t=(h=d(7))&&h.__esModule?h:{default:h},k=d(8),a=d(27),f=d(25);h=d(28);var l=d(26),c={promise:null,load:function(a){"undefined"!==typeof Hls?c.promise=(new Promise(function(a){a()})).then(function(){c._createPlayer(a)}):(a.options.path="string"===typeof a.options.path?a.options.path:"https://cdn.jsdelivr.net/npm/hls.js@latest",c.promise=c.promise||(0,l.loadScript)(a.options.path),c.promise.then(function(){c._createPlayer(a)}));return c.promise},_createPlayer:function(a){var c=
new Hls(a.options);q.default["__ready__"+a.id](c);return c}};h.typeChecks.push(function(a){return~a.toLowerCase().indexOf(".m3u8")?"application/x-mpegURL":null});k.renderer.add({name:"native_hls",options:{prefix:"native_hls",hls:{path:"https://cdn.jsdelivr.net/npm/hls.js@latest",autoStartLoad:!1,debug:!1}},canPlayType:function(a){return f.HAS_MSE&&-1<["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(a.toLowerCase())},create:function(d,f,h){var e=
d.originalNode,l=d.id+"_"+f.prefix,m=e.getAttribute("preload"),p=e.autoplay,u=null,z=null,D=0,C=h.length;z=e.cloneNode(!0);f=Object.assign(f,d.options);f.hls.autoStartLoad=m&&"none"!==m||p;for(var F=t.default.html5media.properties,E=t.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(a){return"error"!==a}),K=function(c){c=(0,a.createEvent)(c.type,d);d.dispatchEvent(c)},N=function(a){var d=""+a.substring(0,1).toUpperCase()+a.substring(1);z["get"+d]=function(){return null!==
u?z[a]:null};z["set"+d]=function(d){if(-1===t.default.html5media.readOnlyProperties.indexOf(a))if("src"===a){if(z[a]="object"===("undefined"===typeof d?"undefined":n(d))&&d.src?d.src:d,null!==u){u.destroy();for(var e=0,k=E.length;e<k;e++)z.removeEventListener(E[e],K);u=c._createPlayer({options:f.hls,id:l});u.loadSource(d);u.attachMedia(z)}}else z[a]=d}},Y=0,P=F.length;Y<P;Y++)N(F[Y]);q.default["__ready__"+l]=function(c){d.hlsPlayer=u=c;var e=Hls.Events;c=function(a){if("loadedmetadata"===a){var c=
d.originalNode.src;u.detachMedia();u.loadSource(c);u.attachMedia(z)}z.addEventListener(a,K)};for(var f=0,k=E.length;f<k;f++)c(E[f]);var l=void 0,m=void 0;c=function(c){if(e.hasOwnProperty(c))u.on(e[c],function(){for(var f=arguments.length,k=Array(f),n=0;n<f;n++)k[n]=arguments[n];a:{f=e[c];if("hlsError"===f&&(console.warn(k),k=k[1],k.fatal)){switch(k.type){case "mediaError":k=(new Date).getTime();!l||3E3<k-l?(l=(new Date).getTime(),u.recoverMediaError()):!m||3E3<k-m?(m=(new Date).getTime(),console.warn("Attempting to swap Audio Codec and recover from media error"),
u.swapAudioCodec(),u.recoverMediaError()):(d.generateError("Cannot recover, last media error recovery failed",z.src),console.error("Cannot recover, last media error recovery failed"));break;case "networkError":"manifestLoadError"===k.details?D<C&&void 0!==h[D+1]?(z.setSrc(h[D++].src),z.load(),z.play()):(d.generateError("Network error",h),console.error("Network error")):(d.generateError("Network error",h),console.error("Network error"));break;default:u.destroy()}k=void 0;break a}f=(0,a.createEvent)(f,
d);f.data=k;d.dispatchEvent(f);k=void 0}return k})};for(var n in e)c(n)};if(0<C)for(;D<C;D++)if(k.renderer.renderers[f.prefix].canPlayType(h[D].type)){z.setAttribute("src",h[D].src);break}"auto"===m||p||(z.addEventListener("play",function(){null!==u&&u.startLoad()}),z.addEventListener("pause",function(){null!==u&&u.stopLoad()}));z.setAttribute("id",l);e.parentNode.insertBefore(z,e);e.autoplay=!1;e.style.display="none";z.setSize=function(a,c){z.style.width=a+"px";z.style.height=c+"px";return z};z.hide=
function(){z.pause();z.style.display="none";return z};z.show=function(){z.style.display="";return z};z.destroy=function(){null!==u&&(u.stopLoad(),u.destroy())};e=(0,a.createEvent)("rendererready",z);d.dispatchEvent(e);d.promises.push(c.load({options:f.hls,id:l}));return z}})},{25:25,26:26,27:27,28:28,3:3,7:7,8:8}],23:[function(d,h,m){function n(a){return a&&a.__esModule?a:{default:a}}h=d(3);h=n(h);m=d(2);var q=n(m);m=d(7);var t=n(m),k=d(8),a=d(27),f=d(25);d={name:"html5",options:{prefix:"html5"},
canPlayType:function(a){var c=q.default.createElement("video");return f.IS_ANDROID&&/\/mp(3|4)$/i.test(a)||~["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(a.toLowerCase())&&f.SUPPORTS_NATIVE_HLS?"yes":c.canPlayType?c.canPlayType(a.toLowerCase()).replace(/no/,""):""},create:function(d,c,e){var f=d.id+"_"+c.prefix,h=!1,l=null;void 0===d.originalNode||null===d.originalNode?(l=q.default.createElement("audio"),d.appendChild(l)):l=d.originalNode;l.setAttribute("id",
f);f=t.default.html5media.properties;for(var m=function(a){var c=""+a.substring(0,1).toUpperCase()+a.substring(1);l["get"+c]=function(){return l[a]};l["set"+c]=function(c){-1===t.default.html5media.readOnlyProperties.indexOf(a)&&(l[a]=c)}},n=0,p=f.length;n<p;n++)m(f[n]);f=t.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(a){return"error"!==a});m=function(c){l.addEventListener(c,function(c){h&&(c=(0,a.createEvent)(c.type,c.target),d.dispatchEvent(c))})};n=0;for(p=
f.length;n<p;n++)m(f[n]);l.setSize=function(a,c){l.style.width=a+"px";l.style.height=c+"px";return l};l.hide=function(){h=!1;l.style.display="none";return l};l.show=function(){h=!0;l.style.display="";return l};var H=0,A=e.length;if(0<A)for(;H<A;H++)if(k.renderer.renderers[c.prefix].canPlayType(e[H].type)){l.setAttribute("src",e[H].src);break}l.addEventListener("error",function(a){a&&a.target&&a.target.error&&4===a.target.error.code&&h&&(H<A&&void 0!==e[H+1]?(l.src=e[H++].src,l.load(),l.play()):d.generateError("Media error: Format(s) not supported or source(s) not found",
e))});c=(0,a.createEvent)("rendererready",l);d.dispatchEvent(c);return l}};h.default.HtmlMediaElement=t.default.HtmlMediaElement=d;k.renderer.add(d)},{2:2,25:25,27:27,3:3,7:7,8:8}],24:[function(d,h,m){function n(a){return a&&a.__esModule?a:{default:a}}h=d(3);var q=n(h);h=d(2);var t=n(h);h=d(7);var k=n(h);h=d(8);var a=d(27);m=d(28);var f=d(26),l={isIframeStarted:!1,isIframeLoaded:!1,iframeQueue:[],enqueueIframe:function(a){l.isLoaded="undefined"!==typeof YT&&YT.loaded;l.isLoaded?l.createIframe(a):
(l.loadIframeApi(),l.iframeQueue.push(a))},loadIframeApi:function(){l.isIframeStarted||((0,f.loadScript)("https://www.youtube.com/player_api"),l.isIframeStarted=!0)},iFrameReady:function(){l.isLoaded=!0;for(l.isIframeLoaded=!0;0<l.iframeQueue.length;){var a=l.iframeQueue.pop();l.createIframe(a)}},createIframe:function(a){return new YT.Player(a.containerId,a)},getYouTubeId:function(a){if(0<a.indexOf("?")){var c=l.getYouTubeIdFromParam(a);""===c&&(c=l.getYouTubeIdFromUrl(a))}else c=l.getYouTubeIdFromUrl(a);
c=c.substring(c.lastIndexOf("/")+1).split("?");return c[0]},getYouTubeIdFromParam:function(a){if(void 0===a||null===a||!a.trim().length)return null;a=a.split("?")[1].split("&");for(var c="",d=0,f=a.length;d<f;d++){var k=a[d].split("=");if("v"===k[0]){c=k[1];break}}return c},getYouTubeIdFromUrl:function(a){if(void 0===a||null===a||!a.trim().length)return null;a=a.split("?")[0];return a.substring(a.lastIndexOf("/")+1)},getYouTubeNoCookieUrl:function(a){if(void 0===a||null===a||!a.trim().length||-1===
a.indexOf("//www.youtube"))return a;a=a.split("/");a[2]=a[2].replace(".com","-nocookie.com");return a.join("/")}};q.default.onYouTubePlayerAPIReady=function(){l.iFrameReady()};m.typeChecks.push(function(a){return/\/\/(www\.youtube|youtu\.?be)/i.test(a)?"video/x-youtube":null});h.renderer.add({name:"youtube_iframe",options:{prefix:"youtube_iframe",youtube:{autoplay:0,controls:0,disablekb:1,end:0,loop:0,modestbranding:0,playsinline:0,rel:0,showinfo:0,start:0,iv_load_policy:3,nocookie:!1,imageQuality:null}},
canPlayType:function(a){return~["video/youtube","video/x-youtube"].indexOf(a.toLowerCase())},create:function(c,d,f){var e={},h=[],m=null,n=!0,p=!1,u=null,A=1;e.options=d;e.id=c.id+"_"+d.prefix;e.mediaElement=c;for(var D=k.default.html5media.properties,C=function(d){var f=""+d.substring(0,1).toUpperCase()+d.substring(1);e["get"+f]=function(){if(null!==m)switch(d){case "currentTime":return m.getCurrentTime();case "duration":return m.getDuration();case "volume":return A=m.getVolume()/100;case "playbackRate":return m.getPlaybackRate();
case "paused":return n;case "ended":return p;case "muted":return m.isMuted();case "buffered":var a=m.getVideoLoadedFraction(),c=m.getDuration();return{start:function(){return 0},end:function(){return a*c},length:1};case "src":return m.getVideoUrl();case "readyState":return 4}return null};e["set"+f]=function(f){if(null!==m)switch(d){case "src":f=l.getYouTubeId("string"===typeof f?f:f[0].src);c.originalNode.autoplay?m.loadVideoById(f):m.cueVideoById(f);break;case "currentTime":m.seekTo(f);break;case "muted":f?
m.mute():m.unMute();setTimeout(function(){var d=(0,a.createEvent)("volumechange",e);c.dispatchEvent(d)},50);break;case "volume":A=f;m.setVolume(100*f);setTimeout(function(){var d=(0,a.createEvent)("volumechange",e);c.dispatchEvent(d)},50);break;case "playbackRate":m.setPlaybackRate(f);setTimeout(function(){var d=(0,a.createEvent)("ratechange",e);c.dispatchEvent(d)},50);break;case "readyState":f=(0,a.createEvent)("canplay",e),c.dispatchEvent(f)}else h.push({type:"set",propName:d,value:f})}},F=0,E=
D.length;F<E;F++)C(D[F]);D=k.default.html5media.methods;C=function(a){e[a]=function(){if(null!==m)switch(a){case "play":return n=!1,m.playVideo();case "pause":return n=!0,m.pauseVideo();case "load":return null}else h.push({type:"call",methodName:a})}};F=0;for(E=D.length;F<E;F++)C(D[F]);C=t.default.createElement("div");C.id=e.id;e.options.youtube.nocookie&&(c.originalNode.src=l.getYouTubeNoCookieUrl(f[0].src));c.originalNode.parentNode.insertBefore(C,c.originalNode);c.originalNode.style.display="none";
F=(D="audio"===c.originalNode.tagName.toLowerCase())?"1":c.originalNode.height;E=D?"1":c.originalNode.width;var K=l.getYouTubeId(f[0].src);C={id:e.id,containerId:C.id,videoId:K,height:F,width:E,playerVars:Object.assign({controls:0,rel:0,disablekb:1,showinfo:0,modestbranding:0,html5:1,iv_load_policy:3},e.options.youtube),origin:q.default.location.host,events:{onReady:function(d){c.youTubeApi=m=d.target;c.youTubeState={paused:!0,ended:!1};if(h.length){d=0;for(var f=h.length;d<f;d++){var k=h[d];if("set"===
k.type){var l=k.propName;l=""+l.substring(0,1).toUpperCase()+l.substring(1);e["set"+l](k.value)}else if("call"===k.type)e[k.methodName]()}}u=m.getIframe();c.originalNode.muted&&m.mute();d=["mouseover","mouseout"];f=function(d){d=(0,a.createEvent)(d.type,e);c.dispatchEvent(d)};k=0;for(l=d.length;k<l;k++)u.addEventListener(d[k],f,!1);d=["rendererready","loadedmetadata","loadeddata","canplay"];f=0;for(k=d.length;f<k;f++)l=(0,a.createEvent)(d[f],e),c.dispatchEvent(l)},onStateChange:function(d){var f=
[];switch(d.data){case -1:f=["loadedmetadata"];n=!0;p=!1;break;case 0:f=["ended"];n=!1;p=!e.options.youtube.loop;e.options.youtube.loop||e.stopInterval();break;case 1:f=["play","playing"];p=n=!1;e.startInterval();break;case 2:f=["pause"];n=!0;p=!1;e.stopInterval();break;case 3:f=["progress"];p=!1;break;case 5:f=["loadeddata","loadedmetadata","canplay"],n=!0,p=!1}d=0;for(var k=f.length;d<k;d++){var h=(0,a.createEvent)(f[d],e);c.dispatchEvent(h)}},onError:function(a){switch(a.data){case 2:var d="The request contains an invalid parameter value. Verify that video ID has 11 characters and that contains no invalid characters, such as exclamation points or asterisks.";
break;case 5:d="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";break;case 100:d="The video requested was not found. Either video has been removed or has been marked as private.";break;case 101:case 105:d="The owner of the requested video does not allow it to be played in embedded players.";break;default:d="Unknown error."}c.generateError("Code "+a.data+": "+d,f)}}};if(D||c.originalNode.hasAttribute("playsinline"))C.playerVars.playsinline=
1;c.originalNode.controls&&(C.playerVars.controls=1);c.originalNode.autoplay&&(C.playerVars.autoplay=1);c.originalNode.loop&&(C.playerVars.loop=1);(C.playerVars.loop&&1===parseInt(C.playerVars.loop,10)||-1<c.originalNode.src.indexOf("loop="))&&!C.playerVars.playlist&&-1===c.originalNode.src.indexOf("playlist=")&&(C.playerVars.playlist=l.getYouTubeId(c.originalNode.src));l.enqueueIframe(C);e.onEvent=function(a,d,e){null!==e&&void 0!==e&&(c.youTubeState=e)};e.setSize=function(a,c){null!==m&&m.setSize(a,
c)};e.hide=function(){e.stopInterval();e.pause();u&&(u.style.display="none")};e.show=function(){u&&(u.style.display="")};e.destroy=function(){m.destroy()};e.interval=null;e.startInterval=function(){e.interval=setInterval(function(){var d=(0,a.createEvent)("timeupdate",e);c.dispatchEvent(d)},250)};e.stopInterval=function(){e.interval&&clearInterval(e.interval)};e.getPosterUrl=function(){var a=d.youtube.imageQuality,e=["default","hqdefault","mqdefault","sddefault","maxresdefault"],f=l.getYouTubeId(c.originalNode.src);
return a&&-1<e.indexOf(a)&&f?"https://img.youtube.com/vi/"+f+"/"+a+".jpg":""};return e}})},{2:2,26:26,27:27,28:28,3:3,7:7,8:8}],25:[function(d,h,m){function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(m,"__esModule",{value:!0});m.cancelFullScreen=m.requestFullScreen=m.isFullScreen=m.FULLSCREEN_EVENT_NAME=m.HAS_NATIVE_FULLSCREEN_ENABLED=m.HAS_TRUE_NATIVE_FULLSCREEN=m.HAS_IOS_FULLSCREEN=m.HAS_MS_NATIVE_FULLSCREEN=m.HAS_MOZ_NATIVE_FULLSCREEN=m.HAS_WEBKIT_NATIVE_FULLSCREEN=m.HAS_NATIVE_FULLSCREEN=
m.SUPPORTS_NATIVE_HLS=m.SUPPORT_PASSIVE_EVENT=m.SUPPORT_POINTER_EVENTS=m.HAS_MSE=m.IS_STOCK_ANDROID=m.IS_SAFARI=m.IS_FIREFOX=m.IS_CHROME=m.IS_EDGE=m.IS_IE=m.IS_ANDROID=m.IS_IOS=m.IS_IPOD=m.IS_IPHONE=m.IS_IPAD=m.UA=m.NAV=void 0;h=d(3);var q=n(h);h=d(2);var t=n(h);d=d(7);d=n(d);var k=m.NAV=q.default.navigator,a=m.UA=k.userAgent.toLowerCase();h=m.IS_IPAD=/ipad/i.test(a)&&!q.default.MSStream;var f=m.IS_IPHONE=/iphone/i.test(a)&&!q.default.MSStream,l=m.IS_IPOD=/ipod/i.test(a)&&!q.default.MSStream;m.IS_IOS=
/ipad|iphone|ipod/i.test(a)&&!q.default.MSStream;var c=m.IS_ANDROID=/android/i.test(a),e=m.IS_IE=/(trident|microsoft)/i.test(k.appName);k=m.IS_EDGE="msLaunchUri"in k&&!("documentMode"in t.default);var u=m.IS_CHROME=/chrome/i.test(a),z=m.IS_FIREFOX=/firefox/i.test(a),B=m.IS_SAFARI=/safari/i.test(a)&&!u,G=m.IS_STOCK_ANDROID=/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(a),x=m.HAS_MSE="MediaSource"in q.default,I=m.SUPPORT_POINTER_EVENTS=function(){var a=t.default.createElement("x"),c=t.default.documentElement,
d=q.default.getComputedStyle;if(!("pointerEvents"in a.style))return!1;a.style.pointerEvents="auto";a.style.pointerEvents="x";c.appendChild(a);c=d&&"auto"===(d(a,"")||{}).pointerEvents;a.remove();return!!c}(),H=m.SUPPORT_PASSIVE_EVENT=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});q.default.addEventListener("test",null,c)}catch(Qa){}return a}(),A=["source","track","audio","video"],D=void 0,C=0,F=A.length;for(;C<F;C++)D=t.default.createElement(A[C]);A=m.SUPPORTS_NATIVE_HLS=
B||e&&/edge/i.test(a);var E=void 0!==D.webkitEnterFullscreen,K=void 0!==D.requestFullscreen;E&&/mac os x 10_5/i.test(a)&&(E=K=!1);var N=void 0!==D.webkitRequestFullScreen,Y=void 0!==D.mozRequestFullScreen,P=void 0!==D.msRequestFullscreen,W=N||Y||P,ha=W;F="";C=D=a=void 0;Y?ha=t.default.mozFullScreenEnabled:P&&(ha=t.default.msFullscreenEnabled);u&&(E=!1);W&&(N?F="webkitfullscreenchange":Y?F="fullscreenchange":P&&(F="MSFullscreenChange"),m.isFullScreen=a=function(){if(Y)return t.default.mozFullScreen;
if(N)return t.default.webkitIsFullScreen;if(P)return null!==t.default.msFullscreenElement},m.requestFullScreen=D=function(a){N?a.webkitRequestFullScreen():Y?a.mozRequestFullScreen():P&&a.msRequestFullscreen()},m.cancelFullScreen=C=function(){N?t.default.webkitCancelFullScreen():Y?t.default.mozCancelFullScreen():P&&t.default.msExitFullscreen()});K=m.HAS_NATIVE_FULLSCREEN=K;var ja=m.HAS_WEBKIT_NATIVE_FULLSCREEN=N,ba=m.HAS_MOZ_NATIVE_FULLSCREEN=Y,Z=m.HAS_MS_NATIVE_FULLSCREEN=P;E=m.HAS_IOS_FULLSCREEN=
E;W=m.HAS_TRUE_NATIVE_FULLSCREEN=W;ha=m.HAS_NATIVE_FULLSCREEN_ENABLED=ha;F=m.FULLSCREEN_EVENT_NAME=F;m.isFullScreen=a;m.requestFullScreen=D;m.cancelFullScreen=C;d.default.Features=d.default.Features||{};d.default.Features.isiPad=h;d.default.Features.isiPod=l;d.default.Features.isiPhone=f;d.default.Features.isiOS=d.default.Features.isiPhone||d.default.Features.isiPad;d.default.Features.isAndroid=c;d.default.Features.isIE=e;d.default.Features.isEdge=k;d.default.Features.isChrome=u;d.default.Features.isFirefox=
z;d.default.Features.isSafari=B;d.default.Features.isStockAndroid=G;d.default.Features.hasMSE=x;d.default.Features.supportsNativeHLS=A;d.default.Features.supportsPointerEvents=I;d.default.Features.supportsPassiveEvent=H;d.default.Features.hasiOSFullScreen=E;d.default.Features.hasNativeFullscreen=K;d.default.Features.hasWebkitNativeFullScreen=ja;d.default.Features.hasMozNativeFullScreen=ba;d.default.Features.hasMsNativeFullScreen=Z;d.default.Features.hasTrueNativeFullScreen=W;d.default.Features.nativeFullScreenEnabled=
ha;d.default.Features.fullScreenEventName=F;d.default.Features.isFullScreen=a;d.default.Features.requestFullScreen=D;d.default.Features.cancelFullScreen=C},{2:2,3:3,7:7}],26:[function(d,h,m){function n(a){return a&&a.__esModule?a:{default:a}}function q(a){return new Promise(function(c,d){var e=z.default.createElement("script");e.src=a;e.async=!0;e.onload=function(){e.remove();c()};e.onerror=function(){e.remove();d()};z.default.head.appendChild(e)})}function t(a){a=a.getBoundingClientRect();return{top:a.top+
(u.default.pageYOffset||z.default.documentElement.scrollTop),left:a.left+(u.default.pageXOffset||z.default.documentElement.scrollLeft)}}function k(a,c){x(a,c)?H(a,c):I(a,c)}function a(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:400,d=arguments[2];a.style.opacity||(a.style.opacity=1);var e=null;u.default.requestAnimationFrame(function N(f){e=e||f;f-=e;var k=parseFloat(1-f/c,2);a.style.opacity=0>k?0:k;f>c?d&&"function"===typeof d&&d():u.default.requestAnimationFrame(N)})}function f(a){var c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:400,d=arguments[2];a.style.opacity||(a.style.opacity=0);var e=null;u.default.requestAnimationFrame(function N(f){e=e||f;f-=e;var k=parseFloat(f/c,2);a.style.opacity=1<k?1:k;f>c?d&&"function"===typeof d&&d():u.default.requestAnimationFrame(N)})}function l(a,c){var d=[];a=a.parentNode.firstChild;do c&&!c(a)||d.push(a);while(a=a.nextSibling);return d}function c(a){return void 0!==a.getClientRects&&"function"===a.getClientRects?!!(a.offsetWidth||
a.offsetHeight||a.getClientRects().length):!(!a.offsetWidth&&!a.offsetHeight)}function e(a,c,d,e){var f=u.default.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),k="application/x-www-form-urlencoded; charset=UTF-8",h=!1,l="*/".concat("*");switch(c){case "text":k="text/plain";break;case "json":k="application/json, text/javascript";break;case "html":k="text/html";break;case "xml":k="application/xml, text/xml"}"application/x-www-form-urlencoded"!==k&&(l=k+", */*; q=0.01");f&&
(f.open("GET",a,!0),f.setRequestHeader("Accept",l),f.onreadystatechange=function(){if(!h&&4===f.readyState)if(200===f.status){h=!0;switch(c){case "json":var a=JSON.parse(f.responseText);break;case "xml":a=f.responseXML;break;default:a=f.responseText}d(a)}else"function"===typeof e&&e(f.status)},f.send())}Object.defineProperty(m,"__esModule",{value:!0});m.removeClass=m.addClass=m.hasClass=void 0;m.loadScript=q;m.offset=t;m.toggleClass=k;m.fadeOut=a;m.fadeIn=f;m.siblings=l;m.visible=c;m.ajax=e;h=d(3);
var u=n(h);h=d(2);var z=n(h);d=d(7);d=n(d);var B=h=void 0,G=void 0;"classList"in z.default.documentElement?(h=function(a,c){return void 0!==a.classList&&a.classList.contains(c)},B=function(a,c){return a.classList.add(c)},G=function(a,c){return a.classList.remove(c)}):(h=function(a,c){return(new RegExp("\\b"+c+"\\b")).test(a.className)},B=function(a,c){x(a,c)||(a.className+=" "+c)},G=function(a,c){a.className=a.className.replace(new RegExp("\\b"+c+"\\b","g"),"")});var x=m.hasClass=h,I=m.addClass=B,
H=m.removeClass=G;d.default.Utils=d.default.Utils||{};d.default.Utils.offset=t;d.default.Utils.hasClass=x;d.default.Utils.addClass=I;d.default.Utils.removeClass=H;d.default.Utils.toggleClass=k;d.default.Utils.fadeIn=f;d.default.Utils.fadeOut=a;d.default.Utils.siblings=l;d.default.Utils.visible=c;d.default.Utils.ajax=e;d.default.Utils.loadScript=q},{2:2,3:3,7:7}],27:[function(d,h,m){function n(a){if("string"!==typeof a)throw Error("Argument passed must be a string");var c={"&":"&amp;","<":"&lt;",">":"&gt;",
'"':"&quot;"};return a.replace(/[&<>"]/g,function(a){return c[a]})}function q(a,d){var c=this,e=arguments,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if("function"!==typeof a)throw Error("First argument must be a function");if("number"!==typeof d)throw Error("Second argument must be a numeric value");var k=void 0;return function(){var h=f&&!k;clearTimeout(k);k=setTimeout(function(){k=null;f||a.apply(c,e)},d);h&&a.apply(c,e)}}function t(a){return 0>=Object.getOwnPropertyNames(a).length}
function k(a,d){var c=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/,e={d:[],w:[]};(a||"").split(" ").forEach(function(a){var f=""+a+(d?"."+d:"");f.startsWith(".")?(e.d.push(f),e.w.push(f)):e[c.test(a)?"w":"d"].push(f)});e.d=e.d.join(" ");e.w=e.w.join(" ");return e}function a(a,d){if("string"!==typeof a)throw Error("Event name must be a string");var c=a.match(/([a-z]+\.([a-z]+))/i);d={target:d};null!==c&&(a=c[1],d.namespace=c[2]);
return new window.CustomEvent(a,{detail:d})}function f(a,d){return!!(a&&d&&a.compareDocumentPosition(d)&2)}function l(a){return"string"===typeof a}Object.defineProperty(m,"__esModule",{value:!0});m.escapeHTML=n;m.debounce=q;m.isObjectEmpty=t;m.splitEvents=k;m.createEvent=a;m.isNodeAfter=f;m.isString=l;d=(d=d(7))&&d.__esModule?d:{default:d};d.default.Utils=d.default.Utils||{};d.default.Utils.escapeHTML=n;d.default.Utils.debounce=q;d.default.Utils.isObjectEmpty=t;d.default.Utils.splitEvents=k;d.default.Utils.createEvent=
a;d.default.Utils.isNodeAfter=f;d.default.Utils.isString=l},{7:7}],28:[function(d,h,m){function n(a){if("string"!==typeof a)throw Error("`url` argument must be a string");var c=document.createElement("div");c.innerHTML='<a href="'+(0,l.escapeHTML)(a)+'">x</a>';return c.firstChild.href}function q(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return a&&!c?k(a):c}function t(a){if("string"!==typeof a)throw Error("`type` argument must be a string");return a&&-1<a.indexOf(";")?a.substr(0,
a.indexOf(";")):a}function k(d){if("string"!==typeof d)throw Error("`url` argument must be a string");for(var e=0,k=c.length;e<k;e++){var h=c[e](d);if(h)return h}d=a(d);d=f(d);e="video/mp4";d&&(~"mp4 m4v ogg ogv webm flv mpeg".split(" ").indexOf(d)?e="video/"+d:"mov"===d?e="video/quicktime":~["mp3","oga","wav","mid","midi"].indexOf(d)&&(e="audio/"+d));return e}function a(a){if("string"!==typeof a)throw Error("`url` argument must be a string");a=a.split("?")[0].split("\\").pop().split("/").pop();return~a.indexOf(".")?
a.substring(a.lastIndexOf(".")+1):""}function f(a){if("string"!==typeof a)throw Error("`extension` argument must be a string");switch(a){case "mp4":case "m4v":return"mp4";case "webm":case "webma":case "webmv":return"webm";case "ogg":case "oga":case "ogv":return"ogg";default:return a}}Object.defineProperty(m,"__esModule",{value:!0});m.typeChecks=void 0;m.absolutizeUrl=n;m.formatType=q;m.getMimeFromType=t;m.getTypeFromFile=k;m.getExtension=a;m.normalizeExtension=f;h=(h=d(7))&&h.__esModule?h:{default:h};
var l=d(27),c=m.typeChecks=[];h.default.Utils=h.default.Utils||{};h.default.Utils.typeChecks=c;h.default.Utils.absolutizeUrl=n;h.default.Utils.formatType=q;h.default.Utils.getMimeFromType=t;h.default.Utils.getTypeFromFile=k;h.default.Utils.getExtension=a;h.default.Utils.normalizeExtension=f},{27:27,7:7}],29:[function(d,h,m){var n=(h=d(2))&&h.__esModule?h:{default:h};d=(d=d(4))&&d.__esModule?d:{default:d};(function(d){d.forEach(function(d){d.hasOwnProperty("remove")||Object.defineProperty(d,"remove",
{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);(function(){function d(d,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var f=n.default.createEvent("CustomEvent");f.initCustomEvent(d,a.bubbles,a.cancelable,a.detail);return f}if("function"===typeof window.CustomEvent)return!1;d.prototype=window.Event.prototype;window.CustomEvent=d})();"function"!==typeof Object.assign&&(Object.assign=
function(d){if(null===d||void 0===d)throw new TypeError("Cannot convert undefined or null to object");for(var k=Object(d),a=1,f=arguments.length;a<f;a++){var h=arguments[a];if(null!==h)for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(k[c]=h[c])}return k});String.prototype.startsWith||(String.prototype.startsWith=function(d,k){return this.substr(k||0,d.length)===d});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||
Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(d){d=(this.document||this.ownerDocument).querySelectorAll(d);for(var k=d.length-1;0<=--k&&d.item(k)!==this;);return-1<k});window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(d){d=(this.document||this.ownerDocument).querySelectorAll(d);var k,a=this;do for(k=d.length;0<=--k&&d.item(k)!==a;);while(0>k&&(a=a.parentElement));return a});(function(){for(var d=
0,k=["ms","moz","webkit","o"],a=0;a<k.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[k[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[k[a]+"CancelAnimationFrame"]||window[k[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var f=(new Date).getTime(),c=Math.max(0,16-(f-d)),e=window.setTimeout(function(){a(f+c)},c);d=f+c;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})();
if(/firefox/i.test(navigator.userAgent)){var q=window.getComputedStyle;window.getComputedStyle=function(d,k){d=q(d,k);return null===d?{getPropertyValue:function(){}}:d}}window.Promise||(window.Promise=d.default);(function(d){d&&d.prototype&&null===d.prototype.children&&Object.defineProperty(d.prototype,"children",{get:function(){for(var d=0,a,f=this.childNodes,h=[];a=f[d++];)1===a.nodeType&&h.push(a);return h}})})(window.Node||window.Element)},{2:2,4:4}],30:[function(d,h,m){function n(){return 0!==
(0<arguments.length&&void 0!==arguments[0]?arguments[0]:25)%1}function q(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:25,f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,k=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"hh:mm:ss";a=!a||"number"!==typeof a||0>a?0:a;var h=Math.round(.066666*e),m=Math.round(e),p=24*Math.round(3600*e),q=Math.round(600*
e),t=n(e)?";":":",A=Math.round(a*e);n(e)?(0>A&&(A=p+A),A%=p,e=A%q,A+=9*h*Math.floor(A/q),e>h&&(A+=h*Math.floor((e-h)/Math.round(60*m-h))),e=Math.floor(A/m),q=Math.floor(Math.floor(e/60)/60),h=Math.floor(e/60)%60,f=c?e%60:Math.floor(A/m%60).toFixed(f)):(q=Math.floor(a/3600)%24,h=Math.floor(a/60)%60,f=c?Math.floor(a%60):Math.floor(a%60).toFixed(f));q=0>=q?0:q;h=0>=h?0:h;f=0>=f?0:f;f=60===f?0:f;h=60===h?0:h;e=k.split(":");k={};p=0;for(var D=e.length;p<D;++p){for(var C="",F=0,E=e[p].length;F<E;F++)0>
C.indexOf(e[p][F])&&(C+=e[p][F]);~["f","s","m","h"].indexOf(C)&&(k[C]=e[p].length)}d=d||0<q?(10>q&&1<k.h?"0"+q:q)+":":"";d+=(10>h&&1<k.m?"0"+h:h)+":";d+=""+(10>f&&1<k.s?"0"+f:f);c&&(c=(A%m).toFixed(0),c=0>=c?0:c,d+=10>c&&k.f?t+"0"+c:""+t+c);return d}function t(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:25;if("string"!==typeof a)throw new TypeError("Time must be a string");0<a.indexOf(";")&&(a=a.replace(";",":"));if(!/\d{2}(:\d{2}){0,3}/i.test(a))throw new TypeError("Time code must have the format `00:00:00`");
var c=a.split(":"),e,f=e=0,k=0,h=Math.round(.066666*d),m=Math.round(d),p=3600*m,q=60*m;switch(c.length){default:case 1:var t=parseInt(c[0],10);break;case 2:f=parseInt(c[0],10);t=parseInt(c[1],10);break;case 3:e=parseInt(c[0],10);f=parseInt(c[1],10);t=parseInt(c[2],10);break;case 4:e=parseInt(c[0],10),f=parseInt(c[1],10),t=parseInt(c[2],10),k=parseInt(c[3],10)}n(d)?(d=60*e+f,e=p*e+q*f+m*t+k-h*(d-Math.floor(d/10))):e=(p*e+q*f+d*t+k)/d;return parseFloat(e.toFixed(3))}function k(a,d){var c=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:25;a=!a||"number"!==typeof a||0>a?0:a;var e=Math.floor(a/3600)%24,f=Math.floor(a/60)%60,k=Math.floor(a%60);c=[[Math.floor((a%1*c).toFixed(3)),"f"],[k,"s"],[f,"m"],[e,"h"]];e=d.timeFormat;k=(f=e[1]===e[0])?2:1;k=e.length<k?e[k]:":";for(var h=e[0],l=!1,m=0,n=c.length;m<n;m++)if(~e.indexOf(c[m][1]))l=!0;else if(l){for(var p=!1,q=m;q<n;q++)if(0<c[q][0]){p=!0;break}if(!p)break;f||(e=h+e);e=c[m][1]+k+e;f&&(e=c[m][1]+e);h=c[m][1]}d.timeFormat=e}function a(a){if("string"!==
typeof a)throw new TypeError("Argument must be a string value");a=a.replace(",",".");var d=~a.indexOf(".")?a.split(".")[1].length:0,c=0;a=a.split(":").reverse();for(var e=0,f=a.length;e<f;e++){var k=1;0<e&&(k=Math.pow(60,e));c+=Number(a[e])*k}return Number(c.toFixed(d))}Object.defineProperty(m,"__esModule",{value:!0});m.isDropFrame=n;m.secondsToTimeCode=q;m.timeCodeToSeconds=t;m.calculateTimeFormat=k;m.convertSMPTEtoSeconds=a;d=(d=d(7))&&d.__esModule?d:{default:d};d.default.Utils=d.default.Utils||
{};d.default.Utils.secondsToTimeCode=q;d.default.Utils.timeCodeToSeconds=t;d.default.Utils.calculateTimeFormat=k;d.default.Utils.convertSMPTEtoSeconds=a},{7:7}]},{},[29,6,5,15,23,20,19,21,22,24,16,18,17,9,10,11,12,13,14])});
define("es6!vendor/mediaelement/narrationPlugin.es6",["lang/lang","jquery","mediaelement"],function(m,d){Object.assign(mejs.MepDefaults,{});Object.assign(MediaElementPlayer.prototype,{buildnarration:function(h,n,p,q){n=m.t("components.narration.title")||"Narration";this.cleannarration(h);h.narrationButton=document.createElement("div");h.narrationButton.className=this.options.classPrefix+"button "+this.options.classPrefix+"narration-button";h.narrationButton.innerHTML='<button type="button" aria-controls="'+
this.id+'" title="'+n+'" aria-label="'+(n+'" tabindex="0">'+n+"</button>");this.addControlElement(h.narrationButton,"narration");h.narrationButton.addEventListener("click",function(){h.domNode&&d(h.domNode).trigger("openNarration")})},cleannarration:function(d){d&&d.narrationButton&&d.narrationButton.parentNode.removeChild(d.narrationButton)}})});
define("es6!vendor/mediaelement/speedPlugin.es6",["mediaelement"],function(){(function(){function m(d,h,n){function p(k,a){if(!h[k]){if(!d[k]){var f="function"==typeof require&&require;if(!a&&f)return f(k,!0);if(q)return q(k,!0);a=Error("Cannot find module '"+k+"'");throw a.code="MODULE_NOT_FOUND",a;}a=h[k]={exports:{}};d[k][0].call(a.exports,function(a){return p(d[k][1][a]||a)},a,a.exports,m,d,h,n)}return h[k].exports}for(var q="function"==typeof require&&require,t=0;t<n.length;t++)p(n[t]);return p}
return m})()({1:[function(m,d,h){mejs.i18n.en["mejs.speed-rate"]="Speed Rate";Object.assign(mejs.MepDefaults,{speeds:["2.00","1.50","1.25","1.00","0.75"],defaultSpeed:"1",speedChar:"x",speedText:null});Object.assign(MediaElementPlayer.prototype,{buildspeed:function(d,h,m,t){var k=this;if(null!==k.media.rendererName&&/(native|html5)/i.test(k.media.rendererName)){var a=[];h=mejs.Utils.isString(k.options.speedText)?k.options.speedText:mejs.i18n.t("mejs.speed-rate");var f=function(c){for(var d=0,e=a.length;d<
e;d++)if(a[d].value===c)return a[d].name},l=void 0;m=!1;for(var c=0,e=k.options.speeds.length;c<e;c++){var n=k.options.speeds[c];"string"===typeof n?(a.push({name:""+n+k.options.speedChar,value:n}),n===k.options.defaultSpeed&&(m=!0)):(a.push(n),n.value===k.options.defaultSpeed&&(m=!0))}m||a.push({name:k.options.defaultSpeed+k.options.speedChar,value:k.options.defaultSpeed});a.sort(function(a,c){return parseFloat(c.value)-parseFloat(a.value)});k.cleanspeed(d);$("#"+this.id).position().top-parseInt($("#PageBody").css("margin-top"))<
30*a.length&&!this.isVideo&&(this.horizontalControlAlign=!0);d.speedButton=document.createElement("div");d.speedButton.className=k.options.classPrefix+"button "+k.options.classPrefix+"speed-button";m=this.horizontalControlAlign?k.options.classPrefix+"speed-selector-horizontal ":"";d.speedButton.innerHTML='<button type="button" aria-controls="'+k.id+'" title="'+h+'" aria-label="'+(h+'" tabindex="0">'+f(k.options.defaultSpeed)+'</button><div class="')+(k.options.classPrefix+"speed-selector "+m+k.options.classPrefix+
'offscreen"><ul class="')+(k.options.classPrefix+'speed-selector-list"></ul></div>');k.addControlElement(d.speedButton,"speed");h=0;for(m=a.length;h<m;h++)c=k.id+"-speed-"+a[h].value,this.horizontalControlAlign?d.speedButton.querySelector("ul").innerHTML+='<li class="'+k.options.classPrefix+"speed-selector-list-item "+k.options.classPrefix+'speed-selector-list-item-horizontal"><input class="'+(k.options.classPrefix+'speed-selector-input" type="radio" name="'+k.id+'_speed"disabled="disabled" value="')+
(a[h].value+'" id="'+c+'"  ')+((a[h].value===k.options.defaultSpeed?' checked="checked"':"")+'/><label for="')+(c+'" class="'+k.options.classPrefix+"speed-selector-label "+k.options.classPrefix+"speed-selector-label-horizontal")+((a[h].value===k.options.defaultSpeed?" "+k.options.classPrefix+"speed-selected":"")+'">')+(a[h].name+"</label></li>"):d.speedButton.querySelector("ul").innerHTML+='<li class="'+k.options.classPrefix+'speed-selector-list-item"><input class="'+(k.options.classPrefix+'speed-selector-input" type="radio" name="'+
k.id+'_speed"disabled="disabled" value="')+(a[h].value+'" id="'+c+'"  ')+((a[h].value===k.options.defaultSpeed?' checked="checked"':"")+'/><label for="')+(c+'" class="'+k.options.classPrefix+"speed-selector-label")+((a[h].value===k.options.defaultSpeed?" "+k.options.classPrefix+"speed-selected":"")+'">')+(a[h].name+"</label></li>");l=k.options.defaultSpeed;d.speedSelector=d.speedButton.querySelector("."+k.options.classPrefix+"speed-selector");c=["mouseenter","focusin"];m=["mouseleave","focusout"];
var p=d.speedButton.querySelectorAll('input[type="radio"]');h=d.speedButton.querySelectorAll("."+k.options.classPrefix+"speed-selector-label");e=0;for(n=c.length;e<n;e++)d.speedButton.addEventListener(c[e],function(){mejs.Utils.removeClass(d.speedSelector,k.options.classPrefix+"offscreen");d.speedSelector.style.height=d.speedSelector.querySelector("ul").offsetHeight;d.speedSelector.style.top=-1*parseFloat(d.speedSelector.offsetHeight)+"px"});c=0;for(e=m.length;c<e;c++)d.speedSelector.addEventListener(m[c],
function(){mejs.Utils.addClass(this,k.options.classPrefix+"offscreen")});m=0;for(c=p.length;m<c;m++)e=p[m],e.disabled=!1,e.addEventListener("click",function(){var a=this.value;l=a;t.playbackRate=parseFloat(a);d.speedButton.querySelector("button").innerHTML=f(a);a=d.speedButton.querySelectorAll("."+k.options.classPrefix+"speed-selected");for(var c=0,e=a.length;c<e;c++)mejs.Utils.removeClass(a[c],k.options.classPrefix+"speed-selected");this.checked=!0;a=mejs.Utils.siblings(this,function(a){return mejs.Utils.hasClass(a,
k.options.classPrefix+"speed-selector-label")});c=0;for(e=a.length;c<e;c++)mejs.Utils.addClass(a[c],k.options.classPrefix+"speed-selected")});m=0;for(c=h.length;m<c;m++)h[m].addEventListener("click",function(){var a=mejs.Utils.siblings(this,function(a){return"INPUT"===a.tagName})[0],c=mejs.Utils.createEvent("click",a);a.dispatchEvent(c)});this.horizontalControlAlign&&(d.speedSelector.style.left=40-d.speedSelector.clientWidth+"px");k.options.keyActions.push({keys:[60,188],action:function(a,c,d,e){if("<"==
e.key)for(a=0;a<p.length-1;a++)if(p[a].checked){a=p[a+1];a.dispatchEvent(mejs.Utils.createEvent("click",a));break}}},{keys:[62,190],action:function(a,c,d,e){if(">"==e.key)for(a=1;a<p.length;a++)if(p[a].checked){a=p[a-1];a.dispatchEvent(mejs.Utils.createEvent("click",a));break}}});d.speedSelector.addEventListener("keydown",function(a){a.stopPropagation()});t.addEventListener("loadedmetadata",function(){l&&(t.playbackRate=parseFloat(l))})}},cleanspeed:function(d){d&&(d.speedButton&&d.speedButton.parentNode.removeChild(d.speedButton),
d.speedSelector&&d.speedSelector.parentNode.removeChild(d.speedSelector))}})},{}]},{},[1])});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};function _toArray(m){return Array.isArray(m)?m:Array.from(m)}
function _toConsumableArray(m){if(Array.isArray(m)){for(var d=0,h=Array(m.length);d<m.length;d++)h[d]=m[d];return h}return Array.from(m)}
define("es6!elements/mediaPlayer/mediaPlayer.es6","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events app/completionApi lang/lang notification app/utilities/promiseA popup mediaelement es6!vendor/mediaelement/narrationPlugin.es6 es6!vendor/mediaelement/speedPlugin.es6".split(" "),function(m,d,h,n,p,q,t,k,a,f,l,c){var e={movieClass:"Movie",audioClass:"Audio",embedClass:"EmbedMovie",selector:".Movie, .Audio",baseFeatures:"playpause current progress duration tracks volume fullscreen".split(" "),
avScriptSelector:".AVscript",useAVScriptPlugin:!0,avScriptPluginName:"narration",avScriptPopup:{title:a.t("components.narration.title")||"Narration",wrapperClass:"MediaPlayerAVScriptPopup",contentClass:"MediaPlayerAVScriptPopupContent",modal:!1,draggable:!0,closeOnEscape:!0,width:"auto",height:"auto"},enableSpeedControl:!0,speedPluginName:"speed",speedControlOptions:"2.00 1.50 1.25 1.00 0.75 0.5".split(" "),defaultSpeedOption:"1.00",embedMovieType:'[data-movie-type="embed"]',nativeModeName:"auto",
pluginModeName:"shim",useFlashPlayer:!1,pluginPath:"js/vendor/mediaelement/",mustBeCompletedMessage:a.t("elements.media.mustBeCompletedMessage")||"Please allow the media to finish before attempting to proceed.",devicePluginMessage:a.t()||"Your browser does not support the plugin required to play this media. Please try a different browser.",synchronizeOnMute:!1,usePluginForIE:!1,i18nMap:{"mejs.download-file":"elements.media.downloadFile","mejs.install-flash":"elements.media.installFlash","mejs.fullscreen":"elements.media.fullscreen",
"mejs.play":"elements.media.play","mejs.pause":"elements.media.pause","mejs.time-slider":"elements.media.timeSlider","mejs.time-help-text":"elements.media.timeHelpText","mejs.live-broadcast":"elements.media.liveBroadcast","mejs.volume-help-text":"elements.media.volumeHelpText","mejs.unmute":"elements.media.unmute","mejs.mute":"elements.media.mute","mejs.volume-slider":"elements.media.volumeSlider","mejs.video-player":"elements.media.videoPlayer","mejs.audio-player":"elements.media.audioPlayer","mejs.captions-subtitles":"elements.media.captionsSubtitles",
"mejs.captions-chapters":"elements.media.captionsChapters","mejs.none":"elements.media.none"},hiddenClass:"AccessiblyHidden",vendorContainerSelector:".mejs-container",vendorControlsSelector:".mejs-controls",vendorAudioSelector:".mejs-audio",vendorPlayerNamespace:"mejs",vendorPlayerExtensions:{"i18n.t":"t"},mimeTypeMap:{movie:{flv:"video/x-flv",mp4:"video/mp4",m4v:"video/mp4","3gp":"video/3gpp",mov:/ipod|ipad|iphone|macintel/i.test(window.navigator.platform)?"video/quicktime":"video/mp4",avi:"video/x-msvideo",
wmv:"video/x-ms-wmv",ogv:"video/ogg",webm:"video/webm"},audio:{aac:"audio/aac",mp4:"audio/mp4",m4a:"audio/mp4",mp3:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",wav:"audio/wav",webm:"audio/webm",weba:"audio/webm"}}};n=n.extend({useAdaptiveJsPlayer:!0,processingMute:!1,resizeHandlerSet:!1,mediaType:null,$playerEl:null,guid:null,hideControls:!1,hideAudio:!1,playerMode:null,completed:!1,events:{},initialize:function(a){var c=this;t.trigger("media.initialize:before",this);this.constructor.__super__.initialize.call(this,
a);this.id=this.$el.attr("data-media-guid");this.isMediaOnPage=0<this.$el.closest(".Body").length;this.mustBeCompleted=/^true$/i.test(this.$el.children("audio, video").eq(0).attr("data-must-be-completed"));this.features=[].concat(_toConsumableArray(this.config.baseFeatures));this.handleEmbedMovie();this.handleCompletion();this.determineMediaType();this.playerMode=this.config.nativeModeName;this.cleanupMedia=this.cleanupMedia.bind(this);this.synchronizeMute=this.synchronizeMute.bind(this);this.resizeMedia=
this.resizeMedia.bind(this);this.removeTransformedPlayer=this.removeTransformedPlayer.bind(this);t.on("content.unload:before",this.cleanupMedia);t.on("media.mute",this.synchronizeMute);t.on("media.pause",this.pauseMedia.bind(this));t.on("media.play",this.playMedia.bind(this));t.on("media.resumeAutoplay",this.resumeAutoplay.bind(this));this.waitForRendered=new l(function(a,d){c.markRendered=a});this.extendVendorPlayer();t.trigger("media.initialize:after",this);return this},handleEmbedMovie:function(){this.$el.is(this.config.embedMovieType)&&
this.$el.removeClass(this.config.movieClass).addClass(this.config.embedClass)},handleAVScript:function(){var a=this.$el.find(this.config.avScriptSelector),c=this.handleOpenNarration.bind(this);this.config.useAVScriptPlugin&&a.length&&(this.$avScript=a,this.useAVScriptPlugin=!0,this.$playerEl[0].openNarration=c,this.$playerEl.on("openNarration",c))},handleAVScriptPopup:function(a){this.useAVScriptPlugin&&(this.avScriptPopup=new c({owner:"mediaPlayer",appendTo:a,content:this.$avScript.clone(),popupWrapperClass:this.config.avScriptPopup.wrapperClass,
popupContentClass:this.config.avScriptPopup.contentClass,title:this.config.avScriptPopup.title,draggable:this.config.avScriptPopup.draggable,closeOnEscape:this.config.avScriptPopup.closeOnEscape,height:this.config.avScriptPopup.height,width:this.config.avScriptPopup.width,autoOpen:!1}))},handleOpenNarration:function(){window.Xyleme.environment.ReviewSession?t.trigger("narration.showAVScript",'[data-parent-media-guid="'+this.$avScript.data("parent-media-guid")+'"]'):this.avScriptPopup.open()},handleSpeedOptions:function(){var a=
q.configure(m.id).speedControlOptions?[].concat(_toConsumableArray(q.configure(m.id).speedControlOptions)):[].concat(_toConsumableArray(this.config.speedControlOptions)),c=""+parseFloat(this.config.defaultSpeedOption);a=a.reduce(function(a,c){c=parseFloat(c);!h.isNaN(c)&&0<c&&a.push(""+c);return a},[]);this.defaultSpeedOption=!h.isNaN(c)&&0<c?c:"1";this.speedControlOptions=a.length?a:e.speedControlOptions},determineMediaType:function(){this.$el.hasClass(this.config.movieClass)?this.mediaType="movie":
this.$el.hasClass(this.config.audioClass)?this.mediaType="audio":this.$el.hasClass(this.config.embedClass)&&(this.mediaType="embed");return this},checkCompletion:function(){var a=!1;0<=this.completed.indexOf(this.index)?(this.unregisterAsRequired(),a=!0):this.completed[0]&&0<=this.completed[0].indexOf(this.index)&&(this.unregisterAsRequired(),a=!0);return a},render:function(){"embed"!==this.mediaType&&(this.getPlayerElement(),this.handleAVScript(),this.handleSpeedOptions(),this.guid=this.$playerEl.data("guid"),
this.normalizeControlsValue().normalizeAutoplayValue().initializeMute().determineMediaExtension().normalizeMediaType().markAndDetachPlayer(),this.determineBaseCaptabilities(this.extension)?(this.config.usePluginForIE&&p.detect.browser.ie&&(this.playerMode=this.config.pluginModeName),this.useAdaptiveJsPlayer&&(this.transformPlayerType="js",this.transformJSPlayer())):this.transformToFallbackPlayer({mediaURI:this.$playerEl.data("src"),ext:this.extension,mediaWidth:this.$playerEl[0].width,mediaHeight:this.$playerEl[0].height,
autoplay:this.$playerEl[0].autoplay,controls:this.$playerEl[0].controls,altText:this.$playerEl[0].alt,volume:.8,muted:!1,mustBeCompleted:this.mustBeCompleted},this.extension),this.reattachPlayer(),this.$playerEl[0].autoplay&&(p.detect.browser.firefox||p.detect.browser.edge||p.detect.browser.ie)&&this.$playerEl[0].play(),!this.transformedPlayer&&this.mustBeCompleted&&this.setCompleted(this.index),"audio"===this.mediaType&&this.resizeMedia(),this.markRendered());return this},getPlayerElement:function(){this.$playerEl=
"movie"===this.mediaType?this.$el.find("video").eq(0):this.$el.find("audio").eq(0);return this},normalizeControlsValue:function(){"controls"===this.$playerEl[0].getAttribute("controls")+""||/^true$/i.test(this.$playerEl[0].getAttribute("controls"))?this.showControls=this.$playerEl[0].controls=!0:this.showControls=this.$playerEl[0].controls=!1;return this},normalizeAutoplayValue:function(){"autoplay"===this.$playerEl[0].getAttribute("autoplay")+""||/^true$/i.test(this.$playerEl[0].getAttribute("autoplay"))?
this.$playerEl[0].autoplay=!0:this.$playerEl[0].autoplay=!1;return this},initializeMute:function(){/^true$/i.test(!1)&&(this.$playerEl[0].setAttribute("muted","muted"),this.$playerEl[0].muted=!0);return this},handleControls:function(){p.detect.browser.safari&&(this.transformedPlayer.current.style["transition-duration"]="0s",this.transformedPlayer.loaded.style["transition-duration"]="0s",this.transformedPlayer.buffer.style["transition-duration"]="0s");this.showControls||p.detect.device||(this.hiddenControls=
!0,"audio"===this.mediaType?this.$el.addClass(this.config.hiddenClass):"movie"===this.mediaType&&"js"===this.transformPlayerType&&this.transformedPlayer.controls.classList.add(this.config.hiddenClass));return this},determineMediaExtension:function(){this.extension=this.$playerEl.data("src").match(/\w+$/);Array.isArray(this.extension)&&(this.extension=this.extension[0].toLowerCase());return this},normalizeMediaType:function(){var a;(a=this.config.mimeTypeMap[this.mediaType]&&this.config.mimeTypeMap[this.mediaType][this.extension])&&
this.$playerEl.attr("type",a);return this},markAndDetachPlayer:function(){var a=this.$el;this.$placeholder=d('<span class="media-transform-placeholder" />');this.$playerEl.before(this.$placeholder);this.$playerEl.data("placeholder",this.$placeholder);this.$playerEl.detach();this.$playerEl.attr("src",this.$playerEl.data("src"));if(!this.$el[0].style.maxWidth)this.$playerEl.on("loadedmetadata",function(){a[0].style.maxWidth=this.videoWidth+"px";t.trigger("mediaPlayer.ready",this)});return this},reattachPlayer:function(){this.transformedPlayer&&
d(this.transformedPlayer.container).replaceAll(this.$placeholder);d(window).trigger("resize");return this},transformJSPlayer:function(){var c=[];"flv"===this.extension&&this.config.useFlashPlayer&&c.push("flash_video");this.useAVScriptPlugin&&this.features.push(this.config.avScriptPluginName);this.config.enableSpeedControl&&this.features.splice(this.features.length-1,0,this.config.speedPluginName);this.$el.data("disable-fullscreen")&&this.features.splice(this.features.indexOf("fullscreen"),1);var d=
this.$playerEl.get(0);this.$playerEl.context.appendChild(d);this.transformedPlayer=new mejs.MediaElementPlayer(d,{renderers:c,mode:this.playerMode,muted:!1,pluginPath:this.config.pluginPath,guid:this.guid,streching:"responsive",enableAutosize:!1,hideVideoControlsOnLoad:!this.showControls&&!p.detect.device,useSmoothHover:!(p.detect.browser.ie||p.detect.browser.edge),iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,success:this.finishJSPlayerTransformation.bind(this),
playText:a.t("elements.media.playPause"),pauseText:a.t("elements.media.playPause"),muteText:a.t("elements.media.muteToggle"),fullscreenText:a.t("elements.media.fullscreen"),audioVolume:"vertical",customError:a.t("elements.media.playbackError"),features:this.features,speeds:this.speedControlOptions,defaultSpeed:this.defaultSpeedOption,classPrefix:"mejs-",error:function(a){p.error("Error while transforming media player: "+a.id)}})},finishJSPlayerTransformation:function(a,c){var e=this;c=c.getAttribute("data-autoplay");
c=!(void 0===c||null===c||"false"===c);var f=null!==a.rendererName&&/(native|html5)/i.test(a.rendererName);this.transformedPlayer?this.transformedPlayer.media=a:this.transformedPlayer=a.children[0].player;this.transformPlayerType="js";this.handleControls();this.handleAVScriptPopup(this.transformedPlayer.container);a.timeRangeStart=0;a.addEventListener("ended",function(){if((null===a.rendererName||!/(flash_video)/i.test(a.rendererName))&&e.isMediaOnPage){var c=decodeURIComponent(a.src).split(/[\\\/]/).pop();
p.log("ended playing media "+c)}e.mustBeCompleted&&e.setCompleted(e.index)});a.addEventListener("play",function(){if((null===a.rendererName||!/(flash_video)/i.test(a.rendererName))&&e.isMediaOnPage){a.timeRangeStart=Math.floor(a.currentTime);var c=decodeURIComponent(a.src).split(/[\\\/]/).pop();p.log("started playing media "+c+" at time: "+a.timeRangeStart+" seconds")}});a.addEventListener("pause",this.handlePauseEvent.bind(this));a.addEventListener("volumechange",function(){a.muted?t.trigger("media.mute",
!1,!0,!1):t.trigger("media.mute",!1,!1,!1)});"audio"===this.mediaType&&(d(window).on("resize",this.resizeMedia),t.on("popup.open",this.resizeMedia),t.on("imageMapEl.showHotSpotContent:after",this.resizeMedia));this.$playerEl.on("media.resize",this.resizeMedia);this.$playerEl.on("media.player:remove",this.removeTransformedPlayer);c&&!f&&(/(flash_video)/i.test(a.rendererName)?a.addEventListener("loadstart",function(c){a.play()}):a.addEventListener("canplay",function(c){a.play()}))},handlePauseEvent:function(){if((null===
this.transformedPlayer.media.rendererName||!/(flash_video)/i.test(this.transformedPlayer.media.rendererName))&&0<this.transformedPlayer.media.currentTime&&this.isMediaOnPage){var a=this.transformedPlayer.media.attributes.id.value.split("-"),c=_toArray(a);a=c[0];var d=c.slice(1);d=d.join("-");c=decodeURIComponent(this.transformedPlayer.media.src).split(/[\\\/]/).pop();a={guid:d,type:a,name:c,duration:Math.floor(this.transformedPlayer.media.currentTime)-this.transformedPlayer.media.timeRangeStart,offset:this.transformedPlayer.media.timeRangeStart,
totalLength:Math.floor(this.transformedPlayer.media.duration)};p.log("paused media "+c+" at time: "+Math.floor(this.transformedPlayer.media.currentTime)+" seconds");t.trigger("media.played",a)}},resizeMedia:function(){"js"===this.transformPlayerType?this.resizeJSPlayer():"fallback"===this.transformPlayerType&&this.resizeFallbackPlayer()},resizeJSPlayer:function(){this.$el[0].offsetWidth&&(this.transformedPlayer.setPlayerSize(this.$el[0].offsetWidth,this.transformedPlayer.height),this.transformedPlayer.setControlsSize())},
resizeFallbackPlayer:function(){},removeTransformedPlayer:function(){this.transformedPlayer&&"function"===typeof this.transformedPlayer.remove&&this.transformedPlayer.remove()},transformToFallbackPlayer:function(a,c){"wmv"===c||"avi"===c?mejs.PluginDetector.plugins.wmp||this.detectExtraPlugins("wmp")||p.detect.browser.ie?(this.generateWmp(a),this.transformPlayerType="fallback"):this.showMicrosoftPlayerRequirement():"flv"===c||"swf"===c?this.showFlashPlayerRequirement():mejs.PluginDetector.plugins.wmp||
this.detectExtraPlugins("wmp")?(this.generateWmp(a),this.transformPlayerType="fallback"):mejs.PluginDetector.plugins.quicktime||this.detectExtraPlugins("quicktime")?(this.generateQuicktime(a),this.transformPlayerType="fallback"):this.showGeneralPlayerRequirement()},determineBaseCaptabilities:function(a){var c=!0;"avi"===a?c=!1:"flv"===a||"swf"===a?mejs.PluginDetector.plugins.flash&&0!==mejs.PluginDetector.plugins.flash[0]&&this.config.useFlashPlayer||(c=!1):"wmv"===a&&(mejs.PluginDetector.plugins.silverlight&&
0!==mejs.PluginDetector.plugins.silverlight[0]||(c=!1));!mejs.Features.supportsMediaTag&&this.config.useShimForIE&&mejs.Features.isIE&&(mejs.PluginDetector.plugins.flash||mejs.PluginDetector.plugins.silverlight?0===mejs.PluginDetector.plugins.flash[0]&&0===mejs.PluginDetector.plugins.silverlight[0]&&(c=!1):c=!1);return c},generateWmp:function(a){var c="";a.uiMode=a.controls?"full":"none";a.mediaHeight=a.mediaHeight?'height="'+a.mediaHeight+'"':"";a.mediaWidth=a.mediaWidth?'width="'+a.mediaWidth+'"':
"";a.controls||"audio"!==this.mediaType||(a.mediaHeight='height="0"',a.mediaWidth='width="0"');c='<object class="mediaObject_player" classid="clsid:22d6f312-b0f6-11d0-94ab-0080c74c7e95" type="application/x-oleobject" '+a.mediaWidth+" "+a.mediaHeight+'" codebase="//activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#version=5,1,52,701"><param name="filename" value="'+a.mediaURI+'" /><param name="url" value="'+a.mediaURI+'" /><param name="autoStart" value="'+a.autoplay+'" /><param name="AnimationAtStart" value="true" /><param name="TransparentAtStart" value="true" /><param name="enabled" value="true" /><param name="ShowControls" value="'+
a.controls+'" /><param name="uiMode" value="'+a.uiMode+'" /><param name="wmode" value="transparent" /><param name="mute" value="'+a.muted+'" /><param name="volume" value="100" /><param name="stretchToFit" value="true" />\x3c!-- For other browsers * Windows Media Player --\x3e<embed src="'+a.mediaURI+'" '+a.mediaWidth+'" '+a.mediaHeight+'" type="application/x-ms-wmp" wmode="transparent" autostart="'+a.autoplay+'" animationatstart="true" transparentatstart="true" showcontrols="'+a.controls+'" uimode="'+
a.uiMode+'" mute="'+a.muted+'" volume="100" '+a.mediaWidth+" "+a.mediaHeight+'" stretchtofit="true" ></embed></object>';this.transformedPlayer=this.transformedPlayer||{};this.transformedPlayer.container=d(c).get(0);this.transformedPlayer.embed=d(c).children("embed").get(0);this.transformedPlayer.setMute=function(a){return!1}.bind(this);this.transformedPlayer.setMute(a.muted);(function(){a.controls||(this.transformedPlayer.container.settings&&(this.transformedPlayer.container.settings.showControls=
!1),this.transformedPlayer.container.showControls&&(this.transformedPlayer.container.showControls=!1),this.transformedPlayer.container.enableContextMenu&&(this.transformedPlayer.container.enableContextMenu=!1),this.transformedPlayer.container.uiMode&&(this.transformedPlayer.container.uiMode="none"),this.transformedPlayer.embed&&(this.transformedPlayer.embed.settings&&(this.transformedPlayer.embed.settings.showControls=!1),this.transformedPlayer.embed.showControls&&(this.transformedPlayer.embed.showControls=
!1),this.transformedPlayer.embed.enableContextMenu&&(this.transformedPlayer.embed.enableContextMenu=!1),this.transformedPlayer.embed.uiMode&&(this.transformedPlayer.embed.uiMode="none")))})();c=function(a){0===a&&this.mustBeCompleted&&this.setCompleted(this.index)};document.addEventListener&&(this.transformedPlayer.container.addEventListener("EndOfStream",c),this.transformedPlayer.embed.addEventListener("EndOfStream",c),this.transformedPlayer.container.addEventListener("onEndOfStream",c),this.transformedPlayer.embed.addEventListener("onEndOfStream",
c))},generateQuicktime:function(a){var c="";a.mediaHeight=a.mediaHeight?'height="'+a.mediaHeight+'"':"";a.mediaWidth=a.mediaWidth?'width="'+a.mediaWidth+'"':"";a.controls||"audio"!==this.mediaType||(a.mediaHeight='height="1"',a.mediaWidth='width="1"');c='<div class="QuicktimeObjectWrapper"><object id="'+this.guid+'_source" class="QuicktimeObjectSource" classid="clsid:CB927D12-4FF7-4a9e-A169-56E4B8A75598" codebase="//www.apple.com/qtactivex/qtplugin.cab#version=7,2,1,0" style="display:none; position: absolute; left: -500px; top: -500px; visibility: hidden; width: 1px; height: 1px;"></object><object id="'+
a.replaceID+'" classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" class="QuicktimeObject mediaObject_player" codebase="//www.apple.com/qtactivex/qtplugin.cab" '+a.mediaWidth+" "+a.mediaHeight+' style="behavior:url(#'+this.guid+'_source);"><param name="src" value="'+a.mediaURI+'"> </param><param name="autoplay" value="'+a.autoplay+'"> </param><param name="scale" value="aspect"> </param><param name="cache" value="TRUE"> </param><param name="type" value="video/quicktime"> </param><param name="controller" value="'+
a.controls+'"> </param><param name="enablejavascript" value="TRUE"> </param><param name="postdomevents" value="TRUE"> </param><param name="wmode" value="transparent"> </param><param name="flashvars"  value="startOnLoad='+a.autoplay+'"/><param name="volume" value="100" /><embed src="'+a.mediaURI+'" '+a.mediaWidth+" "+a.mediaHeight+' name="'+a.replaceID+'" volume="100" type="video/quicktime" wmode="transparent" pluginspage="//www.apple.com/quicktime/download" autoplay="'+a.autoplay+'" scale="aspect" cache="TRUE" controller="'+
a.controls+'" enablejavascript="TRUE" postdomevents="true"> </embed></object></div>';this.transformedPlayer=this.transformedPlayer||{};this.transformedPlayer.container=d(c).get(0);this.transformedPlayer.source=d(c).children("object.QuicktimeObjectSource").get(0);this.transformedPlayer.object=d(c).children("object.QuicktimeObject").get(0);this.transformedPlayer.embed=d(c).children("object.QuicktimeObject").children("embed").get(0);this.transformedPlayer.setMute=function(a){return!1}.bind(this);this.transformedPlayer.setMute(a.muted);
a=function(){this.mustBeCompleted&&this.setCompleted(this.index)};document.addEventListener&&(this.transformedPlayer.object.addEventListener("qt_ended",a),this.transformedPlayer.embed.addEventListener("qt_ended",a))},extendVendorPlayer:function(){function a(a,c,d){var e;c=c.split(".");var f=0;for(e=c.length;f<e;f+=1){var k=c[f];a[k]||(a[k]={});f<e-1&&(a=a[k])}if("function"===typeof d){var h=a[k];a[k]=function(){var a=Array.prototype.slice.call(arguments);a.push(h);return d.apply(this,a)}}else a[k]=
d;a.xyMediaConfig=this.config}Object.getOwnPropertyNames(this.config.vendorPlayerExtensions).forEach(function(c,d){if("function"===typeof this.config.vendorPlayerExtensions[c])d=this.config.vendorPlayerExtensions[c];else if("function"===typeof this[this.config.vendorPlayerExtensions[c]])d=this[this.config.vendorPlayerExtensions[c]];else if("function"===typeof window[this.config.vendorPlayerExtensions[c]])d=window[this.config.vendorPlayerExtensions[c]];else{p.warn("An invalid function was passed as a replacement for: "+
window[this.config.vendorPlayerNamespace]+"."+c);return}a.call(this,window[this.config.vendorPlayerNamespace],c,d)},this);this.extendVendorPluginDetection()},extendVendorPluginDetection:function(){mejs.PluginDetector.plugins.wmp||this.vendorAddPluginExtend("wmp","Windows Media Player","application/x-ms-wmp","wmplayer.ocx",function(a){return[a.versionInfo]});mejs.PluginDetector.plugins.quicktime||this.vendorAddPluginExtend("quicktime","QuickTime","video/quicktime","QuickTime.QuickTime",function(a){return[a.GetQuickTimeVersion()]})},
vendorAddPluginExtend:function(a,c,d,e,f){(c=this.detectExtraPlugins(c,d,e,f))&&(mejs.PluginDetector.plugins[a]=[c])},detectExtraPlugins:function(a,c,d,e){var f=null,k;if("undefined"!==typeof window.navigator.plugins&&"object"===_typeof(window.navigator.plugins[a])){if((d=window.navigator.plugins[a].description)&&("undefined"===typeof window.navigator.mimeTypes||!window.navigator.mimeTypes[c]||window.navigator.mimeTypes[c].enabledPlugin))for(f=d.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),
e=0,k=f.length;e<k;e++)f[e]=parseInt(f[e].match(/\d+/),10)}else if("undefined"!==typeof window.ActiveXObject)try{k=new ActiveXObject(d),f=e(k)}catch(H){p.error(H)}else if("undefined"!==typeof window.navigator.plugins)for(e=0,k=window.navigator.plugins.length;e<k;e++)if(-1!==window.navigator.plugins[e].name.toLowerCase().indexOf(a.toLowerCase())&&(d=window.navigator.plugins[e].description)&&("undefined"===typeof window.navigator.mimeTypes||!window.navigator.mimeTypes[c]||window.navigator.mimeTypes[c].enabledPlugin)){f=
a;break}return f},showMicrosoftPlayerRequirement:function(){var c=p.detect.device?this.config.devicePluginMessage:a.t()||'<p>Either <a href="//www.microsoft.com/silverlight/" target="_blank">Microsoft Silverlight</a> or the Windows Media Player Plugin is required to play this file.';f.notify(c,{type:"error",title:"Unable to play media",sticky:!0,closeButton:!0})},showQuicktimePlayerRequirement:function(){var c=p.detect.device?this.config.devicePluginMessage:a.t()||'<p><a href="//www.apple.com/quicktime/download/" target="_blank">Apple Quicktime</a> is required to play this file.</p>';
f.notify(c,{type:"error",title:"Unable to play media",sticky:!0,closeButton:!0})},showFlashPlayerRequirement:function(){var c=p.detect.device?this.config.devicePluginMessage:a.t()||'<p><a href="//get.adobe.com/flashplayer/" target="_blank">Adobe Flash</a> is required to play this file</p>';f.notify(c,{type:"error",title:"Unable to play media",sticky:!0,closeButton:!0})},showGeneralPlayerRequirement:function(){var c=p.detect.device?this.config.devicePluginMessage:a.t()||'<p>Either HTML5, <a href="//get.adobe.com/flashplayer/" target="_blank">Adobe Flash</a>, <a href="//www.microsoft.com/silverlight/" target="_blank">Microsoft Silverlight</a>, Windows Media Player Plugin or <a href="//www.apple.com/quicktime/download/" target="_blank">Apple Quicktime</a> is required to play this file</p>';
f.notify(c,{type:"error",title:"Unable to play media",sticky:!0,closeButton:!0})},synchronizeMute:function(a,c){if(this.config.synchronizeOnMute||c)"js"===this.transformPlayerType?"function"===typeof this.transformedPlayer.setMuted&&(a&&!this.transformedPlayer.media.muted?this.transformedPlayer.setMuted(a):!a&&this.transformedPlayer.media.muted&&this.transformedPlayer.setMuted(a)):"fallback"===this.transformPlayerType&&(a&&!this.transformedPlayer.muted?this.transformedPlayer.setMuted(a):!a&&this.transformedPlayer.muted&&
this.transformedPlayer.setMuted(a))},pauseMedia:function(a){var c=this;this.waitForRendered.then(function(){if(c.isInScope(a)||!a)c.transformedPlayer&&h.isFunction(c.transformedPlayer.pause)&&c.transformedPlayer.pause(),c.$playerEl[0].autoplay&&(c.$playerEl[0].autoplay=!1,c.autoplayInterrupted=!0)})},playMedia:function(a){var c=this;this.waitForRendered.then(function(){(c.isInScope(a)||!a)&&c.transformedPlayer&&h.isFunction(c.transformedPlayer.play)&&c.transformedPlayer.play()})},resumeAutoplay:function(a){var c=
this;this.waitForRendered.then(function(){c.$playerEl&&(!c.isInScope(a)&&a||!c.$playerEl[0].autoplay&&!c.autoplayInterrupted||c.playMedia())})},t:function(c,d){if(this.config.i18nMap[c])return a.t(this.config.i18nMap[c],d);if("function"===typeof d&&(d=d(c)))return d;p.error("Cannot translate the following string from MediaElementJS: "+c);return c},cleanupMedia:function(a){a.find(this.$el).length&&(this.$el.find("object, embed").each(function(){this.AllowScriptAccess="never"}),this.transformedPlayer&&
"function"===typeof this.transformedPlayer.pause&&this.transformedPlayer.media&&this.transformedPlayer.media.src&&!this.transformedPlayer.paused&&(this.transformedPlayer.pause(),this.handlePauseEvent()),this.transformedPlayer&&"function"===typeof this.transformedPlayer.setSrc&&this.transformedPlayer.setSrc(""),this.transformedPlayer&&"function"===typeof this.transformedPlayer.remove&&this.transformedPlayer.remove(),this.$playerEl&&this.$playerEl.length&&(this.$playerEl[0].paused||this.$playerEl[0].pause(),
this.$playerEl[0].src="",this.$playerEl[0].paused||this.$playerEl[0].pause(),this.$playerEl[0].setAttribute("src",""),this.$playerEl.remove(),delete this.$playerEl[0],delete this.$playerEl))},remove:function(){t.off("content.unload:before",this.cleanupMedia);t.off("media.mute",this.synchronizeMute);d(window).off("resize",this.resizeMedia);this.avScriptPopup instanceof c&&(this.avScriptPopup.destroy(),this.avScriptPopup=void 0);this.constructor.__super__.remove.call(this)}},{displayName:"mediaPlayer",
config:p.extend(e,q.configure(m.id))});t.trigger("mediaPlayer.loaded",!0,n);return n});define("elements/mediaPlayer/mediaPlayer",["es6!elements/mediaPlayer/mediaPlayer.es6"],function(m){return m});
define("elements/webComponent/webComponent",["module","jquery","app/utilities/XyTools","app/configuration","app/events"],function(m,d,h,n,p){var q=new function(){var q=this;this.config={cssSelector:".WebComponentCSS",jsSelector:".WebComponentJs",cssDependencyClass:"WebComponentCSS",jsDependencyClass:"WebComponentJs",generalDependencyClass:"WebComponentDependency"};this.headDependencies=[];this.init=function(){this.config=h.extend(this.config,n.configure(m.id));q=this;p.on("content.loaded",this.initializeComponents)};
this.destructor=function(){q.destroyHeadDependencies()};this.initializeComponents=function(){var d=q.findCssDependencies();var a=q.findJsDependencies();q.loadHeadDependencies(d);q.loadBodyDependencies(a);return{css:d,js:a}};this.findCssDependencies=function(){var k=[],a;var f=d(this.config.cssSelector);var h=0;for(a=f.length;h<a;h+=1){var c=document.createElement("link");var e=this.config.generalDependencyClass+" "+this.config.cssDependencyClass+h;c.setAttribute("rel","stylesheet");c.setAttribute("type",
"text/css");c.setAttribute("href",f[h].value);c.setAttribute("class",e);k.push(c)}return k};this.findJsDependencies=function(){var k=[],a;var f=d(this.config.jsSelector);var h=0;for(a=f.length;h<a;h+=1){var c=document.createElement("script");c.setAttribute("src",f[h].value);k.push(c)}return k};this.loadHeadDependencies=function(d){var a;var f=document.getElementsByTagName("head")[0];d?d instanceof Array||(d=[d]):d=[];var k=0;for(a=d.length;k<a;k+=1)f.appendChild(d[k]);return d};this.destroyHeadDependencies=
function(){var d;var a=document.getElementsByTagName("head")[0];var f=a.getElementsByClassName(this.config.generalDependencyClass);var h=0;for(d=f.length;h<d;h+=1)a.removeChild(f[0])};this.loadBodyDependencies=function(d){var a;d?d instanceof Array||(d=[d]):d=[];var f=0;for(a=d.length;f<a;f+=1)document.getElementsByTagName("body")[0].appendChild(d[f]);return d}};p.trigger("webComponent.loaded",!0,q);return q});
define("elements/choiceBranch/choiceBranch","module jquery app/utilities/XyTools app/configuration app/events app/completionApi app/player/communication app/navigation notification lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a,f){var l=new function(){var c=this;this.config={allowReset:!1,wrapperSelector:".ChoiceBranch",choiceBranchStemSelector:".ChoiceBranchStem",optionSelector:".ChoiceBranchOption",optionWrapperSelector:".ChoiceBranchOptionWrapper",optionTextSelector:".ChoiceBranchOptionDistractorWrapper",
submitButtonSelector:"#submit_",resetButtonSelector:"#reset_",confirmDialogResetButtonSelector:".ConfirmOkButton",confirmDialogCheckboxSelector:"input[type=checkbox]",infoMessage:f.t("elements.choiceBranch.infoMessage")||"Resetting this choice will remove any and all progress you may have made from this point on, even if you make the same choice as you did previously.",acceptanceCheckMessage:f.t("elements.choiceBranch.acceptanceCheckMessage")||"I understand that any existing progress from this point on will be lost",
submitAllButtonTitle:f.t("elements.choiceBranch.reset")||"Reset",cancelButtonTitle:f.t("elements.notification.cancel")||"Cancel",mustBeCompletedMessage:f.t("elements.choiceBranch.mustBeCompletedMessage")||"Please provide a response before proceeding."};this.config.confirmTemplate='<div class="ResetChoiceBranchConfirmationDialog"><p><b>'+this.config.infoMessage+'</b></p><label><input type="checkbox" /> '+this.config.acceptanceCheckMessage+"</label></div>";this.init=function(a){p.trigger("choiceBranch.init:before",
this);void 0!==a&&(this.config=d.extend(this.config,{wrapperSelector:a}));this.config=d.extend(this.config,n.configure(m.id));this.optionClickHandler=this.optionClickHandler.bind(this);p.trigger("choiceBranch.init:after",this)};this.checkForExistence=function(a){return 0!==a.find(this.config.wrapperSelector).length};this.render=function(a){var e=this.config.wrapperSelector;p.trigger("choiceBranch.render:before",l);var f=a.find(e).attr("id");if("undefined"!=typeof f){if(this.config.allowReset)a.find(this.config.resetButtonSelector+
f).removeClass("Hidden").prop("disabled",!0).on("click",function(){d(this).prop("disabled")||c.confirmReset(a)});a.find(this.config.submitButtonSelector+f).on("click",function(d){c.submit(f,a)});q.registerRequiredActivity(f,this.config.mustBeCompletedMessage);a.find(this.config.optionSelector).each(function(c,e){t.getObjectiveSuccess(d(e).attr("id"))&&(d(e).prop("checked",!0),l.disable(a))});a.find(this.config.optionWrapperSelector).on("click",this.optionClickHandler)}p.trigger("choiceBranch.render:after",
l);return this};this.disable=function(a){var c=a.find(this.config.wrapperSelector).attr("id");a.find(this.config.optionSelector).prop("disabled",!0);a.find(this.config.submitButtonSelector+c).addClass("Disabled")[0].disabled=!0;a.find(this.config.resetButtonSelector+c).removeClass("Disabled")[0].disabled=!1;this.disabled=!0;q.unregisterRequiredActivity(c)};this.enable=function(a){var c=a.find(this.config.wrapperSelector).attr("id");a.find(this.config.optionSelector).prop("disabled",!1);a.find(this.config.submitButtonSelector+
c).removeClass("Disabled")[0].disabled=!1;a.find(this.config.resetButtonSelector+c).addClass("Disabled")[0].disabled=!0;this.disabled=!1};this.submit=function(a,c){p.trigger("choiceBranch.submit:before",l);var e=c.find(this.config.optionSelector).filter(function(a,c){return c.checked})[0];"undefined"!=typeof e&&q.unregisterRequiredActivity(a);p.triggerCheckEvent("navigation.enabled:check").then(function(){h.log("choiceBranch: submit id-"+a);t.setObjectiveSuccess(d(e).attr("id"),!0);k.requestNext()});
p.trigger("choiceBranch.submit:after",l);return this};this.confirmReset=function(c){var d=this;a.confirm(this.config.confirmTemplate,{buttons:[{text:d.config.submitAllButtonTitle,buttonClass:a.confirmConfig.buttonOkClass,click:function(){d.reset(c)}},{text:d.config.cancelButtonTitle,buttonClass:a.confirmConfig.buttonCancelClass}],open:function(){var a=this.content.find(d.config.confirmDialogCheckboxSelector);var c=this.popup.find(d.config.confirmDialogResetButtonSelector);a[0].disabled||(c.addClass("Disabled")[0].disabled=
!0,a.on("change",function(){this.checked?c.removeClass("Disabled")[0].disabled=!1:c.addClass("Disabled")[0].disabled=!0}))}})};this.reset=function(a){p.trigger("choiceBranch.reset:before",l);c.enable(a);k.requestResetChoiceBranch();p.trigger("choiceBranch.reset:after",l)};this.getStatementData=function(){var a=d(this.config.optionTextSelector).map(function(a,c){c=d(c).contents().first().text();return{id:a+1,description:{"en-US":c,text:c}}}).get(),c=d("*",this.config.choiceBranchStemSelector).contents().first().text(),
f=d(this.config.optionSelector).filter(function(a,c){return c.checked})[0];f=d(f).closest(this.config.optionWrapperSelector).find(this.config.optionTextSelector).contents().first().text();return{choiceBranchStem:c,response:f,choices:a}};this.optionClickHandler=function(a){a.preventDefault();if(!c.disabled){var e=d(a.currentTarget).find(this.config.optionSelector);setTimeout(function(){e.prop("checked",!0)},0)}}};p.trigger("choiceBranch.loaded",!0,l);return l});
define("elements/elements","module jquery underscore app/events app/configuration app/utilities/XyTools elements/autonumber/autonumber elements/citation/citation elements/tabs/tabs elements/carouselTabs/carouselTabs elements/scrollTabs/scrollTabs elements/xref/xref elements/marginnote/marginnote elements/list/list elements/inlineTerm/inlineTerm elements/inlineHotText/inlineHotText elements/footnote/footnote elements/figure/figure elements/customNote/customNote elements/imagemap/imagemap elements/htmlPage/htmlPage elements/flashcards/flashcards elements/questions/scoreCard/scoreCard elements/categories/categories elements/slideshow/slideshow elements/threesixty/threesixty elements/pageResources/pageResources elements/procedure/procedure elements/docWriter/docWriter elements/chartTable/chartTable elements/mediaPlayer/mediaPlayer elements/webComponent/webComponent elements/choiceBranch/choiceBranch".split(" "),function(m,
d,h,n,p,q,t,k,a,f,l,c,e,u,z,B,G,x,I,H,A,D,C,F,E,K,N,Y,P,W,ha,ja,ba){var Z=function(){this.instances={};this.scopes={};this.config={modules:[t,k,a,f,l,c,e,u,z,B,G,x,I,H,A,D,C,F,E,K,N,Y,P,W],legacy:[ba,ja]};this.init=function(){n.trigger("elements.init:before",this);this.config=q.extend(this.config,p.configure(m.id));this.config.modules.push(ha);this.handleLegacy();n.on("content.loaded",function(a){a=q.getJqueryObject(a);var c=this.getScopeIdentifier(a);this.initializeElements(c,a);this.renderElements(c)}.bind(this));
n.on("content.unload:after xref.content.remove elements.remove",function(a){a=q.getJqueryObject(a);a=this.getScopeIdentifier(a);this.removeElements(a)}.bind(this));this.handleResize();n.trigger("elements.init:after",this);return this}};Z.prototype.initializeElements=function(a,c){this.instances[a]=this.instances[a]||[];this.scopes[a]=this.scopes[a]||c;this.config.modules.forEach(function(d){var e=this;if(this.exists(d.config.selector,c)){var f=c.find(d.config.selector);f.each(function(f,k){f=new d({el:k,
index:f,scope:c});e.instances[a].push(f)})}},this);return this};Z.prototype.renderElements=function(a){n.trigger("elements.renderElements:before",a,this);this.instances[a].forEach(function(a){a.render()});n.trigger("elements.renderElements:after",a,this);return this};Z.prototype.removeElements=function(a){if(!this.instances[a]||0===this.instances[a].length)return q.warn("no element instances in"+this.scopes[a]),this;this.instances[a].forEach(function(a){try{a.remove()}catch(Qa){q.error("Failed to destroy/remove an element: "+
Qa)}});this.instances[a]=[];delete this.instances[a];this.scopes[a]=null;delete this.scopes[a];return this};Z.prototype.exists=function(a,c){return 0!==c.find(a).length};Z.prototype.getScopeIdentifier=function(a){var c;(c=Object.keys(this.scopes).filter(function(c){return d(this.scopes[c])[0]===d(a)[0]},this)[0])||(c=h.uniqueId("scope_"));return c};Z.prototype.handleResize=function(){var a=h.debounce(function(){this.resizeElements()}.bind(this),50);n.on("elements.resize",a);window.addEventListener("resize",
a);window.addEventListener("orientationchange",a)};Z.prototype.resizeElements=function(a,c){var e=[];a&&c?(c=this.getScopeIdentifier(c),e=this.instances[c]):e=Object.keys(this.instances).reduce(function(a,c){return a.concat(this.instances[c])}.bind(this),[]);e.forEach(function(c){if(a){var e=d(a);var f=d(c.$el);if(e[0]===f[0]||!e[0].contains(f[0]))return}"function"===typeof c.resize&&c.resize()})};Z.prototype.handleLegacy=function(){var a,c=this;var d=0;for(a=this.config.legacy.length;d<a;d+=1)"function"===
typeof this.config.legacy[d].init&&this.config.legacy[d].init();n.on("content.loaded",function(e){e=q.getJqueryObject(e);d=0;for(a=c.config.legacy.length;d<a;d+=1)"function"===typeof c.config.legacy[d].checkForExistence?c.config.legacy[d].checkForExistence.call(c.config.legacy[d],e)&&"function"===typeof c.config.legacy[d].render&&c.config.legacy[d].render.call(c.config.legacy[d],e):"function"===typeof c.config.legacy[d].render&&c.config.legacy[d].render.call(c.config.legacy[d],e);n.trigger("elements.allElementsRendered")});
n.on("content.unload:after",function(e){e=q.getJqueryObject(e);d=0;for(a=c.config.legacy.length;d<a;d+=1)"function"===typeof c.config.legacy[d].destructor&&c.config.legacy[d].destructor.call(c.config.legacy[d],e)});n.trigger("elements.init:after",this);return this};Z=new Z;n.trigger("elements.loaded",!0,Z);return Z});
define("app/timer","module jquery app/configuration app/events app/utilities/XyTools app/questionApi app/submitAll app/courseApi notification lang/lang".split(" "),function(m,d,h,n,p,q,t,k,a,f){function l(a){var d,e=!k.isScorecard(),f=!!q.getCurrentPageQuestions().length;for(d in c)c[d]instanceof B&&c[d].setActive(e&&f&&d===a)}var c={},e={},u=function(){a.alert(z.prototype.config.timer.finishMessage);n.off("content.loaded",u)};var z=function(){};z.prototype.config={timer:{percentageWarnings:[10],
timeWarnings:[1],startMessage:f.t("components.timer.startText")||"This is a timed assessment. When time expires, all questions (answered and unanswered) will automatically be submitted for evaluation.",finishMessage:f.t("components.timer.finishText")||"The time allocated for this assessment has expired. All questions (answered and unanswered) will now be submitted for evaluation."}};z.prototype.init=function(){this.config=$.extend(this.config,h.configure(m.id));n.on("content.loaded",this.checkTimer.bind(this));
n.on("submitAll.submit:after",this.terminateTimer.bind(this));n.on("player.unload:after",this.stopAllTimers.bind(this))};z.prototype.checkTimer=function(){var a=q.getCurrentPageData(),d=a&&a.assessmentroot?a.assessmentroot.guid:null,e=c[d],f=q.getTimeLimit(),h=t.isAssessment()&&!t.isStatusSaved()&&k.hasQuestions()&&!k.isScorecard(),m=this,p=0;if(""===PLAYER_TYPE&&(0<Xyleme.environment.SCORM_TYPE.indexOf("SCORM")||Xyleme.environment.IS_AICC))a.questions&&0<a.questions.length?!e&&f?(e=c[d]=new B({guid:d},
this.config.timer),e.limit=f,e.timeLeft=60*f,n.trigger("timer.notify:started",e)):e&&e.limit!==f&&(e.terminateTimer(),delete c[d]):e&&(e.terminateTimer(),delete c[d]);else if(!e||e&&!e.isRunning){if(a=k.retrieveAdditionalData("timer")||"")a=a.split("|"),p=a.length-1;if(p>Object.keys(c).length)for(h=0;h<p;h++)e=new B({},this.config.timer),e.start(0,a[h]),c[e.currentAssessment.guid]=e;else 0<f&&h&&(e||(e=c[d]=new B({guid:d},this.config.timer)),n.triggerCheckEvent("timer.notify:start",e).then(function(){e.start(f);
m.saveTime()}))}l(d);return e};z.prototype.terminateTimer=function(a,d){if(a=c[d])e[d]=a.timeLeft,a.terminateTimer(),delete c[d],this.saveTime();return a};z.prototype.saveTime=function(){var a="",d;for(d in c)c.hasOwnProperty(d)&&(a+=c[d].getSaveData()+"|");k.storeAdditionalData("timer",a)};z.prototype.getResult=function(a){return e[a]};z.prototype.stopAllTimers=function(){for(var a in c)c.hasOwnProperty(a)&&c[a].terminateTimer()};var B=function(a,c){n.trigger("timer.create:before",this);this.config=
c;this.startTime="";this.timeLeft=this.limit=0;this.isActive=this.isRunning=!1;this.currentAssessment=a;this.guid=this.currentAssessment.guid;this.activeWarnings=[];this.refreshControlinterval=null;n.trigger("timer.create:after",this)};B.prototype.setActive=function(a){a=!!a;a!==this.isActive&&((this.isActive=a)?n.trigger("timer.notify:returnToAssessment",this):n.trigger("timer.notify:outOfAssessment",this))};B.prototype.start=function(c,d){var e=this;this.isRunning=!0;if(d&&d.length){d=d.split(" ");
var f=d[0];var h=d[1];d=d[2];c=q.getTimeLimit(h);this.startTime=f;this.limit=c;var l=60*c-Math.round((k.getCurrentTime()-f)/1E3);0>l&&(l=0);this.timeLeft=l;this.currentAssessment.scorecard=d;this.currentAssessment.guid=h;this.activeWarnings=this.config.timeWarnings.map(function(a){return 60*a});this.config.percentageWarnings.forEach(function(a){e.activeWarnings.push(60*c*a/100)});this.activeWarnings=this.activeWarnings.filter(function(a){return a<l})}else this.startTime=k.getCurrentTime(),this.limit=
c,this.timeLeft=60*c,this.currentAssessment.scorecard=this.currentAssessment.scorecard||k.findScorecard(),this.activeWarnings=this.config.timeWarnings.map(function(a){return 60*a}),this.config.percentageWarnings.forEach(function(a){e.activeWarnings.push(60*c*a/100)});this.refreshControlinterval=setInterval(this.refresh.bind(this),1E3);this.lastTimestamp=new Date;a.notify(this.config.startMessage,{type:"warning",timeOut:1E4});n.trigger("timer.notify:started",this)};B.prototype.terminateTimer=function(){this.setActive(!1);
this.startTime="";this.timeLeft=this.limit=0;this.isRunning=!1;this.currentAssessment=null;this.activeWarnings=[];this.lastTimestamp=null;clearInterval(this.refreshControlinterval);n.trigger("timer.notify:stopped",this)};B.prototype.refresh=function(){var c=(new Date-this.lastTimestamp)/1E3;3<c?this.timeLeft-=Math.floor(c):this.timeLeft--;c=this.timeLeft;if(0>=c){var d=this.currentAssessment.scorecard;var e=this.currentAssessment.guid;this.terminateTimer();n.trigger("timer.notify:ended",this);k.isAssessment(d)?
(n.on("content.loaded",u),t.submit(d,e)):(n.trigger("submitAll.submit:before",!1,t,e,d),k.saveSubmitAllStatus(d),n.trigger("submitAll.submit:after",!1,t,e,d),a.alert("<strong>"+k.getParentActivity(d,"title")+"</strong><p>"+z.prototype.config.timer.finishMessage+"</p>"))}this.lastTimestamp=new Date;for(d=0;d<this.activeWarnings.length;d++)if(this.activeWarnings[d]>=c){n.trigger("timer.notify:warning",c,this);this.activeWarnings.splice(d,1);break}};B.prototype.getSaveData=function(){return Number(this.startTime)+
" "+this.currentAssessment.guid+" "+this.currentAssessment.scorecard};B.prototype.isTimed=function(){return this.isRunning};B.prototype.getTimeLimit=function(){return 60*this.limit};B.prototype.getTimeLeft=function(){return this.timeLeft};return new z});
define("app/lrs","module jquery app/configuration app/events app/submitAll app/courseApi app/questionApi app/timer app/utilities/XyTools app/utilities/promise".split(" "),function(m,d,h,n,p,q,t,k,a,f){function l(a,c){if(!a)throw"Failed to reset LRS data for current assessment";var d=B(a,c);I="defaultOrganization"!==d.id?I.filter(function(a){var c=a.id!==d.id;a.othersId&&a.othersId.forEach(function(a){a===d.id&&(c=!1)});return c}):[]}function c(a){return I.some(function(c){return a===c.id})}function e(a){return I.some(function(c){return a===
c.id&&c.isFinished})}function u(a){var c=I.filter(function(c){return c.id===a});return 0<c.length?c[0].type:""}function z(a){var c=I.filter(function(c){return c.id===a});return 0<c.length?c[0].score:""}function B(a,c){var d=a.level;c=c||q.getCurrentActivity();var e=G(c,[]);c=q.getMenuItems().filter(function(a){return e.includes(a.id)});if(c.length>d){var f=c[c.length-d-1];f.othersId=[];c.splice(c.length-d-1);c.forEach(function(a){q.isAnyAssessment(a.id)&&f.othersId.push(a.id)})}else f={id:"defaultOrganization"};
f.guid=a.guid;return f}function G(a,c){if(a.parent){var d=q.getActivityById(a.parent);G(d,c);c.push(a.id)}return c}var x=!1,I=[],H=null,A={BinDrop:"matching",DragDrop:"matching",EssayActivity:"long-fill-in",FillInBlank:"fill-in",ImageMapAssessment:"choice",MatchingActivity:"matching",Matrix:"matching",MultipleChoice:"choice",SelectHotText:"choice",SequenceActivity:"sequencing"},D={BinDrop:"bin-drop",DragDrop:"drag-and-drop",EssayActivity:"essay",FillInBlank:"fill-in-blanks",ImageMapAssessment:"image-map",
MatchingActivity:"matching",Matrix:"matrix",MultipleChoice:"choice",SelectHotText:"hot-text",SequenceActivity:"sequencing"};var C=function(){this.config={submitUrl:""}};C.prototype.init=function(){this.config=d.extend({},this.config,h.configure(m.id));n.on("player.start",this.playerStartEvent).on("content.loaded",this.initAssessmentEvent).on("content.url:changed",this.openContentEvent).on("media.played",this.mediaPlayedEvent).on("submitAll.submit:after",this.submitAllEvent).on("player.unload:after",
this.unloadEvent).on("scoreCard.render:after",this.submitAssessmentEvent).on("player.retake:triggered",this.retakeEvent).on("questionModel.submit:answered",this.submitQuestionEvent).on("choiceBranch.submit:before",this.selectChoiceBranchEvent).on("choiceBranch.reset:before",this.resetChoiceBranchEvent)};C.prototype.playerStartEvent=function(){var a=q.retrieveAdditionalData("LRS")||"";x=!0;""!==a&&(a=a.split("|"),a.forEach(function(a){var c={};var e=a.split(";")[0];0<e.indexOf(" ")?(e=e.split(" "),
c.id=e[0],c.othersId=e.splice(1)):(c.id=e,c.othersId=[]);a=a.split(";")[1].split(" ");c=d.extend(c,{isFinished:"true"===a[0],type:a[1],limit:a[2],score:a[3]});I.push(c)}))};C.prototype.openContentEvent=function(){var a=t.getCurrentPageQuestions();if(a&&0!==a.length&&!a[0].model.get("isScorecard")&&(a=t.getCurrentPageData(),a=a.assessmentroot,"undefined"!==typeof a))var c=a.guid;n.trigger("lrs.content:opened",{guid:q.getCurrentActivity("guid"),assessment:c})};C.prototype.mediaPlayedEvent=function(a){var c=
t.getCurrentPageData().assessmentroot;if("undefined"!==typeof c)var d=c.guid;n.trigger("lrs.media:played",{guid:a.guid,type:a.type,name:a.name,duration:a.duration,offset:a.offset,totalLength:a.totalLength,assessment:d,page:q.getCurrentActivity("guid")})};C.prototype.initAssessmentEvent=function(){var d=t.getCurrentPageQuestions();if(d&&0!==d.length){var e=t.getCurrentPageData();var f=e.assessmentroot;if("undefined"===typeof f)H=null,x=!1;else if(!d[0].model.get("isScorecard")){d=B(f);H={id:d.id,guid:f.guid};
var k=q.processScorecard(!0,d.id);e=t.getBehaviorData(e.questions[0].behavior);e=e.enhancedscorecard&&!isNaN(parseInt(e.enhancedscorecard.retrylimit))?parseInt(e.enhancedscorecard.retrylimit)-k.attempts:"";c(d.id)||(I.push({id:d.id,othersId:d.othersId,isFinished:!1,type:q.getBookmarkType(),limit:e,score:""}),x&&/Resume/.test(q.getBookmarkType())||(n.trigger("lrs.assessment:started",{id:d.id,rawMasterScore:k.passingScore,title:k.title,attempt:k.attempts,guid:f.guid,timerMaxDuration:a.convertMillisToSCORM2004Time(6E4*
t.getTimeLimit())}),x=!1))}}else x=!1};C.prototype.submitAssessmentEvent=function(){var d;var f=t.getCurrentPageData().assessmentroot;if("undefined"===typeof f)throw"Failed to save LRS data for current assessment";if(!p.isSubmitAll()&&!p.hasContextAwareness()){var h=B(f);if(d=!/Retake/.test(u(h.id))){var l=!0,m=q.getSectionStatusData(q.getParentActivity(q.findScorecard(),"id"));for(x in m)d=m[x],"Attempted"===d&&(l=!1);d=!!l}if(!d&&c(h.id)){var x=q.processScorecard(!0,h.id);if(!e(h.id)||z(h.id)!==
x.score)for(d=k.getResult(f.guid),n.trigger("lrs.assessment:ended",{id:h.id,rawMasterScore:x.passingScore,title:x.title,score:x.score,attempt:x.attempts,timerDuration:a.convertMillisToSCORM2004Time(1E3*d),timerExpired:0===d,guid:f.guid}),f=0;f<I.length;f++)I[f].id===h.id&&(I[f].isFinished=!0,I[f].score=x.score)}}};C.prototype.submitAllEvent=function(d,h,l){(new f(function(a,d){(d=t.getCurrentPageData().assessmentroot)||"string"!==typeof h||(d={guid:h,level:0});if("undefined"===typeof d)throw"Failed to save LRS data for current assessment";
var f=l?{id:q.getParentActivity(l,"id"),guid:h}:B(d);if(c(f.id)&&!e(f.id)){var k=function(){n.off("player.unload:after",k);n.off("content.loaded",k);a(f)};n.on("player.unload:after",k);n.on("content.loaded",k)}})).then(function(c){c=c[0];var e=q.processScorecard(!0,c.id);var f=60*t.getTimeLimit(c.guid);var h=k.getResult(c.guid);d.isSubmitAll(c.id)&&n.trigger("lrs.questions:submitall",!1,F.reportAllQuestions(e));n.trigger("lrs.assessment:ended",{id:c.id,rawMasterScore:e.passingScore,title:e.title,
score:e.score,attempt:e.attempts,timerDuration:a.convertMillisToSCORM2004Time(1E3*(f-h)),timerExpired:0===h,timerMaxDuration:a.convertMillisToSCORM2004Time(1E3*f),guid:c.guid});for(h=0;h<I.length;h++)I[h].id===c.id&&(I[h].isFinished=!0,I[h].score=e.score)})};C.prototype.reportAllQuestions=function(a){var c=[],d=1;a.containers.forEach(function(a){c=c.concat(F.reportAllQuestions(a))});a.pages.forEach(function(a){a.questions.forEach(function(e,f){c.push(F.processQuestion(a,e,d++))})});return c};C.prototype.processQuestion=
function(a,c,e){var f=c.guid,k=t.getQuestionData(f);a={guid:f,interactionType:A[k.type],originalType:D[k.type],context:{orderInAssessment:e,assessmentId:H.id,assessmentGuid:H.guid,pageId:a.id,pageGuid:a.guid},result:{completion:"Attempted"===c.status,success:"correct"===c.result,response:c.response?c.response:"",attempt:1},definition:{description:F.processDistractor(k.questionstem)}};"MultipleChoice"===k.type&&(a.definition=d.extend(a.definition,F.getMcqData(k,null,c)));return a};C.prototype.getMcqData=
function(a,c,d){var e=F.processChoices(a.option),f=Array(e.length),k=[];k=c?c.get("answerOrder"):d&&d.order?d.order:[];k.forEach(function(a,c){f[c]=e[a-1]});0===k.length&&(f=e);return{choices:f,correctResponsesPattern:[a.option.map(function(a,c){return"true"===a.iscorrect?c+1:null}).filter(function(a){return null!=a}).join("[,]")]}};C.prototype.unloadEvent=function(){var a=q.getBookmarkType(),c=I.length-1,d="";(/Retake/.test(a)||/Review/.test(a))&&F.submitAssessmentEvent();if(p.isSubmitAll()||p.hasContextAwareness())d=
B(t.getCurrentPageData().assessmentroot||{}).id;var e=I.reduce(function(e,f,k){if(d===f.id&&/Retake/.test(a)&&q.hasQuestions()&&(""===f.limit||0<=f.limit))return e;e+=f.id;f.othersId&&0<f.othersId.length&&(e+=" "+f.othersId.join(" "));e+=";"+f.isFinished+" "+f.type+" "+f.limit+" "+f.score;k<c&&(e+="|");return e},"");(""!==e||q.retrieveAdditionalData("LRS"))&&q.storeAdditionalData("LRS",e)};C.prototype.retakeEvent=function(){var a=t.getCurrentPageData().assessmentroot;l(a)};C.prototype.selectChoiceBranchEvent=
function(a){a=F._collectChoiceBranchData(a);n.trigger("lrs.choiceBranch:selected",a)};C.prototype.resetChoiceBranchEvent=function(a){function c(a){a=a.children;for(var d,f=0;f<a.length;f++)d=q.getActivityById(a[f]),d.isLeaf?q.isScorecard(d.id)&&(e=t.getPageData(q.getActivityById(d.id,"guid")).assessmentroot,l(e,d)):c(d)}a=F._collectChoiceBranchData(a);var d=q.getParentActivity(),e;c(d);n.trigger("lrs.choiceBranch:discarded",a)};C.prototype.submitQuestionEvent=function(a){if(!H||p.isSubmitAll())return!1;
var c={guid:a.id,interactionType:A[a.get("type")],originalType:D[a.get("type")],context:{orderInAssessment:q.getCurrentPageNumberInContainer(),assessmentId:H.id,assessmentGuid:H.guid,pageId:q.getCurrentActivity("id"),pageGuid:q.getCurrentActivity("guid")},result:{completion:a.get("isSubmitAll")||!a.get("remainingAttempts")||a.get("satisfied"),success:"correct"===a.get("result"),response:a.get("answers").join(","),attempt:a.get("timesAttempted")},definition:{description:F.processDistractor(a.get("questionstem"))}};
if("MultipleChoice"===a.get("type")){var e=t.getQuestionData(a.id);c.definition=d.extend(c.definition,F.getMcqData(e,a))}n.trigger("lrs.question:answered",c)};C.prototype.processDistractor=function(a){return null==a?"":a.richtext?a.richtext:a.figure?a.figure.mediaobject.renditions.web.uri:a.movie?a.movie.launchmovie:a.audio?a.audio.audiofile:a};C.prototype.processChoices=function(a){return a.map(function(a,c){return{id:c+1,description:F.processDistractor(a.distractor)}})};C.prototype._getCurrentAssessment=
function(){return H};C.prototype._setCurrentAssessment=function(a){return H=a};C.prototype._collectChoiceBranchData=function(a){a=a.getStatementData();return{context:{pageId:q.getCurrentActivity("id"),pageGuid:q.getCurrentActivity("guid")},result:{response:a.response},definition:{description:a.choiceBranchStem,choices:a.choices}}};var F=new C;n.trigger("player.lrs:loaded",!0,F);return F});
define("app/loader","module jquery skin/skin elements/elements elements/questions/questions app/navigation app/events app/configuration app/player/integration app/player/communication app/courseApi app/completionApi app/questionApi app/courseExit app/submitAll app/hotkeys app/lrs app/timer app/sessionData".split(" "),function(m,d,h,n,p,q,t,k,a,f,l,c,e,u,z,B,G,x,I){var H=function(){this.config={modules:[n,h,p,q,t,c,e,f,l,z,a,u,B,x,I]}};H.prototype.init=function(){var a;t.trigger("loader.init:before",
this);this.config=d.extend(this.config,k.configure(m.id));"Server-side"!==PLAYER_TYPE&&"CSPModern"!==PLAYER_TYPE||this.config.modules.push(G);var c=0;for(a=this.config.modules.length;c<a;c+=1)"function"===typeof this.config.modules[c].init&&this.config.modules[c].init();t.trigger("loader.init:after",this);return this};H=new H;t.trigger("loader.loaded",!0,H);return H});
(function(){function m(d,a){function f(a,c){return function(){return a.apply(c,arguments)}}a=a||{};this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0;this.touchBoundary=a.touchBoundary||10;this.layer=d;this.tapDelay=a.tapDelay||200;this.tapTimeout=a.tapTimeout||700;if(!m.notNeeded(d)){a="onMouse onClick onTouchStart onTouchMove onTouchEnd onTouchCancel".split(" ");for(var k=0,c=a.length;k<c;k++)this[a[k]]=f(this[a[k]],
this);h&&(d.addEventListener("mouseover",this.onMouse,!0),d.addEventListener("mousedown",this.onMouse,!0),d.addEventListener("mouseup",this.onMouse,!0));d.addEventListener("click",this.onClick,!0);d.addEventListener("touchstart",this.onTouchStart,!1);d.addEventListener("touchmove",this.onTouchMove,!1);d.addEventListener("touchend",this.onTouchEnd,!1);d.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(d.removeEventListener=function(a,c,e){var f=Node.prototype.removeEventListener;
"click"===a?f.call(d,a,c.hijacked||c,e):f.call(d,a,c,e)},d.addEventListener=function(a,c,e){var f=Node.prototype.addEventListener;"click"===a?f.call(d,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),e):f.call(d,a,c,e)});if("function"===typeof d.onclick){var e=d.onclick;d.addEventListener("click",function(a){e(a)},!1);d.onclick=null}}}var d=0<=navigator.userAgent.indexOf("Windows Phone"),h=0<navigator.userAgent.indexOf("Android")&&!d,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&
!d,p=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),q=n&&/OS [6-7]_\d/.test(navigator.userAgent),t=0<navigator.userAgent.indexOf("BB10");m.prototype.needsClick=function(d){switch(d.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(d.disabled)return!0;break;case "input":if(n&&"file"===d.type||d.disabled)return!0;break;case "label":case "iframe":case "video":return!0}return/\bneedsclick\b/.test(d.className)};m.prototype.needsFocus=function(d){switch(d.nodeName.toLowerCase()){case "textarea":return!0;
case "select":return!h;case "input":switch(d.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return!1}return!d.disabled&&!d.readOnly;default:return/\bneedsfocus\b/.test(d.className)}};m.prototype.sendClick=function(d,a){document.activeElement&&document.activeElement!==d&&document.activeElement.blur();var f=a.changedTouches[0];a=document.createEvent("MouseEvents");a.initMouseEvent(this.determineEventType(d),!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,
!1,!1,!1,!1,0,null);a.forwardedTouchEvent=!0;d.dispatchEvent(a)};m.prototype.determineEventType=function(d){return h&&"select"===d.tagName.toLowerCase()?"mousedown":"click"};m.prototype.focus=function(d){if(n&&d.setSelectionRange&&0!==d.type.indexOf("date")&&"time"!==d.type&&"month"!==d.type&&"email"!==d.type){var a=d.value.length;d.setSelectionRange(a,a)}else d.focus()};m.prototype.updateScrollParent=function(d){var a=d.fastClickScrollParent;if(!a||!a.contains(d)){var f=d;do{if(f.scrollHeight>f.offsetHeight){a=
f;d.fastClickScrollParent=f;break}f=f.parentElement}while(f)}a&&(a.fastClickLastScrollTop=a.scrollTop)};m.prototype.getTargetElementFromEventTarget=function(d){return d.nodeType===Node.TEXT_NODE?d.parentNode:d};m.prototype.onTouchStart=function(d){if(1<d.targetTouches.length)return!0;var a=this.getTargetElementFromEventTarget(d.target);var f=d.targetTouches[0];if(n){var k=window.getSelection();if(k.rangeCount&&!k.isCollapsed)return!0;if(!p){if(f.identifier&&f.identifier===this.lastTouchIdentifier)return d.preventDefault(),
!1;this.lastTouchIdentifier=f.identifier;this.updateScrollParent(a)}}this.trackingClick=!0;this.trackingClickStart=d.timeStamp;this.targetElement=a;this.touchStartX=f.pageX;this.touchStartY=f.pageY;d.timeStamp-this.lastClickTime<this.tapDelay&&d.preventDefault();return!0};m.prototype.touchHasMoved=function(d){d=d.changedTouches[0];var a=this.touchBoundary;return Math.abs(d.pageX-this.touchStartX)>a||Math.abs(d.pageY-this.touchStartY)>a?!0:!1};m.prototype.onTouchMove=function(d){if(!this.trackingClick)return!0;
if(this.targetElement!==this.getTargetElementFromEventTarget(d.target)||this.touchHasMoved(d))this.trackingClick=!1,this.targetElement=null;return!0};m.prototype.findControl=function(d){return void 0!==d.control?d.control:d.htmlFor?document.getElementById(d.htmlFor):d.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};m.prototype.onTouchEnd=function(d){var a=this.targetElement;if(!this.trackingClick)return!0;if(d.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=
!0;if(d.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;this.cancelNextClick=!1;this.lastClickTime=d.timeStamp;var f=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;if(q){var k=d.changedTouches[0];a=document.elementFromPoint(k.pageX-window.pageXOffset,k.pageY-window.pageYOffset)||a;a.fastClickScrollParent=this.targetElement.fastClickScrollParent}k=a.tagName.toLowerCase();if("label"===k){if(f=this.findControl(a)){this.focus(a);if(h)return!1;a=f}}else if(this.needsFocus(a)){if(100<
d.timeStamp-f||n&&window.top!==window&&"input"===k)return this.targetElement=null,!1;this.focus(a);this.sendClick(a,d);n&&"select"===k||(this.targetElement=null,d.preventDefault());return!1}if(n&&!p&&(f=a.fastClickScrollParent)&&f.fastClickLastScrollTop!==f.scrollTop)return!0;this.needsClick(a)||(d.preventDefault(),this.sendClick(a,d));return!1};m.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};m.prototype.onMouse=function(d){return this.targetElement&&!d.forwardedTouchEvent&&
d.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(d.stopImmediatePropagation?d.stopImmediatePropagation():d.propagationStopped=!0,d.stopPropagation(),d.preventDefault(),!1):!0:!0};m.prototype.onClick=function(d){if(this.trackingClick)return this.targetElement=null,this.trackingClick=!1,!0;if("submit"===d.target.type&&0===d.detail)return!0;d=this.onMouse(d);d||(this.targetElement=null);return d};m.prototype.destroy=function(){var d=this.layer;h&&(d.removeEventListener("mouseover",
this.onMouse,!0),d.removeEventListener("mousedown",this.onMouse,!0),d.removeEventListener("mouseup",this.onMouse,!0));d.removeEventListener("click",this.onClick,!0);d.removeEventListener("touchstart",this.onTouchStart,!1);d.removeEventListener("touchmove",this.onTouchMove,!1);d.removeEventListener("touchend",this.onTouchEnd,!1);d.removeEventListener("touchcancel",this.onTouchCancel,!1)};m.notNeeded=function(d){var a,f;if("undefined"===typeof window.ontouchstart)return!0;if(f=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||
[,0])[1])if(h){if((a=document.querySelector("meta[name=viewport]"))&&(-1!==a.content.indexOf("user-scalable=no")||31<f&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return t&&(a=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),10<=a[1]&&3<=a[2]&&(a=document.querySelector("meta[name=viewport]"))&&(-1!==a.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===d.style.msTouchAction||"manipulation"===d.style.touchAction||
27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(a=document.querySelector("meta[name=viewport]"))&&(-1!==a.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)?!0:"none"===d.style.touchAction||"manipulation"===d.style.touchAction?!0:!1};m.attach=function(d,a){return new m(d,a)};"function"===typeof define&&"object"===typeof define.amd&&define.amd?define("vendor/fastclick/fastclick",[],function(){return m}):"undefined"!==typeof module&&module.exports?
(module.exports=m.attach,module.exports.FastClick=m):window.FastClick=m})();
define("vendor/polyfill/scrollIntoViewIfNeeded",[],function(){Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(m){function d(a){a=a.parentNode;return a===document?document:a.offsetHeight<a.scrollHeight||a.offsetWidth<a.scrollWidth?a:d(a)}var h=d(this),n=window.getComputedStyle(h,null),p=parseInt(n.getPropertyValue("border-top-width"));n=parseInt(n.getPropertyValue("border-left-width"));var q=this.offsetTop-h.offsetTop<h.scrollTop,t=this.offsetTop-h.offsetTop+
this.clientHeight-p>h.scrollTop+h.clientHeight,k=this.offsetLeft-h.offsetLeft<h.scrollLeft,a=this.offsetLeft-h.offsetLeft+this.clientWidth-n>h.scrollLeft+h.clientWidth;m=0===arguments.length?!0:!!m;(q||t)&&m&&(h.scrollTop=this.offsetTop-h.offsetTop-h.clientHeight/2-p+this.clientHeight/2);(k||a)&&m&&(h.scrollLeft=this.offsetLeft-h.offsetLeft-h.clientWidth/2-n+this.clientWidth/2);(q||t||k||a)&&!m&&this.scrollIntoView(q&&!t)})});
(function(m,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define("vendor/polyfill/ResizeObserver",d):m.ResizeObserver=d()})(this,function(){function m(a,c){function d(){k&&(k=!1,a());h&&f()}function e(){q(d)}function f(){var a=Date.now();if(k){if(2>a-l)return;h=!0}else k=!0,h=!1,setTimeout(e,c);l=a}var k=!1,h=!1,l=0;return f}function d(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return c.reduce(function(c,d){return c+
(parseFloat(a["border-"+d+"-width"])||0)},0)}var h=function(){function a(a,c){var d=-1;a.some(function(a,e){return a[0]===c?(d=e,!0):!1});return d}return"undefined"!==typeof Map?Map:function(){function c(){this.__entries__=[]}Object.defineProperty(c.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0});c.prototype.get=function(c){c=a(this.__entries__,c);return(c=this.__entries__[c])&&c[1]};c.prototype.set=function(c,d){var e=a(this.__entries__,c);~e?this.__entries__[e][1]=
d:this.__entries__.push([c,d])};c.prototype.delete=function(c){var d=this.__entries__;c=a(d,c);~c&&d.splice(c,1)};c.prototype.has=function(c){return!!~a(this.__entries__,c)};c.prototype.clear=function(){this.__entries__.splice(0)};c.prototype.forEach=function(a,c){void 0===c&&(c=null);for(var d=0,e=this.__entries__;d<e.length;d++){var f=e[d];a.call(c,f[1],f[0])}};return c}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,p="undefined"!==typeof global&&
global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&Math===Math?window:Function("return this")(),q=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(p):function(a){return setTimeout(function(){return a(Date.now())},1E3/60)}}(),t="top right bottom left width height size weight".split(" "),k="undefined"!==typeof MutationObserver,a=function(){function a(){this.mutationEventsAdded_=this.connected_=!1;this.mutationsObserver_=
null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=m(this.refresh.bind(this),20)}a.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a);this.connected_||this.connect_()};a.prototype.removeObserver=function(a){var c=this.observers_;a=c.indexOf(a);~a&&c.splice(a,1);!c.length&&this.connected_&&this.disconnect_()};a.prototype.refresh=function(){this.updateObservers_()&&this.refresh()};a.prototype.updateObservers_=function(){var a=
this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});a.forEach(function(a){return a.broadcastActive()});return 0<a.length};a.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),k?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",
this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};a.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.connected_=this.mutationEventsAdded_=!1)};a.prototype.onTransitionEnd_=function(a){a=
a.propertyName;var c=void 0===a?"":a;t.some(function(a){return!!~c.indexOf(a)})&&this.refresh()};a.getInstance=function(){this.instance_||(this.instance_=new a);return this.instance_};a.instance_=null;return a}(),f=function(a,c){for(var d=0,e=Object.keys(c);d<e.length;d++){var f=e[d];Object.defineProperty(a,f,{value:c[f],enumerable:!1,writable:!1,configurable:!0})}return a},l=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||p},c={x:0,y:0,width:0,height:0},e=function(){return"undefined"!==
typeof SVGGraphicsElement?function(a){return a instanceof l(a).SVGGraphicsElement}:function(a){return a instanceof l(a).SVGElement&&"function"===typeof a.getBBox}}(),u=function(){function a(a){this.broadcastHeight=this.broadcastWidth=0;this.contentRect_={x:0,y:0,width:0,height:0};this.target=a}a.prototype.isActive=function(){var a=this.target;if(n)if(e(a)){var f=a.getBBox();f={x:0,y:0,width:f.width,height:f.height}}else{var k=a.clientWidth,h=a.clientHeight;if(k||h){var m=l(a).getComputedStyle(a);
f={};for(var p=0,q=["top","right","bottom","left"];p<q.length;p++){var t=q[p];f[t]=parseFloat(m["padding-"+t])||0}var u=f.left+f.right;t=f.top+f.bottom;p=parseFloat(m.width)||0;q=parseFloat(m.height)||0;"border-box"===m.boxSizing&&(Math.round(p+u)!==k&&(p-=d(m,"left","right")+u),Math.round(q+t)!==h&&(q-=d(m,"top","bottom")+t));a!==l(a).document.documentElement&&(a=Math.round(p+u)-k,h=Math.round(q+t)-h,1!==Math.abs(a)&&(p-=a),1!==Math.abs(h)&&(q-=h));f={x:f.left,y:f.top,width:p,height:q}}else f=c}else f=
c;this.contentRect_=f;return f.width!==this.broadcastWidth||f.height!==this.broadcastHeight};a.prototype.broadcastRect=function(){var a=this.contentRect_;this.broadcastWidth=a.width;this.broadcastHeight=a.height;return a};return a}(),z=function(){return function(a,c){var d=c.x,e=c.y,k=c.width;c=c.height;var h=Object.create(("undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype);f(h,{x:d,y:e,width:k,height:c,top:e,right:d+k,bottom:c+e,left:d});f(this,{target:a,contentRect:h})}}(),
B=function(){function a(a,c,d){this.activeObservations_=[];this.observations_=new h;if("function"!==typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a;this.controller_=c;this.callbackCtx_=d}a.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(a instanceof l(a).Element))throw new TypeError('parameter 1 is not of type "Element".');
var c=this.observations_;c.has(a)||(c.set(a,new u(a)),this.controller_.addObserver(this),this.controller_.refresh())}};a.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(a instanceof l(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var c=this.observations_;c.has(a)&&(c.delete(a),c.size||this.controller_.removeObserver(this))}};a.prototype.disconnect=
function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};a.prototype.gatherActive=function(){var a=this;this.clearActive();this.observations_.forEach(function(c){c.isActive()&&a.activeObservations_.push(c)})};a.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,c=this.activeObservations_.map(function(a){return new z(a.target,a.broadcastRect())});this.callback_.call(a,c,a);this.clearActive()}};a.prototype.clearActive=function(){this.activeObservations_.splice(0)};
a.prototype.hasActive=function(){return 0<this.activeObservations_.length};return a}(),G="undefined"!==typeof WeakMap?new WeakMap:new h,x=function(){function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=a.getInstance();e=new B(d,e,this);G.set(this,e)}return c}();["observe","unobserve","disconnect"].forEach(function(a){x.prototype[a]=function(){var c;return(c=G.get(this))[a].apply(c,
arguments)}});var I="undefined"!==typeof p.ResizeObserver?p.ResizeObserver:p.ResizeObserver=x;return I});define("vendor/polyfill/polyfill",["vendor/polyfill/scrollIntoViewIfNeeded","vendor/polyfill/ResizeObserver"],function(){});
!function(){function m(a,c){return function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];try{return a.apply(void 0,d)}catch(ab){qa.error(c,ab)}}}function d(a){$a=a}function h(a,c,d){var e=d.value;d.value=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return(Ba?n(e):e).apply(this,a)}}function n(a){return function(){return p(a,this,arguments)}}function p(a,c,d){try{return a.apply(c,d)}catch(ob){if(q(xa.error,ob),Ba)try{Ba(ob)}catch(ab){q(xa.error,ab)}}}function q(a){for(var c=
[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];$a&&qa.apply(void 0,Qb([a,"[MONITOR]"],c,!1))}function t(a,c,d){var e,f,k=!d||void 0===d.leading||d.leading,h=!d||void 0===d.trailing||d.trailing,l=!1;return{throttled:function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];l?e=d:(k?a.apply(void 0,d):e=d,l=!0,f=setTimeout(function(){h&&e&&a.apply(void 0,e);l=!1;e=void 0},c))},cancel:function(){clearTimeout(f);l=!1;e=void 0}}}function k(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=
arguments[d];return c.forEach(function(c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}),a}function a(c){return c?(parseInt(c,10)^16*Math.random()>>parseInt(c,10)/4).toString(16):"".concat(1E7,"-").concat(1E3,"-").concat(4E3,"-").concat(8E3,"-").concat(1E11).replace(/[018]/g,a)}function f(a){return 0!==a&&100*Math.random()<=a}function l(){}function c(a,c,d){if("object"!=typeof a||null===a)return JSON.stringify(a);var f=e(Object.prototype),k=e(Array.prototype),h=e(Object.getPrototypeOf(a)),
l=e(a);try{return JSON.stringify(a,c,d)}catch(pc){return"<error: unable to serialize object>"}finally{f(),k(),h(),l()}}function e(a){var c=a.toJSON;return c?(delete a.toJSON,function(){a.toJSON=c}):l}function u(a){if(Array.from)return Array.from(a);var c=[];if(a instanceof Set)a.forEach(function(a){return c.push(a)});else for(var d=0;d<a.length;d++)c.push(a[d]);return c}function z(a){return"number"==typeof a&&0<=a&&100>=a}function B(a){return Object.keys(a).map(function(c){return a[c]})}function G(){if("object"==
typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var a=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof a&&(a="object"==typeof self?self:"object"==typeof window?window:{}),a}function x(a,c,d){void 0===d&&(d="");var e=a.charCodeAt(c-1);c=55296<=e&&56319>=e?c+1:c;return a.length<=c?a:"".concat(a.slice(0,c)).concat(d)}function I(a,c,d,e){return H(a,[c],d,e)}function H(a,c,d,e){e=void 0===e?{}:e;var f=
e.capture,k=e.passive,h=n(e.once?function(a){m();d(a)}:d),l=k?{capture:f,passive:k}:f;c.forEach(function(c){return a.addEventListener(c,h,l)});var m=function(){return c.forEach(function(c){return a.removeEventListener(c,h,l)})};return{stop:m}}function A(a,c,d){if(void 0===d&&(d=function(){if("undefined"!=typeof WeakSet){var a=new WeakSet;return{hasAlreadyBeenSeen:function(c){var d=a.has(c);return d||a.add(c),d}}}var c=[];return{hasAlreadyBeenSeen:function(a){var d=0<=c.indexOf(a);return d||c.push(a),
d}}}()),void 0===c)return a;if("object"!=typeof c||null===c)return c;if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp)return d=c.flags||[c.global?"g":"",c.ignoreCase?"i":"",c.multiline?"m":"",c.sticky?"y":"",c.unicode?"u":""].join(""),new RegExp(c.source,d);if(!d.hasAlreadyBeenSeen(c)){if(Array.isArray(c)){var e=Array.isArray(a)?a:[];for(a=0;a<c.length;++a)e[a]=A(e[a],c[a],d);return e}a="object"==(null===a?"null":Array.isArray(a)?"array":typeof a)?a:{};for(e in c)Object.prototype.hasOwnProperty.call(c,
e)&&(a[e]=A(a[e],c[e],d));return a}}function D(a){return A(void 0,a)}function C(){for(var a,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];for(d=0;d<c.length;d++){var e=c[d];null!=e&&(a=A(a,e))}return a}function F(){var a={};return{get:function(){return a},add:function(c,d){a[c]=d},remove:function(c){delete a[c]},set:function(c){a=c},getContext:function(){return D(a)},setContext:function(c){a=D(c)},setContextProperty:function(c,d){a[c]=D(d)},removeContextProperty:function(c){delete a[c]},clearContext:function(){a=
{}}}}function E(){return(new Date).getTime()}function K(){return{relative:performance.now(),timeStamp:E()}}function N(){var a=G().DatadogEventBridge;if(a)return{getAllowedWebViewHosts:function(){return JSON.parse(a.getAllowedWebViewHosts())},send:function(c,d){a.send(JSON.stringify({eventType:c,event:d}))}}}function Y(a){var c;void 0===a&&(a=null===(c=G().location)||void 0===c?void 0:c.hostname);c=N();return!!c&&c.getAllowedWebViewHosts().some(function(c){return a===c||(d=a,e=".".concat(c),d.slice(-e.length)===
e);var d,e})}function P(a,c,d,e){var f=new Date;f.setTime(f.getTime()+d);d="expires=".concat(f.toUTCString());f=e&&e.crossSite?"none":"strict";var k=e&&e.domain?";domain=".concat(e.domain):"";e=e&&e.secure?";secure":"";document.cookie="".concat(a,"=").concat(c,";").concat(d,";path=/;samesite=").concat(f).concat(k).concat(e)}function W(a){var c=document.cookie;return(a=(new RegExp("(?:^|;)\\s*".concat(a,"\\s*=\\s*([^;]+)"))).exec(c))?a[1]:void 0}function ha(a){var c=window.location;if(c.origin)c=c.origin;
else{var d=c.host.replace(/(:80|:443)$/,"");c="".concat(c.protocol,"//").concat(d)}return ja(a,c).href}function ja(a,c){if(function(){if(void 0!==bb)return bb;try{return bb="http://test/path"===(new URL("http://test/path")).href}catch(ma){bb=!1}return bb}())return void 0!==c?new URL(a,c):new URL(a);if(void 0===c&&!/:/.test(a))throw Error("Invalid URL: '".concat(a,"'"));var d=document,e=d.createElement("a");if(void 0!==c){var f=(d=document.implementation.createHTMLDocument("")).createElement("base");
f.href=c;d.head.appendChild(f);d.body.appendChild(e)}return e.href=a,e}function ba(c,d,e){var f=c.site,k=c.clientToken;f=(void 0===f?"datadoghq.com":f).split(".");var h=f.pop();f="".concat(ca[d],".browser-intake-").concat(f.join("-"),".").concat(h);var l="https://".concat(f,"/api/v2/").concat(Wa[d]),m=c.proxyUrl&&ha(c.proxyUrl);return{build:function(){var c="ddsource=browser"+"&ddtags=".concat(encodeURIComponent(["sdk_version:".concat("4.17.0")].concat(e).join(",")))+"&dd-api-key=".concat(k)+"&dd-evp-origin-version=".concat(encodeURIComponent("4.17.0"))+
"&dd-evp-origin=browser"+"&dd-request-id=".concat(a());"rum"===d&&(c+="&batch_time=".concat(E()));c="".concat(l,"?").concat(c);return m?"".concat(m,"?ddforward=").concat(encodeURIComponent(c)):c},buildIntakeUrl:function(){return m?"".concat(m,"?ddforward"):l},endpointType:d}}function Z(a,c){(c.length>200-a.length-1||ya.test(c))&&qa.warn("".concat(a," value doesn't meet tag requirements and will be sanitized"));c=c.replace(/,/g,"_");return"".concat(a,":").concat(c)}function R(a){var c=function(a){var c=
a.env,d=a.service,e=a.version;a=a.datacenter;var f=[];return c&&f.push(Z("env",c)),d&&f.push(Z("service",d)),e&&f.push(Z("version",e)),a&&f.push(Z("datacenter",a)),f}(a),d=function(a,c){return{logsEndpointBuilder:ba(a,"logs",c),rumEndpointBuilder:ba(a,"rum",c),sessionReplayEndpointBuilder:ba(a,"sessionReplay",c)}}(a,c),e=B(d).map(function(a){return a.buildIntakeUrl()});c=function(a,c,d){if(a.replica){var e=k({},a,{site:"datadoghq.com",clientToken:a.replica.clientToken});d={logsEndpointBuilder:ba(e,
"logs",d),rumEndpointBuilder:ba(e,"rum",d)};return c.push.apply(c,B(d).map(function(a){return a.buildIntakeUrl()})),k({applicationId:a.replica.applicationId},d)}}(a,e,c);return k({isIntakeUrl:function(a){return e.some(function(c){return 0===a.indexOf(c)})},replica:c,site:a.site||"datadoghq.com"},d)}function cb(a){var c,d;if(a&&a.clientToken)if(void 0===a.sampleRate||z(a.sampleRate)){var e;if(void 0===a.telemetrySampleRate||z(a.telemetrySampleRate))return e=a.enableExperimentalFeatures,Array.isArray(e)&&
(rb||(rb=new Set(e)),e.filter(function(a){return"string"==typeof a}).forEach(function(a){rb.add(a)})),k({beforeSend:a.beforeSend&&m(a.beforeSend,"beforeSend threw an error:"),cookieOptions:Qa(a),sampleRate:null!==(c=a.sampleRate)&&void 0!==c?c:100,telemetrySampleRate:null!==(d=a.telemetrySampleRate)&&void 0!==d?d:20,service:a.service,silentMultipleInit:!!a.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3E3,maxTelemetryEventsPerPage:15,flushTimeout:3E4,batchMessagesLimit:50,messageBytesLimit:262144},
R(a));qa.error("Telemetry Sample Rate should be a number between 0 and 100")}else qa.error("Sample Rate should be a number between 0 and 100");else qa.error("Client Token is not configured, we will not send any data.")}function Qa(c){var d={};d.secure=!!c.useSecureSessionCookie||!!c.useCrossSiteSessionCookie;d.crossSite=!!c.useCrossSiteSessionCookie;if(c.trackSessionAcrossSubdomains){if(void 0===Ca){c="dd_site_test_".concat(a());for(var e=window.location.hostname.split("."),f=e.pop();e.length&&!W(c);)f=
"".concat(e.pop(),".").concat(f),P(c,"test",1E3,{domain:f});P(c,"",0,{domain:f});Ca=f}d.domain=Ca}return d}function S(a){var c=[],d=U(a,"stack");return d&&d.split("\n").forEach(function(a){(a=function(a){if(a=Wb.exec(a)){var c=a[2]&&0===a[2].indexOf("native"),d=a[2]&&0===a[2].indexOf("eval"),e=Ka.exec(a[2]);d&&e&&(a[2]=e[1],a[3]=e[2],a[4]=e[3]);return{args:c?[a[2]]:[],column:a[4]?+a[4]:void 0,func:a[1]||"?",line:a[3]?+a[3]:void 0,url:c?void 0:a[2]}}}(a)||function(a){if(a=Ib.exec(a))return{args:[],
column:a[3]?+a[3]:void 0,func:"?",line:a[2]?+a[2]:void 0,url:a[1]}}(a)||function(a){if(a=Bb.exec(a))return{args:[],column:a[4]?+a[4]:void 0,func:a[1]||"?",line:+a[3],url:a[2]}}(a)||function(a){if(a=Ta.exec(a)){var c=a[3]&&-1<a[3].indexOf(" > eval"),d=sb.exec(a[3]);c&&d&&(a[3]=d[1],a[4]=d[2],a[5]=void 0);return{args:a[2]?a[2].split(","):[],column:a[5]?+a[5]:void 0,func:a[1]||"?",line:a[4]?+a[4]:void 0,url:a[3]}}}(a))&&(!a.func&&a.line&&(a.func="?"),c.push(a))}),{message:U(a,"message"),name:U(a,"name"),
stack:c}}function U(a,c){if("object"==typeof a&&a&&c in a)return a=a[c],"string"==typeof a?a:void 0}function da(a){var c=Cb(a);return a.stack.forEach(function(a){var d="?"===a.func?"<anonymous>":a.func,e=a.args&&0<a.args.length?"(".concat(a.args.join(", "),")"):"",f=a.line?":".concat(a.line):"",k=a.line&&a.column?":".concat(a.column):"";c+="\n  at ".concat(d).concat(e," @ ").concat(a.url).concat(f).concat(k)}),c}function Cb(a){return"".concat(a.name||"Error",": ").concat(a.message)}function La(){var a,
c=Error();if(!c.stack)try{throw c;}catch(Na){}return p(function(){var d=S(c);d.stack=d.stack.slice(2);a=da(d)}),a}function Pa(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var d=new fb(function(){var c=a.map(function(a){return a.subscribe(function(a){return d.notify(a)})});return function(){return c.forEach(function(a){return a.unsubscribe()})}});return d}function db(a){var c,d=[];-1!==a.indexOf(gb.cspViolation)&&d.push(c=new fb(function(){var a=n(function(a){c.notify(function(a){var c=
gb.cspViolation,d="'".concat(a.blockedURI,"' blocked by '").concat(a.effectiveDirective,"' directive");return{type:gb.cspViolation,subtype:a.effectiveDirective,message:"".concat(c,": ").concat(d),stack:oa(a.effectiveDirective,"".concat(d,' of the policy "').concat(x(a.originalPolicy,100,"..."),'"'),a.sourceFile,a.lineNumber,a.columnNumber)}}(a))});return I(document,"securitypolicyviolation",a).stop}));a=a.filter(function(a){return a!==gb.cspViolation});return a.length&&d.push(function(a){var c=new fb(function(){if(window.ReportingObserver){var d=
n(function(a){return a.forEach(function(a){c.notify(function(a){var c=a.type;a=a.body;return{type:c,subtype:a.id,message:"".concat(c,": ").concat(a.message),stack:oa(a.id,a.message,a.sourceFile,a.lineNumber,a.columnNumber)}}(a))})}),e=new window.ReportingObserver(d,{types:a,buffered:!0});return e.observe(),function(){e.disconnect()}}});return c}(a)),Pa.apply(void 0,d)}function oa(a,c,d,e,f){return d&&da({name:a,message:c,stack:[{func:"?",url:d,line:e,column:f}]})}function M(a,c,d){return void 0===
a?[]:"all"===a||Array.isArray(a)&&a.every(function(a){return-1!==c.indexOf(a)})?"all"===a?c:(e=a,f=new Set,e.forEach(function(a){return f.add(a)}),u(f)):void qa.error("".concat(d,' should be "all" or an array with allowed values "').concat(c.join('", "'),'"'));var e,f}function Ra(){return!(!window._DATADOG_SYNTHETICS_INJECTS_RUM&&!W("datadog-synthetics-injects-rum"))}function Va(){var a=window._DATADOG_SYNTHETICS_RESULT_ID||W("datadog-synthetics-result-id");return"string"==typeof a?a:void 0}function Sa(a){var c,
d=new fb;return ka.telemetryEnabled=f(a.telemetrySampleRate),Ia=function(e){-1===gc.indexOf(a.site)&&ka.telemetryEnabled&&d.notify(function(a){return C({type:"telemetry",date:E(),service:"browser-sdk",version:"4.17.0",source:"browser",_dd:{format_version:2},telemetry:a,experimental_features:u(rb||new Set)},void 0!==c?c():{})}(e))},Ba=jb,k(ka,{maxEventsPerPage:a.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(a){c=a},observable:d}}function jb(a){a instanceof Error?(a=S(a),
a={error:{kind:a.name,stack:da(Kb(a))},message:a.message}):a={error:{stack:"Not an instance of error"},message:"Uncaught ".concat(c(a))};va(k({status:"error"},a))}function va(a){Ia&&ka.sentEventCount<ka.maxEventsPerPage&&(ka.sentEventCount+=1,Ia(a))}function Kb(a){return a.stack=a.stack.filter(function(a){return!a.url||kb.some(function(c){return d=a.url,e=c,d.slice(0,e.length)===e;var d,e})}),a}function pb(a,c,d){function e(c){return new hb(new hc(c,a.batchBytesLimit),a.batchMessagesLimit,a.batchBytesLimit,
a.messageBytesLimit,a.flushTimeout)}var f,k=e(c);return d&&(f=e(d)),{add:function(a,c){void 0===c&&(c=!0);k.add(a);f&&c&&f.add(a)}}}function fa(c,d){var e;if(void 0===d&&(d=0),nb||(nb=c),c===nb)if(100<=d)Xb();else{var f,k=ra();if(v()&&(k.lock||(f=a(),k.lock=f,mb(k,c.options),(k=ra()).lock!==f)))return void Db(c,d);var h=c.process(k);if(v()&&(k=ra()).lock!==f)Db(c,d);else{if(h&&Yb(h,c.options),v()&&(!h||!Xa(h))){if((k=ra()).lock!==f)return void Db(c,d);delete k.lock;mb(k,c.options);h=k}null===(e=c.after)||
void 0===e||e.call(c,h||k);Xb()}}else Vb.push(c)}function v(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}function Db(a,c){setTimeout(n(function(){fa(a,c+1)}),10)}function Xb(){nb=void 0;var a=Vb.shift();a&&fa(a)}function Yb(a,c){Xa(a)?P("_dd_s","",0,c):(a.expire=String(E()+9E5),mb(a,c))}function mb(a,c){P("_dd_s",function(a){return(c=a,Object.keys(c).map(function(a){return[a,c[a]]})).map(function(a){var c=a[1];return"".concat(a[0],"=").concat(c)}).join("&");var c}(a),
9E5,c)}function ra(){var a=W("_dd_s"),c={};return function(a){return void 0!==a&&(-1!==a.indexOf("&")||tb.test(a))}(a)&&a.split("&").forEach(function(a){a=tb.exec(a);null!==a&&(c[a[1]]=a[2])}),c}function Xa(a){return c=a,0===Object.keys(c).length;var c}function Ub(c,d,e){function f(a){return k(a)||(a={}),void 0!==p[d]&&(p.id===a.id&&p[d]===a[d]?p=a:(p={},l.notify())),a}function k(a){return(void 0===a.created||144E5>E()-Number(a.created))&&(void 0===a.expire||E()<Number(a.expire))}var h=new fb,l=new fb,
m=setInterval(n(function(){fa({options:c,process:function(a){return k(a)?void 0:{}},after:f})}),1E3),p=function(){var a=ra();return k(a)?a:{}}();return{expandOrRenewSession:t(n(function(){var k;fa({options:c,process:function(c){c=f(c);var h=e(c[d]),l=h.isTracked;c[d]=h.trackingType;l&&!c.id&&(c.id=a(),c.created=String(E()));return k=l,c},after:function(a){k&&void 0===p[d]&&(p=a,h.notify());p=a}})}),1E3).throttled,expandSession:function(){fa({options:c,process:function(a){return void 0!==p[d]?f(a):
void 0}})},getSession:function(){return p},renewObservable:h,expireObservable:l,stop:function(){clearInterval(m)}}}function qb(a,c,d){function e(){return{id:f.getSession().id,trackingType:f.getSession()[c]}}!function(a){var c=W("_dd_s"),d=W("_dd"),e=W("_dd_r"),f=W("_dd_l");c||(c={},d&&(c.id=d),f&&/^[01]$/.test(f)&&(c.logs=f),e&&/^[012]$/.test(e)&&(c.rum=e),Yb(c,a))}(a);var f=Ub(a,c,d);Ea.push(function(){return f.stop()});var k,h=new Zb(144E5);return Ea.push(function(){return h.stop()}),f.renewObservable.subscribe(function(){h.add(e(),
performance.now())}),f.expireObservable.subscribe(function(){h.closeActive(performance.now())}),f.expandOrRenewSession(),h.add(e(),[0,(void 0===xb&&(xb=performance.timing.navigationStart),xb)][0]),k=H(window,["click","touchstart","keydown","scroll"],function(){return f.expandOrRenewSession()},{capture:!0,passive:!0}).stop,Ea.push(k),function(a){var c=n(function(){"visible"===document.visibilityState&&a()}),d=I(document,"visibilitychange",c).stop;Ea.push(d);var e=setInterval(c,6E4);Ea.push(function(){clearInterval(e)})}(function(){return f.expandSession()}),
{findActiveSession:function(a){return h.find(a)},renewObservable:f.renewObservable,expireObservable:f.expireObservable}}function ec(a){var c=qb(a.cookieOptions,"logs",function(c){c="0"===c||"1"===c?c:f(a.sampleRate)?"1":"0";return{trackingType:c,isTracked:"1"===c}});return{findTrackedSession:function(a){return(a=c.findActiveSession(a))&&"1"===a.trackingType?{id:a.id}:void 0}}}function Oa(a,c,d){var e=d.getHandler();e=Array.isArray(e)?e:[e];return Ua[a]>=Ua[d.getLevel()]&&-1!==e.indexOf(c)}function L(a,
c,d,e,f){var k={};Jb.concat(["custom"]).forEach(function(a){var e,f,h,l;k[a]=(e=c.eventRateLimiterThreshold,f=function(a){d.notify(0,{rawLogsEvent:{message:a.message,date:a.startClocks.timeStamp,error:{origin:"agent"},origin:"agent",status:O.error}})},h=0,l=!1,{isLimitReached:function(){if(0===h&&setTimeout(function(){h=0},6E4),(h+=1)<=e||l)return l=!1,!1;if(h===e+1){l=!0;try{f({message:"Reached max number of ".concat(a,"s by minute: ").concat(e),source:"agent",startClocks:K()})}finally{l=!1}}return!0}})});
d.subscribe(0,function(h){var l,m,n,p=h.rawLogsEvent,q=h.messageContext;q=void 0===q?void 0:q;var t=h.savedCommonContext;t=void 0===t?void 0:t;h=h.logger;h=void 0===h?f:h;var u=p.date-(void 0===xb&&(xb=performance.timing.navigationStart),xb),v=a.findTrackedSession(u);v&&(t=t||e(),q=C({service:c.service,session_id:v.id,view:t.view},t.context,ta(u),p,h.getContext(),q),!Oa(p.status,"http",h)||!1===(null===(l=c.beforeSend)||void 0===l?void 0:l.call(c,q))||"agent"!==(null===(m=q.error)||void 0===m?void 0:
m.origin)&&(null!==(n=k[q.status])&&void 0!==n?n:k.custom).isLimitReached()||d.notify(1,q))})}function ta(a){function c(c){if(c&&c.getInternalContext)return c.getInternalContext(a)}var d,e=window;return Ra()?(e=c(e.DD_RUM_SYNTHETICS),e||Ob||(Ob=!0,function(a,c){q(xa.debug,a,c);va(k({message:a,status:"debug"},c))}("Logs sent before RUM is injected by the synthetics worker",{testId:(d=window._DATADOG_SYNTHETICS_PUBLIC_ID||W("datadog-synthetics-public-id"),"string"==typeof d?d:void 0),resultId:Va()})),
e):c(e.DD_RUM)}function X(a){a=a.map(function(a){return ub[a]||(ub[a]=function(a){var c=new fb(function(){var d=console[a];return console[a]=function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];d.apply(console,e);var h=La();p(function(){c.notify(ua(e,a,h))})},function(){console[a]=d}});return c}(a)),ub[a]});return Pa.apply(void 0,a)}function ua(a,d,e){var f=a.map(function(a){a="string"==typeof a?a:a instanceof Error?Cb(S(a)):c(a,void 0,2);return a}).join(" ");if(d===xa.error){var h=
(a=function(a,c){for(var d=0;d<a.length;d+=1){var e=a[d];if(c(e,d))return e}}(a,function(a){return a instanceof Error}))?da(S(a)):void 0;f="console error: ".concat(f)}return{api:d,message:f,stack:h,handlingStack:e}}function Ga(a,c,d){var e=a[c],f=d(e),h=function(){return f.apply(this,arguments)};return a[c]=h,{stop:function(){a[c]===h?a[c]=e:f=e}}}function eb(a,c,d){var e=d.before,f=d.after;return Ga(a,c,function(a){return function(){var c,d=arguments;return e&&p(e,this,d),"function"==typeof a&&(c=
a.apply(this,d)),f&&p(f,this,d),c}})}function pa(){var a;return la||(a=new fb(function(){var c=eb(XMLHttpRequest.prototype,"open",{before:Za}).stop,d=eb(XMLHttpRequest.prototype,"send",{before:function(){V.call(this,a)}}).stop,e=eb(XMLHttpRequest.prototype,"abort",{before:na}).stop;return function(){c();d();e()}}),la=a),la}function Za(a,c){za.set(this,{state:"open",method:a,url:ha(String(c))})}function V(a){var c=this,d=za.get(this);if(d){d.state="start";d.startTime=performance.now();d.startClocks=
K();d.isAborted=!1;d.xhr=this;var e=!1,f=eb(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&h()}}).stop,h=n(function(){if(c.removeEventListener("loadend",h),f(),!e){e=!0;d.state="complete";var l=E()-d.startClocks.timeStamp;d.duration=l;d.status=c.status;a.notify(k({},d))}});this.addEventListener("loadend",h);a.notify(d)}}function na(){var a=za.get(this);a&&(a.isAborted=!0)}function Ab(){var a;return Gb||(a=new fb(function(){if(window.fetch)return Ga(window,"fetch",
function(c){return function(d,e){var f,h=p(Ja,null,[a,d,e]);return h?(f=c.call(this,h.input,h.init),p(Lb,null,[a,f,h])):f=c.call(this,d,e),f}}).stop}),Gb=a),Gb}function Ja(a,c,d){var e=d&&d.method||"object"==typeof c&&c.method||"GET",f=ha("object"==typeof c&&c.url||c);c={state:"start",init:d,input:c,method:e,startClocks:K(),url:f};return a.notify(c),c}function Lb(a,c,d){var e=function(c){d.state="complete";var e=E()-d.startClocks.timeStamp;d.duration=e;"stack"in c||c instanceof Error?(d.status=0,
d.isAborted=c instanceof DOMException&&c.code===DOMException.ABORT_ERR,d.error=c,a.notify(d)):"status"in c&&(d.response=c,d.responseType=c.type,d.status=c.status,d.isAborted=!1,a.notify(d))};c.then(n(e),n(e))}function wa(a,c){function d(d,e){function f(a){c.notify(0,{rawLogsEvent:{message:"".concat("xhr"===d?"XHR":"Fetch"," error ").concat(e.method," ").concat(e.url),date:e.startClocks.timeStamp,error:{origin:"network",stack:a||"Failed to load"},http:{method:e.method,status_code:e.status,url:e.url},
status:O.error,origin:"network"}})}a.isIntakeUrl(e.url)||!(0===e.status&&"opaque"!==e.responseType||500<=e.status)||("xhr"in e?function(a,c,d){"string"==typeof a.response?d(Da(a.response,c)):d(a.response)}(e.xhr,a,f):e.response?function(a,c,d){window.TextDecoder?a.body?function(a,c,d){!function(a,c,d){function e(){h.read().then(n(function(a){a.done?f():(k.push(a.value),(m+=a.value.length)>c?f():e())}),n(function(a){return d(a)}))}function f(){if(h.cancel().catch(l),1===k.length)var a=k[0];else{a=
new Uint8Array(m);var e=0;k.forEach(function(c){a.set(c,e);e+=c.length})}d(void 0,a.slice(0,c),a.length>c)}var h=a.getReader(),k=[],m=0;e()}(a,c,function(a,c,e){a?d(a):(a=(new TextDecoder).decode(c),e&&(a+="..."),d(void 0,a))})}(a.clone().body,c.requestErrorResponseLengthLimit,function(a,c){d(a?"Unable to retrieve response: ".concat(a):c)}):d():a.clone().text().then(n(function(a){return d(Da(a,c))}),n(function(a){return d("Unable to retrieve response: ".concat(a))}))}(e.response,a,f):e.error&&function(a,
c,d){d(Da(da(S(a)),c))}(e.error,a,f))}if(!a.forwardErrorsToLogs)return{stop:l};var e=pa().subscribe(function(a){"complete"===a.state&&d("xhr",a)}),f=Ab().subscribe(function(a){"complete"===a.state&&d("fetch",a)});return{stop:function(){e.unsubscribe();f.unsubscribe()}}}function Da(a,c){return a.length>c.requestErrorResponseLengthLimit?"".concat(a.substring(0,c.requestErrorResponseLengthLimit),"..."):a}function Ya(a){var c=function(a){return eb(window,"onerror",{before:function(c,d,e,f,h){if(h)c=S(h),
a(c,h);else{var k;h={url:d,column:f,line:e};d=c;"[object String]"==={}.toString.call(c)&&(e=sa.exec(d))&&(k=e[1],d=e[2]);a({name:k,message:"string"==typeof d?d:void 0,stack:[h]},c)}}})}(a).stop,d=function(a){return eb(window,"onunhandledrejection",{before:function(c){c=c.reason||"Empty reason";var d=S(c);a(d,c)}})}(a).stop;return{stop:function(){c();d()}}}function Mb(a){return Ya(function(d,e){d=d&&(void 0!==d.message||e instanceof Error)?{message:d.message||"Empty message",stack:da(d),handlingStack:void 0,
type:d.name}:{message:"".concat("Uncaught"," ").concat(c(e)),stack:"No stack, consider using an instance of Error",handlingStack:void 0,type:d&&d.name};a.notify({message:d.message,stack:d.stack,type:d.type,source:"source",startClocks:K(),originalError:e,handling:"unhandled"})})}var xa={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},qa=function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];Object.prototype.hasOwnProperty.call(xa,a)||(a=xa.log);qa[a].apply(qa,c)};qa.debug=
console.debug.bind(console);qa.log=console.log.bind(console);qa.info=console.info.bind(console);qa.warn=console.warn.bind(console);qa.error=console.error.bind(console);var Ba,Qb=function(a,c,d){if(d||2===arguments.length)for(var e,f=0,h=c.length;f<h;f++)!e&&f in c||(e||(e=Array.prototype.slice.call(c,0,f)),e[f]=c[f]);return a.concat(e||Array.prototype.slice.call(c))},$a=!1,xb,yb=function(){function a(){this.buffer=[]}return a.prototype.add=function(a){500<this.buffer.push(a)&&this.buffer.splice(0,
1)},a.prototype.drain=function(){this.buffer.forEach(function(a){return a()});this.buffer.length=0},a}(),Ca,rb,bb,ca={logs:"logs",rum:"rum",sessionReplay:"session-replay"},Wa={logs:"logs",rum:"rum",sessionReplay:"replay"},ya=/[^a-z0-9_:./-]/,Wb=new RegExp("^\\s*at (.*?) ?\\(".concat("((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)").concat("(?::(\\d+))","?").concat("(?::(\\d+))","?\\)?\\s*$"),"i"),Ka=new RegExp("\\((\\S*)".concat("(?::(\\d+))").concat("(?::(\\d+))",
"\\)")),Ib=new RegExp("^\\s*at ?".concat("((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)").concat("(?::(\\d+))","?").concat("(?::(\\d+))","??\\s*$"),"i"),Bb=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ta=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,sb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,
fb=function(){function a(a){this.onFirstSubscribe=a;this.observers=[]}return a.prototype.subscribe=function(a){var c=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(a),{unsubscribe:function(){c.observers=c.observers.filter(function(c){return a!==c});!c.observers.length&&c.onLastUnsubscribe&&c.onLastUnsubscribe()}}},a.prototype.notify=function(a){this.observers.forEach(function(c){return c(a)})},a}(),gb={intervention:"intervention",
deprecation:"deprecation",cspViolation:"csp_violation"},fc=function(a,c,d,e){var f,h=arguments.length,k=3>h?c:null===e?e=Object.getOwnPropertyDescriptor(c,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(a,c,d,e);else for(var l=a.length-1;0<=l;l--)(f=a[l])&&(k=(3>h?f(k):3<h?f(c,d,k):f(c,d))||k);return 3<h&&k&&Object.defineProperty(c,d,k),k},O={debug:"debug",error:"error",info:"info",warn:"warn"},Jb=Object.keys(O),y=function(){function a(a,c,d,e,f){void 0===
d&&(d="http");void 0===e&&(e=O.debug);void 0===f&&(f={});this.handleLogStrategy=a;this.handlerType=d;this.level=e;this.contextManager=F();this.contextManager.set(k({},f,c?{logger:{name:c}}:void 0))}return a.prototype.log=function(a,c,d){void 0===d&&(d=O.info);this.handleLogStrategy({message:a,context:D(c),status:d},this)},a.prototype.debug=function(a,c){this.log(a,c,O.debug)},a.prototype.info=function(a,c){this.log(a,c,O.info)},a.prototype.warn=function(a,c){this.log(a,c,O.warn)},a.prototype.error=
function(a,c){this.log(a,C({error:{origin:"logger"}},c),O.error)},a.prototype.setContext=function(a){this.contextManager.set(a)},a.prototype.getContext=function(){return this.contextManager.get()},a.prototype.addContext=function(a,c){this.contextManager.add(a,c)},a.prototype.removeContext=function(a){this.contextManager.remove(a)},a.prototype.setHandler=function(a){this.handlerType=a},a.prototype.getHandler=function(){return this.handlerType},a.prototype.setLevel=function(a){this.level=a},a.prototype.getLevel=
function(){return this.level},fc([h],a.prototype,"log",null),a}(),Ia,kb=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],gc=["ddog-gov.com"],ka={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1},Nb=/[^\u0000-\u007F]/,hb=function(){function a(a,c,d,e,f,h){void 0===h&&(h=l);this.request=a;this.batchMessagesLimit=c;this.batchBytesLimit=d;this.messageBytesLimit=e;this.flushTimeout=f;this.beforeUnloadCallback=h;this.pushOnlyBuffer=
[];this.upsertBuffer={};this.bufferMessagesCount=this.bufferBytesCount=0;this.flushOnVisibilityHidden();this.flushPeriodically()}return a.prototype.add=function(a){this.addOrUpdate(a)},a.prototype.upsert=function(a,c){this.addOrUpdate(a,c)},a.prototype.flush=function(){if(0!==this.bufferMessagesCount){var a=this.pushOnlyBuffer.concat(B(this.upsertBuffer)),c=this.bufferBytesCount;this.pushOnlyBuffer=[];this.upsertBuffer={};this.bufferMessagesCount=this.bufferBytesCount=0;this.request.send(a.join("\n"),
c)}},a.prototype.computeBytesCount=function(a){return Nb.test(a)?void 0!==window.TextEncoder?(new TextEncoder).encode(a).length:(new Blob([a])).size:a.length},a.prototype.addOrUpdate=function(a,c){var d=this.process(a);a=d.processedMessage;d=d.messageBytesCount;d>=this.messageBytesLimit?qa.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(c)&&this.remove(c),this.willReachedBytesLimitWith(d)&&this.flush(),this.push(a,
d,c),this.isFull()&&this.flush())},a.prototype.process=function(a){a=c(a);return{processedMessage:a,messageBytesCount:this.computeBytesCount(a)}},a.prototype.push=function(a,c,d){0<this.bufferMessagesCount&&(this.bufferBytesCount+=1);void 0!==d?this.upsertBuffer[d]=a:this.pushOnlyBuffer.push(a);this.bufferBytesCount+=c;this.bufferMessagesCount+=1},a.prototype.remove=function(a){var c=this.upsertBuffer[a];delete this.upsertBuffer[a];a=this.computeBytesCount(c);this.bufferBytesCount-=a;--this.bufferMessagesCount;
0<this.bufferMessagesCount&&--this.bufferBytesCount},a.prototype.hasMessageFor=function(a){return void 0!==a&&void 0!==this.upsertBuffer[a]},a.prototype.willReachedBytesLimitWith=function(a){return this.bufferBytesCount+a+1>=this.batchBytesLimit},a.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},a.prototype.flushPeriodically=function(){var a=this;setTimeout(n(function(){a.flush();a.flushPeriodically()}),this.flushTimeout)},
a.prototype.flushOnVisibilityHidden=function(){var a=this;navigator.sendBeacon&&(I(window,"beforeunload",this.beforeUnloadCallback),I(document,"visibilitychange",function(){"hidden"===document.visibilityState&&a.flush()}),I(window,"beforeunload",function(){return a.flush()}))},a}(),hc=function(){function a(a,c){this.endpointBuilder=a;this.bytesLimit=c}return a.prototype.send=function(a,c){var d=this.endpointBuilder.build();if(navigator.sendBeacon&&c<this.bytesLimit)try{if(navigator.sendBeacon(d,a))return}catch(ab){c=
ab,Eb||(Eb=!0,jb(c)),!0}c=new XMLHttpRequest;c.open("POST",d,!0);c.send(a)},a}(),Eb=!1,Fb=1/0,Zb=function(){function a(a){var c=this;this.expireDelay=a;this.entries=[];this.clearOldContextsInterval=setInterval(function(){return c.clearOldContexts()},6E4)}return a.prototype.add=function(a,c){var d=this,e={context:a,startTime:c,endTime:Fb,remove:function(){var a=d.entries.indexOf(e);0<=a&&d.entries.splice(a,1)},close:function(a){e.endTime=a}};return this.entries.unshift(e),e},a.prototype.find=function(a){void 0===
a&&(a=Fb);for(var c=0,d=this.entries;c<d.length;c++){var e=d[c];if(e.startTime<=a){if(a<=e.endTime)return e.context;break}}},a.prototype.closeActive=function(a){var c=this.entries[0];c&&c.endTime===Fb&&c.close(a)},a.prototype.findAll=function(a){return void 0===a&&(a=Fb),this.entries.filter(function(c){return c.startTime<=a&&a<=c.endTime}).map(function(a){return a.context})},a.prototype.reset=function(){this.entries=[]},a.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},a.prototype.clearOldContexts=
function(){for(var a=performance.now()-this.expireDelay;0<this.entries.length&&this.entries[this.entries.length-1].endTime<a;)this.entries.pop()},a}(),nb,tb=/^([a-z]+)=([a-z0-9-]+)$/,Vb=[],Ea=[],T,Ua=((T={})[O.debug]=0,T[O.info]=1,T[O.warn]=2,T[O.error]=3,T),Ob=!1,Ma,ub={},Fa,vb=((Ma={})[xa.log]=O.info,Ma[xa.debug]=O.debug,Ma[xa.info]=O.info,Ma[xa.warn]=O.warn,Ma[xa.error]=O.error,Ma),la,ib=((Fa={})[gb.cspViolation]=O.error,Fa[gb.intervention]=O.error,Fa[gb.deprecation]=O.warn,Fa),Gb,za=new WeakMap,
sa=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/,zb=function(){function a(){this.callbacks={}}return a.prototype.notify=function(a,c){(a=this.callbacks[a])&&a.forEach(function(a){return a(c)})},a.prototype.subscribe=function(a,c){var d=this;return this.callbacks[a]||(this.callbacks[a]=[]),this.callbacks[a].push(c),{unsubscribe:function(){d.callbacks[a]=d.callbacks[a].filter(function(a){return c!==a})}}},a}(),$b=function(a){function c(){return{view:{referrer:document.referrer,
url:window.location.href},context:l.get()}}var e,f,h=!1,l=F(),m={},p=function(){},q=new yb,t=function(a,d,e,f){void 0===e&&(e=D(c()));void 0===f&&(f=E());q.add(function(){return t(a,d,e,f)})},u=function(){},v=new y(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return t.apply(void 0,a)});return e={logger:v,init:n(function(d){var e;if(Y()&&(d=k({},d,{clientToken:"empty"})),!h||(d.silentMultipleInit||qa.error("DD_LOGS is already initialized."),!1)){var f=function(a){var c=cb(a),
d=M(a.forwardConsoleLogs,B(xa),"Forward Console Logs"),e=M(a.forwardReports,B(gb),"Forward Reports");if(c&&d&&e)return a.forwardErrorsToLogs&&-1===d.indexOf(xa.error)&&d.push(xa.error),k({forwardErrorsToLogs:!1!==a.forwardErrorsToLogs,forwardConsoleLogs:d,forwardReports:e,requestErrorResponseLengthLimit:32768},c)}(d);f&&(e=a(f,c,v),t=e.handleLog,p=e.getInternalContext,u=function(){return D(d)},q.drain(),h=!0)}}),getLoggerGlobalContext:n(l.get),getGlobalContext:n(l.getContext),setLoggerGlobalContext:n(l.set),
setGlobalContext:n(l.setContext),addLoggerGlobalContext:n(l.add),setGlobalContextProperty:n(l.setContextProperty),removeLoggerGlobalContext:n(l.remove),removeGlobalContextProperty:n(l.removeContextProperty),clearGlobalContext:n(l.clearContext),createLogger:n(function(a,c){return void 0===c&&(c={}),m[a]=new y(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return t.apply(void 0,a)},a,c.handler,c.level,c.context),m[a]}),getLogger:n(function(a){return m[a]}),getInitConfiguration:n(function(){return u()}),
getInternalContext:n(function(a){return p(a)})},f=k({version:"4.17.0",onReady:function(a){a()}},e),Object.defineProperty(f,"_setDebug",{get:function(){return d},enumerable:!1}),f}(function(c,d,e){var h=new zb;(function(a){var c,d=Sa(a);if(Y()){var e=N();d.observable.subscribe(function(a){return e.send("internal_telemetry",a)})}else{var f=pb(a,a.rumEndpointBuilder,null===(c=a.replica)||void 0===c?void 0:c.rumEndpointBuilder);d.observable.subscribe(function(c){return f.add(c,"datad0g.com"===a.site)})}return d})(c).setContextProvider(function(){var a,
c,d,e,f,h;return{application:{id:null===(a=ta())||void 0===a?void 0:a.application_id},session:{id:null===(c=n.findTrackedSession())||void 0===c?void 0:c.id},view:{id:null===(e=null===(d=ta())||void 0===d?void 0:d.view)||void 0===e?void 0:e.id},action:{id:null===(h=null===(f=ta())||void 0===f?void 0:f.user_action)||void 0===h?void 0:h.id}}});wa(c,h);(function(a,c){if(!a.forwardErrorsToLogs)return{stop:l};a=new fb;Mb(a);a.subscribe(function(a){c.notify(0,{rawLogsEvent:{message:a.message,date:a.startClocks.timeStamp,
error:{kind:a.type,origin:"source",stack:a.stack},origin:"source",status:O.error}})})})(c,h);(function(a,c){X(a.forwardConsoleLogs).subscribe(function(a){c.notify(0,{rawLogsEvent:{date:E(),message:a.message,origin:"console",error:a.api===xa.error?{origin:"console",stack:a.stack}:void 0,status:vb[a.api]}})})})(c,h);(function(a,c){db(a.forwardReports).subscribe(function(a){var d,e=a.message,f=ib[a.type];f===O.error?d={kind:a.subtype,origin:"report",stack:a.stack}:a.stack&&(e+=" Found in ".concat(function(a){var c;
return null===(c=/@ (.+)/.exec(a))||void 0===c?void 0:c[1]}(a.stack)));c.notify(0,{rawLogsEvent:{date:E(),message:e,origin:"report",error:d,status:f}})})})(c,h);var k,m=function(a){return{handleLog:function(c,d,e,f){var h=c.context;Oa(c.status,"console",d)&&qa(c.status,c.message,C(d.getContext(),h));a.notify(0,{rawLogsEvent:{date:f||E(),message:c.message,status:c.status,origin:"logger"},messageContext:h,savedCommonContext:e,logger:d})}}}(h).handleLog,n=!function(c){if(void 0===document.cookie||null===
document.cookie)return!1;try{var d="dd_cookie_test_".concat(a());P(d,"test",1E3,c);var e="test"===W(d);P(d,"",0,c);return e}catch(tc){return qa.error(tc),!1}}(c.cookieOptions)||Y()||Ra()?function(a){var c="1"===(f(a.sampleRate)?"1":"0")?{}:void 0;return{findTrackedSession:function(){return c}}}(c):ec(c);return L(n,c,h,d,e),Y()?function(a){var c=N();a.subscribe(1,function(a){c.send("log",a)})}(h):function(a,c){var d,e=pb(a,a.logsEndpointBuilder,null===(d=a.replica)||void 0===d?void 0:d.logsEndpointBuilder);
c.subscribe(1,function(a){e.add(a)})}(c,h),{handleLog:m,getInternalContext:(k=n,{get:function(a){if(a=k.findTrackedSession(a))return{session_id:a.id}}}).get}});var Pb=G();var lb=Pb.DD_LOGS;Pb.DD_LOGS=$b;lb&&lb.q&&lb.q.forEach(function(a){return m(a,"onReady callback threw an error:")()})}();define("vendor/datadog/datadog-logs-v4",function(){});
define("app/utilities/datadogLogger",["app/events","app/utilities/XyTools","vendor/datadog/datadog-logs-v4"],function(m,d){var h={init:function(){window.DD_LOGS&&(window.DD_LOGS.init({service:"wps-jlp",env:"debug",version:window.Xyleme.environment.XPE_BUILD_VERSION,clientToken:"pub0e569a2d8ff0d8daf9e5ee7a00a9ad67",forwardErrorsToLogs:!0,forwardConsoleLogs:"all",sampleRate:100}),window.DD_LOGS.addLoggerGlobalContext("context.sessionId",d.generateUUID()),window.DD_LOGS.addLoggerGlobalContext("context.courseTitle",
window.document.title),window.DD_LOGS.addLoggerGlobalContext("context.outputType",window.Xyleme.environment.outputType),window.DD_LOGS.addLoggerGlobalContext("context.scormType",window.Xyleme.environment.SCORM_TYPE))},loadExternalFunctionality:function(){var d=document.createElement("script");d.src="https://cdn.prod-us.xyleme.com/jlpDebugMode/debug.js";document.head.appendChild(d)}};m.on("XyTools.init:after",function(d){d.config.debugMode&&window.Xyleme.environment.IS_DEPLOY&&(h.init(),h.loadExternalFunctionality())});
m.on("externaldata.recieved",function(d){window.DD_LOGS.addLoggerGlobalContext("context.userId",d.userId);window.DD_LOGS.addLoggerGlobalContext("context.userName",d.userName)});return h});
define("app/app","module jquery app/loader app/configuration app/utilities/XyTools app/events vendor/fastclick/fastclick vendor/polyfill/polyfill app/utilities/datadogLogger".split(" "),function(m,d,h,n,p,q,t){var k=function(){this.config={contentWrapper:"#PageBody",namespace:"Xyleme",appName:"App"}};k.prototype.init=function(){var a=this;this.config=d.extend(this.config,n.configure(m.id));window[this.config.namespace]=window[this.config.namespace]||{};window[this.config.namespace][this.config.appName]=
this;q.trigger("app.init:before",this);q.init();n.init();p.init();h.init();t.attach(document.body);q.trigger("app.init:after",this);q.trigger("app.ready",!0,this);d(this.config.contentWrapper).hasClass("LoadingFragment")&&(d(this.config.contentWrapper).removeClass("LoadingFragment"),q.trigger("player.data:load",window.location.pathname.match(/([^\/]+)(\.\w+$)/i)[0]),window.Xyleme.environment.loaded?q.trigger("content.loaded",a.config.contentWrapper):window.addEventListener("load",function l(){window.removeEventListener("load",
l,!1);q.trigger("content.loaded",a.config.contentWrapper)}))};k.prototype.on=function(a,d){return q.on(a,d)};k=new k;q.trigger("app.loaded",!0,k);return k});
define("forceContentToFit",["app/events","app/utilities/scaleContainer"],function(m,d){return{init:function(){m.on("contentRegion.loaded",function(h){h.handleContainerScaling=function(){/^true$/i.test(h.config.scaling.enabled)&&(h.scaler=new d({selector:h.config.scaling.selector,width:h.config.scaling.width,height:h.config.scaling.height,noscrollSelector:h.config.scaling.noscrollSelector}));if(/^true$/i.test(h.config.scaling.forceContentFit)){var n=_.throttle(function(){var d=$("#PageBody"),h=$("#PageBodyWrapper");
h=.1*(10*Math.min(h.outerHeight()/d[0].scrollHeight,h.outerWidth()/d[0].scrollWidth)<<0);d.css({overflow:"visible",transformOrigin:"center top",transform:"scale("+h+")"})},500);$(window).on("resize.forceContentToFit",n);m.on("content.loaded",n);m.on("figure.imageLoaded:after",n)}}})}}});
define("presenterView","module underscore app/events app/utilities/XyTools app/courseApi skin/components/component/component".split(" "),function(m,d,h,n,p,q){var t={name:"presenterView",id:m.id,displayName:"Presenter View",type:"active",enabled:!0,hideLinksIfEmpty:!1,linkSelector:".PresenterViewLink",linkAction:"openView",zIndex:100,startVisible:!0,initAfter:"initAfter",renderAfter:"renderAfter",noteSelector:".SlideNote",navTreeSelector:".InnerFooterThumbnailsContent",blackScreenId:"PresenterView_BlackScreen",
hotkeyCombination:"ALT+ENTER"};m=function(d){q.call(this,t,d)};m.prototype=Object.create(q.prototype);m.constructor=m;m.config=t;m.prototype.initAfter=function(){var d=new BroadcastChannel("xyleme_presenter_view"),a=this.handlePageLoad.bind(this),f=this.handleMessage.bind(this),l=this;window.presenterViewGuid?(this.broadcastChannel=d,h.on("content.loaded",a),h.on("course.unload",function(){if(l.presenterViewWindow)try{l.presenterViewWindow.close()}catch(c){}}),h.on("navigationButtons.render:after",
function(a){l.navigationButtons=a;l.navigationButtons.$previousButton.add(l.navigationButtons.$nextButton).on("click.presenterView",function(){l.$blackScreen&&l.$blackScreen.addClass("hide");window.setTimeout(function(){l.broadcastChannel.postMessage({type:"updateSlidePreview",content:l.$bodyWrapper.html()})},400)})}),d.onmessage=f,document.addEventListener("keydown",function(a){switch(a.code){case "KeyB":l.$blackScreen&&l.$blackScreen.toggleClass("hide");break;default:l.$blackScreen&&l.$blackScreen.addClass("hide")}})):
(this.hideLink(),this.disable())};m.prototype.renderAfter=function(){this.$bodyWrapper=$(this.config.contentContainerSelector).parent();this.$blackScreen=$('<div id="'+this.config.blackScreenId+'" class="hide"></div>');this.$navigationTreeWrapper=$(this.config.navTreeSelector);this.$bodyWrapper.append(this.$blackScreen)};m.prototype.handlePageLoad=function(h){var a=$(h),f=[],k=this;if(n.isContentContainer(h))this.menuItems=p.getMenuItems().filter(function(a){return a&&null!=a.href&&""!==a.href&&!a.inaccessible}),
this.currentMenuItem=d.find(this.menuItems,function(a){return!0===a.active}),this.currentMenuItemIndex=d.indexOf(this.menuItems,this.currentMenuItem)+1,a.find(this.config.noteSelector).each(function(){f.push($(this).html())}),this.currentSlideNotes=f,this.$blackScreen&&this.$blackScreen.addClass("hide"),this.broadcastChannel.postMessage({type:"spinner",action:"hide"}),this.broadcastChannel.postMessage({type:"updateSlideNotes",notes:f}),this.broadcastChannel.postMessage({type:"updatePageCount",current:this.currentMenuItemIndex,
max:this.menuItems.length}),this.broadcastChannel.postMessage({type:"updateSlideThumbnails",content:this.$navigationTreeWrapper.html()}),window.setTimeout(function(){k.broadcastChannel.postMessage({type:"updateSlidePreview",content:k.$bodyWrapper.html()})},400);else return!1};m.prototype.handleMessage=function(d){var a=this;switch(d.data.type){case "getCurrentSlideNotes":this.broadcastChannel.postMessage({type:"updateSlideNotes",notes:this.currentSlideNotes});break;case "getCurrentSlidePreview":this.$blackScreen&&
this.$blackScreen.addClass("hide");window.setTimeout(function(){a.broadcastChannel.postMessage({type:"updateSlidePreview",content:a.$bodyWrapper.html()})},400);break;case "getSlideThumbnails":a.broadcastChannel.postMessage({type:"updateSlideThumbnails",content:a.$navigationTreeWrapper.html()});break;case "getPageCount":this.broadcastChannel.postMessage({type:"updatePageCount",current:this.currentMenuItemIndex,max:this.menuItems.length});break;case "getNavigationButtons":break;case "requestNavigation":d.data.direction&&
(a.broadcastChannel.postMessage({type:"spinner",action:"show"}),"next"===d.data.direction?a.navigationButtons.$nextButton.click():"back"===d.data.direction?a.navigationButtons.$previousButton.click():"choice"===d.data.direction&&$("#"+d.data.item).click());break;case "blackscreen":switch(d.data.action){case "show":this.$blackScreen&&this.$blackScreen.removeClass("hide");break;case "toggle":this.$blackScreen&&this.$blackScreen.toggleClass("hide");break;default:this.$blackScreen&&this.$blackScreen.addClass("hide")}break;
case "closePresenterView":if(this.presenterViewWindow)try{this.presenterViewWindow.close()}catch(f){}break;default:console.log(d.data)}};m.prototype.openView=function(){if(!this.presenterViewWindow||this.presenterViewWindow.closed)this.presenterViewWindow=window.open(window.presenterViewGuid+".html","presenterView");else try{this.presenterViewWindow.focus()}catch(k){}};h.trigger("presenterView.loaded",!0,m);return m});
define("backgroundImage",["underscore","app/utilities/helper/helperView","app/utilities/XyTools","app/events","app/configuration"],function(m,d,h,n,p){m=d.extend({activeLayoutChanges:{},init:function(d){d||(d={});this.config=this.constructor.config;this.config.backgroundImageGradient=this.config.backgroundImageGradient||"none";this.index=d.index||0;this.id=""+this.constructor.displayName+this.index;n.on("content.loaded",function(d){h.isContentContainer(d)&&(this.container=$(this.config.applyToSelector),
this.render())}.bind(this));n.on("navigation.removeContent:after",this.remove)},render:function(){this.backgroundImage=$(this.config.imageSelector);this.skipGradient=!!$(this.config.backgroundImageGradientSkipSelector).length;this.backgroundImage.length&&(this.attachSpinner(),this.normalizeLayout(),this.backgroundImage.one("load",function(){this.imageLoaded=!0;this.applyBackground();this.antiStutterTimeout=setTimeout(this.removeSpinner.bind(this),200);clearTimeout(this.loadTimeoutTimer)}.bind(this)).on("error",
this.removeSpinner.bind(this)),this.loadTimeoutTimer=setTimeout(this.removeSpinner.bind(this),this.config.loadTimeout))},attachSpinner:function(){this.spinnerWrap=$("<div>").addClass(this.config.spinnerWrapClass);this.spinnerClone=$("<div>").addClass(this.config.spinnerCloneClass);this.spinnerClone.appendTo(this.spinnerWrap);$(this.container).prepend(this.spinnerWrap)},removeSpinner:function(){this.spinnerWrap&&this.spinnerWrap.length&&this.spinnerWrap.remove()},normalizeLayout:function(){var d,h;
for(d in this.config.layoutChanges){this.activeLayoutChanges[d]={};for(h in this.config.layoutChanges[d])this.activeLayoutChanges[d][h]=$(d)[0].style[h];$(d).css(this.config.layoutChanges[d])}},resetLayout:function(){for(var d in this.config.layoutChanges)this.activeLayoutChanges[d]&&$(d).css(this.activeLayoutChanges[d]);this.activeLayoutChanges={}},applyBackground:function(){this.prevBackgroundImageStyle=this.container[0].style.backgroundImage;this.container.css(this.skipGradient?{backgroundImage:"url('"+
this.backgroundImage[0].src+"')"}:{backgroundImage:this.config.backgroundImageGradient+", url('"+this.backgroundImage[0].src+"')"}).addClass(this.config.backgroundImageContainerClass)},remove:function(){this.container&&this.container.length&&this.container.css({backgroundImage:this.prevBackgroundImageStyle||""}).removeClass(this.config.backgroundImageContainerClass);this.prevBackgroundImageStyle=null;this.resetLayout();this.removeSpinner();this.imageLoaded=!1;this.backgroundImage.off("load");clearTimeout(this.loadTimeoutTimer);
clearTimeout(this.antiStutterTimeout);this.constructor.__super__.remove.call(this)}},{displayName:"Background Image",config:h.extend({imageSelector:"#BackgroundImage",applyToSelector:"#PageBody",spinnerWrapClass:"SpinnerWrap",spinnerCloneClass:"Spinner",backgroundImageContainerClass:"FullBackgroundImage",backgroundImageGradient:"linear-gradient(180deg, rgba(255,255,255, 0.5) 50%, rgba(255, 255, 255, 0) 100%)",backgroundImageGradientSkipSelector:"",layoutChanges:{},loadTimeout:3E3},p.configure("BackgroundImage"))});
n.trigger("backgroundImage.loaded",!0,m);return m});define("skipBackAutoAnimation",["app/events"],function(m){return{init:function(){m.on("animateContent.loaded",function(d){d.prototype.handleNavigation=function(d,m,p){var h=d[0];if(d[1]||!this.elAmount)m();else switch(h){case "next":this.isAtBoundary(h)?m():(this.animateNext(),p());break;case "previous":this.isAtBoundary(h)||this.config.auto?m():(this.animatePrevious(),p());break;default:m()}}})}}});
define("custom",["app/events","forceContentToFit","presenterView","backgroundImage","skipBackAutoAnimation"],function(m,d,h,n,p){return{init:function(){m.on("components.loaded",function(d){d.modules.push(h)});(new n).init();d.init();p.init();m.on("navigationTree.loaded",function(d){var h=d.prototype.renderAfter;d.prototype.renderAfter=function(){m.on("content.remove",function(){this.enabled=!1;this.$wrapper.removeClass("Open")}.bind(this));m.on("content.loaded",function(){this.enabled=!0}.bind(this));
this.showLink();h.call(this);this.$wrapper=this.$el.parent(".NavigationTreeThumbnails")};d.prototype.toggleContent=function(){this.enabled&&(this.$wrapper.toggleClass("Open"),this.showContent())}})}}});require(["app/app","custom"],function(m,d){d&&"function"===typeof d.init&&d.init();m.init()});define("setup",function(){}); 
//# sourceMappingURL=setup.js.map

